var My=Object.create;var si=Object.defineProperty;var ky=Object.getOwnPropertyDescriptor;var Fy=Object.getOwnPropertyNames;var Ry=Object.getPrototypeOf,Zy=Object.prototype.hasOwnProperty;var Pr=(e,r)=>()=>(e&&(r=e(e=0)),r);var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),qr=(e,r)=>{for(var t in r)si(e,t,{get:r[t],enumerable:!0})},ui=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Fy(r))!Zy.call(e,i)&&i!==t&&si(e,i,{get:()=>r[i],enumerable:!(n=ky(r,i))||n.enumerable});return e},q=(e,r,t)=>(ui(e,r,"default"),t&&ui(t,r,"default")),ke=(e,r,t)=>(t=e!=null?My(Ry(e)):{},ui(r||!e||!e.__esModule?si(t,"default",{value:e,enumerable:!0}):t,e)),Fe=e=>ui(si({},"__esModule",{value:!0}),e);var Vl=d(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.AgentType=void 0;var Dl;(function(e){e.Published="Published",e.Prebuilt="Prebuilt"})(Dl||(ci.AgentType=Dl={}))});var ls={};qr(ls,{AgentType:()=>cs});var cs,li=Pr(()=>{"use strict";cs=(t=>(t.Published="Published",t.Prebuilt="Prebuilt",t))(cs||{})});var fs={};qr(fs,{PowerPlatformCloud:()=>ds});var ds,di=Pr(()=>{"use strict";ds=(O=>(O.Unknown="Unknown",O.Exp="Exp",O.Dev="Dev",O.Test="Test",O.Preprod="Preprod",O.FirstRelease="FirstRelease",O.Prod="Prod",O.Gov="Gov",O.High="High",O.DoD="DoD",O.Mooncake="Mooncake",O.Ex="Ex",O.Rx="Rx",O.Prv="Prv",O.Local="Local",O.GovFR="GovFR",O.Other="Other",O))(ds||{})});var $l=d(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.loadCopilotStudioConnectionSettingsFromEnv=at.ConnectionSettings=void 0;var vs=(li(),Fe(ls)),ps=(di(),Fe(fs)),hs=class{constructor(){this.appClientId="",this.tenantId="",this.authority="",this.environmentId="",this.agentIdentifier="",this.useExperimentalEndpoint=!1}},fi=class extends hs{constructor(r){var t,n;if(super(),!r)return;let i=(t=r.cloud)!==null&&t!==void 0?t:ps.PowerPlatformCloud.Prod,o=(n=r.copilotAgentType)!==null&&n!==void 0?n:vs.AgentType.Published,a=r.authority&&r.authority.trim()!==""?r.authority:"https://login.microsoftonline.com";if(!Object.values(ps.PowerPlatformCloud).includes(i))throw new Error(`Invalid PowerPlatformCloud: '${i}'. Supported values: ${Object.values(ps.PowerPlatformCloud).join(", ")}`);if(!Object.values(vs.AgentType).includes(o))throw new Error(`Invalid AgentType: '${o}'. Supported values: ${Object.values(vs.AgentType).join(", ")}`);Object.assign(this,{...r,cloud:i,copilotAgentType:o,authority:a})}};at.ConnectionSettings=fi;var Uy=()=>{var e,r,t,n,i,o;return new fi({appClientId:(e=process.env.appClientId)!==null&&e!==void 0?e:"",tenantId:(r=process.env.tenantId)!==null&&r!==void 0?r:"",authority:(t=process.env.authorityEndpoint)!==null&&t!==void 0?t:"https://login.microsoftonline.com",environmentId:(n=process.env.environmentId)!==null&&n!==void 0?n:"",agentIdentifier:(i=process.env.agentIdentifier)!==null&&i!==void 0?i:"",cloud:process.env.cloud,customPowerPlatformCloud:process.env.customPowerPlatformCloud,copilotAgentType:process.env.copilotAgentType,directConnectUrl:process.env.directConnectUrl,useExperimentalEndpoint:((o=process.env.useExperimentalEndpoint)===null||o===void 0?void 0:o.toLowerCase())==="true"})};at.loadCopilotStudioConnectionSettingsFromEnv=Uy});var Wl=d(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var Cn=class extends Error{constructor(r,t){super(r),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}};function ms(e){}function Ly(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:r=ms,onError:t=ms,onRetry:n=ms,onComment:i}=e,o="",a=!0,u,l="",s="";function f(y){let _=a?y.replace(/^\xEF\xBB\xBF/,""):y,[O,R]=Ny(`${o}${_}`);for(let V of O)v(V);o=R,a=!1}function v(y){if(y===""){b();return}if(y.startsWith(":")){i&&i(y.slice(y.startsWith(": ")?2:1));return}let _=y.indexOf(":");if(_!==-1){let O=y.slice(0,_),R=y[_+1]===" "?2:1,V=y.slice(_+R);m(O,V,y);return}m(y,"",y)}function m(y,_,O){switch(y){case"event":s=_;break;case"data":l=`${l}${_}
`;break;case"id":u=_.includes("\0")?void 0:_;break;case"retry":/^\d+$/.test(_)?n(parseInt(_,10)):t(new Cn(`Invalid \`retry\` value: "${_}"`,{type:"invalid-retry",value:_,line:O}));break;default:t(new Cn(`Unknown field "${y.length>20?`${y.slice(0,20)}\u2026`:y}"`,{type:"unknown-field",field:y,value:_,line:O}));break}}function b(){l.length>0&&r({id:u,event:s||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),u=void 0,l="",s=""}function g(y={}){o&&y.consume&&v(o),a=!0,u=void 0,l="",s="",o=""}return{feed:f,reset:g}}function Ny(e){let r=[],t="",n=0;for(;n<e.length;){let i=e.indexOf("\r",n),o=e.indexOf(`
`,n),a=-1;if(i!==-1&&o!==-1?a=Math.min(i,o):i!==-1?i===e.length-1?a=-1:a=i:o!==-1&&(a=o),a===-1){t=e.slice(n);break}else{let u=e.slice(n,a);r.push(u),n=a+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[r,t]}vi.ParseError=Cn;vi.createParser=Ly});var Gl=d(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});var zy=Wl(),ys="connecting",Bl="open",hi="closed",pi=()=>{};function Dy(e,{getStream:r}){let t=typeof e=="string"||e instanceof URL?{url:e}:e,{onMessage:n,onComment:i=pi,onConnect:o=pi,onDisconnect:a=pi,onScheduleReconnect:u=pi}=t,{fetch:l,url:s,initialLastEventId:f}=Vy(t),v={...t.headers},m=[],b=n?[n]:[],g=W=>b.forEach(we=>we(W)),y=zy.createParser({onEvent:xy,onRetry:Ty,onComment:i}),_,O=s.toString(),R=new AbortController,V=f,G=2e3,ye,B=hi;return wr(),{close:Pn,connect:wr,[Symbol.iterator]:()=>{throw new Error("EventSource does not support synchronous iteration. Use `for await` instead.")},[Symbol.asyncIterator]:ss,get lastEventId(){return V},get url(){return O},get readyState(){return B}};function wr(){_||(B=ys,R=new AbortController,_=l(s,Ey()).then(Ay).catch(W=>{_=null,!(W.name==="AbortError"||W.type==="aborted"||R.signal.aborted)&&Ll()}))}function Pn(){B=hi,R.abort(),y.reset(),clearTimeout(ye),m.forEach(W=>W())}function ss(){let W=[],we=[];function qn(){return new Promise(ne=>{let Se=we.shift();Se?ne({value:Se,done:!1}):W.push(ne)})}let ot=function(ne){let Se=W.shift();Se?Se({value:ne,done:!1}):we.push(ne)};function Sr(){for(b.splice(b.indexOf(ot),1);W.shift(););for(;we.shift(););}function jn(){let ne=W.shift();ne&&(ne({done:!0,value:void 0}),Sr())}return m.push(jn),b.push(ot),{next(){return B===hi?this.return():qn()},return(){return Sr(),Promise.resolve({done:!0,value:void 0})},throw(ne){return Sr(),Promise.reject(ne)},[Symbol.asyncIterator](){return this}}}function Ll(){u({delay:G}),!R.signal.aborted&&(B=ys,ye=setTimeout(wr,G))}async function Ay(W){o(),y.reset();let{body:we,redirected:qn,status:ot}=W;if(ot===204){a(),Pn();return}if(!we)throw new Error("Missing response body");qn&&(O=W.url);let Sr=r(we),jn=new TextDecoder,ne=Sr.getReader(),Se=!0;B=Bl;do{let{done:Nl,value:zl}=await ne.read();zl&&y.feed(jn.decode(zl,{stream:!Nl})),Nl&&(Se=!1,_=null,y.reset(),Ll(),a())}while(Se)}function xy(W){typeof W.id=="string"&&(V=W.id),g(W)}function Ty(W){G=W}function Ey(){let{mode:W,credentials:we,body:qn,method:ot,redirect:Sr,referrer:jn,referrerPolicy:ne}=t,Se={Accept:"text/event-stream",...v,...V?{"Last-Event-ID":V}:void 0};return{mode:W,credentials:we,body:qn,method:ot,redirect:Sr,referrer:jn,referrerPolicy:ne,headers:Se,cache:"no-store",signal:R.signal}}}function Vy(e){let r=e.fetch||globalThis.fetch;if(!$y(r))throw new Error("No fetch implementation provided, and one was not found on the global object.");if(typeof AbortController!="function")throw new Error("Missing AbortController implementation");let{url:t,initialLastEventId:n}=e;if(typeof t!="string"&&!(t instanceof URL))throw new Error("Invalid URL provided - must be string or URL instance");if(typeof n!="string"&&n!==void 0)throw new Error("Invalid initialLastEventId provided - must be string or undefined");return{fetch:r,url:t,initialLastEventId:n}}function $y(e){return typeof e=="function"}var Wy={getStream:Gy};function By(e){return Dy(e,Wy)}function Gy(e){if(!(e instanceof ReadableStream))throw new Error("Invalid stream, expected a web ReadableStream");return e}ut.CLOSED=hi;ut.CONNECTING=ys;ut.OPEN=Bl;ut.createEventSource=By});var Hl=d((bZ,Yl)=>{var st=1e3,ct=st*60,lt=ct*60,jr=lt*24,Yy=jr*7,Hy=jr*365.25;Yl.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return Ky(e);if(t==="number"&&isFinite(e))return r.long?Qy(e):Jy(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ky(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Hy;case"weeks":case"week":case"w":return t*Yy;case"days":case"day":case"d":return t*jr;case"hours":case"hour":case"hrs":case"hr":case"h":return t*lt;case"minutes":case"minute":case"mins":case"min":case"m":return t*ct;case"seconds":case"second":case"secs":case"sec":case"s":return t*st;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Jy(e){var r=Math.abs(e);return r>=jr?Math.round(e/jr)+"d":r>=lt?Math.round(e/lt)+"h":r>=ct?Math.round(e/ct)+"m":r>=st?Math.round(e/st)+"s":e+"ms"}function Qy(e){var r=Math.abs(e);return r>=jr?mi(e,r,jr,"day"):r>=lt?mi(e,r,lt,"hour"):r>=ct?mi(e,r,ct,"minute"):r>=st?mi(e,r,st,"second"):e+" ms"}function mi(e,r,t,n){var i=r>=t*1.5;return Math.round(e/t)+" "+n+(i?"s":"")}});var Jl=d((gZ,Kl)=>{function Xy(e){t.debug=t,t.default=t,t.coerce=l,t.disable=a,t.enable=i,t.enabled=u,t.humanize=Hl(),t.destroy=s,Object.keys(e).forEach(f=>{t[f]=e[f]}),t.names=[],t.skips=[],t.formatters={};function r(f){let v=0;for(let m=0;m<f.length;m++)v=(v<<5)-v+f.charCodeAt(m),v|=0;return t.colors[Math.abs(v)%t.colors.length]}t.selectColor=r;function t(f){let v,m=null,b,g;function y(..._){if(!y.enabled)return;let O=y,R=Number(new Date),V=R-(v||R);O.diff=V,O.prev=v,O.curr=R,v=R,_[0]=t.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let G=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(B,wr)=>{if(B==="%%")return"%";G++;let Pn=t.formatters[wr];if(typeof Pn=="function"){let ss=_[G];B=Pn.call(O,ss),_.splice(G,1),G--}return B}),t.formatArgs.call(O,_),(O.log||t.log).apply(O,_)}return y.namespace=f,y.useColors=t.useColors(),y.color=t.selectColor(f),y.extend=n,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(b!==t.namespaces&&(b=t.namespaces,g=t.enabled(f)),g),set:_=>{m=_}}),typeof t.init=="function"&&t.init(y),y}function n(f,v){let m=t(this.namespace+(typeof v=="undefined"?":":v)+f);return m.log=this.log,m}function i(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let v=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let m of v)m[0]==="-"?t.skips.push(m.slice(1)):t.names.push(m)}function o(f,v){let m=0,b=0,g=-1,y=0;for(;m<f.length;)if(b<v.length&&(v[b]===f[m]||v[b]==="*"))v[b]==="*"?(g=b,y=m,b++):(m++,b++);else if(g!==-1)b=g+1,y++,m=y;else return!1;for(;b<v.length&&v[b]==="*";)b++;return b===v.length}function a(){let f=[...t.names,...t.skips.map(v=>"-"+v)].join(",");return t.enable(""),f}function u(f){for(let v of t.skips)if(o(f,v))return!1;for(let v of t.names)if(o(f,v))return!0;return!1}function l(f){return f instanceof Error?f.stack||f.message:f}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Kl.exports=Xy});var Ql=d((ie,yi)=>{ie.formatArgs=r_;ie.save=t_;ie.load=n_;ie.useColors=e_;ie.storage=i_();ie.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ie.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e_(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r_(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+yi.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),e.splice(n,0,r)}ie.log=console.debug||console.log||(()=>{});function t_(e){try{e?ie.storage.setItem("debug",e):ie.storage.removeItem("debug")}catch{}}function n_(){let e;try{e=ie.storage.getItem("debug")||ie.storage.getItem("DEBUG")}catch{}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function i_(){try{return localStorage}catch{}}yi.exports=Jl()(ie);var{formatters:o_}=yi.exports;o_.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var dt=d(Cr=>{"use strict";var a_=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Logger=void 0;Cr.debug=c_;var u_=a_(Ql()),s_=["info","warn","error","debug"],_i=class{constructor(r=""){this.loggers={},this.initializeLoggers(r)}initializeLoggers(r){for(let t of s_){let n=(0,u_.default)(`${r}:${t}`);n.color=this.getPlatformColor(t),this.loggers[t]=n}}getPlatformColor(r){return{node:{info:"2",warn:"3",error:"1",debug:"4"},browser:{info:"#33CC99",warn:"#CCCC33",error:"#CC3366",debug:"#0066FF"}}[typeof window!="undefined"?"browser":"node"][r]}info(r,...t){this.loggers.info(r,...t)}warn(r,...t){this.loggers.warn(r,...t)}error(r,...t){this.loggers.error(r,...t)}debug(r,...t){this.loggers.debug(r,...t)}};Cr.Logger=_i;function c_(e){return new _i(e)}});var Xl={};qr(Xl,{PrebuiltBotStrategy:()=>In});var In,_s=Pr(()=>{"use strict";In=class{constructor(r){this.API_VERSION="2022-03-01-preview";let{identifier:t,host:n}=r;this.baseURL=new URL(`/copilotstudio/prebuilt/authenticated/bots/${t}`,n),this.baseURL.searchParams.append("api-version",this.API_VERSION)}getConversationUrl(r){let t=new URL(this.baseURL.href);return t.pathname=`${t.pathname}/conversations`,r&&(t.pathname=`${t.pathname}/${r}`),t.href}}});var ed={};qr(ed,{PublishedBotStrategy:()=>An});var An,bs=Pr(()=>{"use strict";An=class{constructor(r){this.API_VERSION="2022-03-01-preview";let{schema:t,host:n}=r;this.baseURL=new URL(`/copilotstudio/dataverse-backed/authenticated/bots/${t}`,n),this.baseURL.searchParams.append("api-version",this.API_VERSION)}getConversationUrl(r){let t=new URL(this.baseURL.href);return t.pathname=`${t.pathname}/conversations`,r&&(t.pathname=`${t.pathname}/${r}`),t.href}}});var id={};qr(id,{getCopilotStudioConnectionUrl:()=>nd,getTokenAudience:()=>l_});function nd(e,r){var u,l,s,f,v,m;if((u=e.directConnectUrl)!=null&&u.trim()){if(ft.debug(`Using direct connection: ${e.directConnectUrl}`),!xn(e.directConnectUrl))throw new Error("directConnectUrl must be a valid URL");return e.directConnectUrl.toLowerCase().includes("tenants/00000000-0000-0000-0000-000000000000")?(ft.debug(`Direct connection cannot be used, forcing default settings flow. Tenant ID is missing in the URL: ${e.directConnectUrl}`),nd({...e,directConnectUrl:""},r)):d_(e.directConnectUrl,r).href}let t=(l=e.cloud)!=null?l:"Prod",n=(s=e.copilotAgentType)!=null?s:"Published";if(ft.debug(`Using cloud setting: ${t}`),ft.debug(`Using agent type: ${n}`),!((f=e.environmentId)!=null&&f.trim()))throw new Error("EnvironmentId must be provided");if(!((v=e.agentIdentifier)!=null&&v.trim()))throw new Error("AgentIdentifier must be provided");if(t==="Other")if((m=e.customPowerPlatformCloud)!=null&&m.trim())if(xn(e.customPowerPlatformCloud))ft.debug(`Using custom Power Platform cloud: ${e.customPowerPlatformCloud}`);else throw new Error("customPowerPlatformCloud must be a valid URL");else throw new Error("customPowerPlatformCloud must be provided when PowerPlatformCloud is Other");let i=f_(t,e.environmentId,e.customPowerPlatformCloud),a={Published:()=>new An({host:i,schema:e.agentIdentifier}),Prebuilt:()=>new In({host:i,identifier:e.agentIdentifier})}[n]().getConversationUrl(r);return ft.debug(`Generated Copilot Studio connection URL: ${a}`),a}function l_(e,r="Unknown",t="",n=""){var i,o;if(!n&&!(e!=null&&e.directConnectUrl)){if(r==="Other"&&!t)throw new Error("cloudBaseAddress must be provided when PowerPlatformCloudCategory is Other");if(!e&&r==="Unknown")throw new Error("Either settings or cloud must be provided");if(e&&e.cloud&&e.cloud!=="Unknown"&&(r=e.cloud),r==="Other")if(t&&xn(t))r="Other";else if(e!=null&&e.customPowerPlatformCloud&&xn(e.customPowerPlatformCloud))r="Other",t=e.customPowerPlatformCloud;else throw new Error("Either CustomPowerPlatformCloud or cloudBaseAddress must be provided when PowerPlatformCloudCategory is Other");return t!=null||(t="api.unknown.powerplatform.com"),`https://${bi(r,t)}/.default`}else if(n||(n=(i=e==null?void 0:e.directConnectUrl)!=null?i:""),n&&xn(n)){if(rd(new URL(n))==="Unknown"){let a=(o=e==null?void 0:e.cloud)!=null?o:r;if(a==="Other"||a==="Unknown")throw new Error("Unable to resolve the PowerPlatform Cloud from DirectConnectUrl. The Token Audience resolver requires a specific PowerPlatformCloudCategory.");if(a!=="Unknown")return`https://${bi(a,"")}/.default`;throw new Error("Unable to resolve the PowerPlatform Cloud from DirectConnectUrl. The Token Audience resolver requires a specific PowerPlatformCloudCategory.")}return`https://${bi(rd(new URL(n)),"")}/.default`}else throw new Error("DirectConnectUrl must be provided when DirectConnectUrl is set")}function xn(e){try{let r=e.startsWith("http")?e:`https://${e}`;return!!new URL(r)}catch{return!1}}function d_(e,r){let t=new URL(e);return t.searchParams.has("api-version")||t.searchParams.append("api-version","2022-03-01-preview"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),t.pathname.includes("/conversations")&&(t.pathname=t.pathname.substring(0,t.pathname.indexOf("/conversations"))),t.pathname=`${t.pathname}/conversations`,r&&(t.pathname=`${t.pathname}/${r}`),t}function f_(e,r,t){if(e==="Other"&&(!t||!t.trim()))throw new Error("cloudBaseAddress must be provided when PowerPlatformCloud is Other");t=t!=null?t:"api.unknown.powerplatform.com";let n=r.toLowerCase().replaceAll("-",""),i=v_(e),o=n.substring(0,n.length-i),a=n.substring(n.length-i);return new URL(`https://${o}.${a}.environment.${bi(e,t)}`)}function bi(e,r){switch(e){case"Local":return"api.powerplatform.localhost";case"Exp":return"api.exp.powerplatform.com";case"Dev":return"api.dev.powerplatform.com";case"Prv":return"api.prv.powerplatform.com";case"Test":return"api.test.powerplatform.com";case"Preprod":return"api.preprod.powerplatform.com";case"FirstRelease":case"Prod":return"api.powerplatform.com";case"GovFR":return"api.gov.powerplatform.microsoft.us";case"Gov":return"api.gov.powerplatform.microsoft.us";case"High":return"api.high.powerplatform.microsoft.us";case"DoD":return"api.appsplatform.us";case"Mooncake":return"api.powerplatform.partner.microsoftonline.cn";case"Ex":return"api.powerplatform.eaglex.ic.gov";case"Rx":return"api.powerplatform.microsoft.scloud";case"Other":return r;default:throw new Error(`Invalid cluster category value: ${e}`)}}function v_(e){switch(e){case"FirstRelease":case"Prod":return 2;default:return 1}}function rd(e){switch(e.host.toLowerCase()){case"api.powerplatform.localhost":return"Local";case"api.exp.powerplatform.com":return"Exp";case"api.dev.powerplatform.com":return"Dev";case"api.prv.powerplatform.com":return"Prv";case"api.test.powerplatform.com":return"Test";case"api.preprod.powerplatform.com":return"Preprod";case"api.powerplatform.com":return"Prod";case"api.gov.powerplatform.microsoft.us":return"GovFR";case"api.high.powerplatform.microsoft.us":return"High";case"api.appsplatform.us":return"DoD";case"api.powerplatform.partner.microsoftonline.cn":return"Mooncake";default:return"Unknown"}}var td,ft,od=Pr(()=>{"use strict";li();td=ke(dt());di();_s();bs();ft=(0,td.debug)("copilot-studio:power-platform")});var Tn=d(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.getParsedType=D.ZodParsedType=D.objectUtil=D.util=void 0;var gs;(function(e){e.assertEqual=i=>{};function r(i){}e.assertIs=r;function t(i){throw new Error}e.assertNever=t,e.arrayToEnum=i=>{let o={};for(let a of i)o[a]=a;return o},e.getValidEnumValues=i=>{let o=e.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(let u of o)a[u]=i[u];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},e.find=(i,o)=>{for(let a of i)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(gs||(D.util=gs={}));var ad;(function(e){e.mergeShapes=(r,t)=>({...r,...t})})(ad||(D.objectUtil=ad={}));D.ZodParsedType=gs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var p_=e=>{switch(typeof e){case"undefined":return D.ZodParsedType.undefined;case"string":return D.ZodParsedType.string;case"number":return Number.isNaN(e)?D.ZodParsedType.nan:D.ZodParsedType.number;case"boolean":return D.ZodParsedType.boolean;case"function":return D.ZodParsedType.function;case"bigint":return D.ZodParsedType.bigint;case"symbol":return D.ZodParsedType.symbol;case"object":return Array.isArray(e)?D.ZodParsedType.array:e===null?D.ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?D.ZodParsedType.promise:typeof Map!="undefined"&&e instanceof Map?D.ZodParsedType.map:typeof Set!="undefined"&&e instanceof Set?D.ZodParsedType.set:typeof Date!="undefined"&&e instanceof Date?D.ZodParsedType.date:D.ZodParsedType.object;default:return D.ZodParsedType.unknown}};D.getParsedType=p_});var gi=d(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.ZodError=Ge.quotelessJson=Ge.ZodIssueCode=void 0;var ud=Tn();Ge.ZodIssueCode=ud.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var h_=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");Ge.quotelessJson=h_;var En=class e extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=r}format(r){let t=r||function(o){return o.message},n={_errors:[]},i=o=>{for(let a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let u=n,l=0;for(;l<a.path.length;){let s=a.path[l];l===a.path.length-1?(u[s]=u[s]||{_errors:[]},u[s]._errors.push(t(a))):u[s]=u[s]||{_errors:[]},u=u[s],l++}}};return i(this),n}static assert(r){if(!(r instanceof e))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ud.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t=>t.message){let t={},n=[];for(let i of this.issues)if(i.path.length>0){let o=i.path[0];t[o]=t[o]||[],t[o].push(r(i))}else n.push(r(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Ge.ZodError=En;En.create=e=>new En(e)});var ws=d(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Q=gi(),Ir=Tn(),m_=(e,r)=>{let t;switch(e.code){case Q.ZodIssueCode.invalid_type:e.received===Ir.ZodParsedType.undefined?t="Required":t=`Expected ${e.expected}, received ${e.received}`;break;case Q.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(e.expected,Ir.util.jsonStringifyReplacer)}`;break;case Q.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ir.util.joinValues(e.keys,", ")}`;break;case Q.ZodIssueCode.invalid_union:t="Invalid input";break;case Q.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ir.util.joinValues(e.options)}`;break;case Q.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${Ir.util.joinValues(e.options)}, received '${e.received}'`;break;case Q.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Q.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Q.ZodIssueCode.invalid_date:t="Invalid date";break;case Q.ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(t=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?t=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?t=`Invalid input: must end with "${e.validation.endsWith}"`:Ir.util.assertNever(e.validation):e.validation!=="regex"?t=`Invalid ${e.validation}`:t="Invalid";break;case Q.ZodIssueCode.too_small:e.type==="array"?t=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?t=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?t=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?t=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?t=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:t="Invalid input";break;case Q.ZodIssueCode.too_big:e.type==="array"?t=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?t=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?t=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?t=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?t=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:t="Invalid input";break;case Q.ZodIssueCode.custom:t="Invalid input";break;case Q.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${e.multipleOf}`;break;case Q.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=r.defaultError,Ir.util.assertNever(e)}return{message:t}};Os.default=m_});var Oi=d(Ye=>{"use strict";var y_=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.defaultErrorMap=void 0;Ye.setErrorMap=__;Ye.getErrorMap=b_;var sd=y_(ws());Ye.defaultErrorMap=sd.default;var cd=sd.default;function __(e){cd=e}function b_(){return cd}});var Ps=d(U=>{"use strict";var g_=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0});U.isAsync=U.isValid=U.isDirty=U.isAborted=U.OK=U.DIRTY=U.INVALID=U.ParseStatus=U.EMPTY_PATH=U.makeIssue=void 0;U.addIssueToContext=S_;var O_=Oi(),ld=g_(ws()),w_=e=>{let{data:r,path:t,errorMaps:n,issueData:i}=e,o=[...t,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="",l=n.filter(s=>!!s).slice().reverse();for(let s of l)u=s(a,{data:r,defaultError:u}).message;return{...i,path:o,message:u}};U.makeIssue=w_;U.EMPTY_PATH=[];function S_(e,r){let t=(0,O_.getErrorMap)(),n=(0,U.makeIssue)({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,t,t===ld.default?void 0:ld.default].filter(i=>!!i)});e.common.issues.push(n)}var Ss=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t){let n=[];for(let i of t){if(i.status==="aborted")return U.INVALID;i.status==="dirty"&&r.dirty(),n.push(i.value)}return{status:r.value,value:n}}static async mergeObjectAsync(r,t){let n=[];for(let i of t){let o=await i.key,a=await i.value;n.push({key:o,value:a})}return e.mergeObjectSync(r,n)}static mergeObjectSync(r,t){let n={};for(let i of t){let{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return U.INVALID;o.status==="dirty"&&r.dirty(),a.status==="dirty"&&r.dirty(),o.value!=="__proto__"&&(typeof a.value!="undefined"||i.alwaysSet)&&(n[o.value]=a.value)}return{status:r.value,value:n}}};U.ParseStatus=Ss;U.INVALID=Object.freeze({status:"aborted"});var P_=e=>({status:"dirty",value:e});U.DIRTY=P_;var q_=e=>({status:"valid",value:e});U.OK=q_;var j_=e=>e.status==="aborted";U.isAborted=j_;var C_=e=>e.status==="dirty";U.isDirty=C_;var I_=e=>e.status==="valid";U.isValid=I_;var A_=e=>typeof Promise!="undefined"&&e instanceof Promise;U.isAsync=A_});var fd=d(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0})});var pd=d(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.errorUtil=void 0;var vd;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(vd||(wi.errorUtil=vd={}))});var jd=d(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.discriminatedUnion=p.date=p.boolean=p.bigint=p.array=p.any=p.coerce=p.ZodFirstPartyTypeKind=p.late=p.ZodSchema=p.Schema=p.ZodReadonly=p.ZodPipeline=p.ZodBranded=p.BRAND=p.ZodNaN=p.ZodCatch=p.ZodDefault=p.ZodNullable=p.ZodOptional=p.ZodTransformer=p.ZodEffects=p.ZodPromise=p.ZodNativeEnum=p.ZodEnum=p.ZodLiteral=p.ZodLazy=p.ZodFunction=p.ZodSet=p.ZodMap=p.ZodRecord=p.ZodTuple=p.ZodIntersection=p.ZodDiscriminatedUnion=p.ZodUnion=p.ZodObject=p.ZodArray=p.ZodVoid=p.ZodNever=p.ZodUnknown=p.ZodAny=p.ZodNull=p.ZodUndefined=p.ZodSymbol=p.ZodDate=p.ZodBoolean=p.ZodBigInt=p.ZodNumber=p.ZodString=p.ZodType=void 0;p.NEVER=p.void=p.unknown=p.union=p.undefined=p.tuple=p.transformer=p.symbol=p.string=p.strictObject=p.set=p.record=p.promise=p.preprocess=p.pipeline=p.ostring=p.optional=p.onumber=p.oboolean=p.object=p.number=p.nullable=p.null=p.never=p.nativeEnum=p.nan=p.map=p.literal=p.lazy=p.intersection=p.instanceof=p.function=p.enum=p.effect=void 0;p.datetimeRegex=bd;p.custom=Od;var w=gi(),Si=Oi(),I=pd(),h=Ps(),S=Tn(),ve=class{constructor(r,t,n,i){this._cachedPath=[],this.parent=r,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},hd=(e,r)=>{if((0,h.isValid)(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new w.ZodError(e.common.issues);return this._error=t,this._error}}};function M(e){if(!e)return{};let{errorMap:r,invalid_type_error:t,required_error:n,description:i}=e;if(r&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:i}:{errorMap:(a,u)=>{var s,f;let{message:l}=e;return a.code==="invalid_enum_value"?{message:l!=null?l:u.defaultError}:typeof u.data=="undefined"?{message:(s=l!=null?l:n)!=null?s:u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:(f=l!=null?l:t)!=null?f:u.defaultError}},description:i}}var k=class{get description(){return this._def.description}_getType(r){return(0,S.getParsedType)(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:(0,S.getParsedType)(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new h.ParseStatus,ctx:{common:r.parent.common,data:r.data,parsedType:(0,S.getParsedType)(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let t=this._parse(r);if((0,h.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){let t=this._parse(r);return Promise.resolve(t)}parse(r,t){let n=this.safeParse(r,t);if(n.success)return n.data;throw n.error}safeParse(r,t){var o;let n={common:{issues:[],async:(o=t==null?void 0:t.async)!=null?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:(0,S.getParsedType)(r)},i=this._parseSync({data:r,path:n.path,parent:n});return hd(n,i)}"~validate"(r){var n,i;let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:(0,S.getParsedType)(r)};if(!this["~standard"].async)try{let o=this._parseSync({data:r,path:[],parent:t});return(0,h.isValid)(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(i=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:t}).then(o=>(0,h.isValid)(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(r,t){let n=await this.safeParseAsync(r,t);if(n.success)return n.data;throw n.error}async safeParseAsync(r,t){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:(0,S.getParsedType)(r)},i=this._parse({data:r,path:n.path,parent:n}),o=await((0,h.isAsync)(i)?i:Promise.resolve(i));return hd(n,o)}refine(r,t){let n=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,o)=>{let a=r(i),u=()=>o.addIssue({code:w.ZodIssueCode.custom,...n(i)});return typeof Promise!="undefined"&&a instanceof Promise?a.then(l=>l?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(r,t){return this._refinement((n,i)=>r(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(r){return new le({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return fe.create(this,this._def)}nullable(){return qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ue.create(this)}promise(){return Je.create(this,this._def)}or(r){return Fr.create([this,r],this._def)}and(r){return Rr.create(this,r,this._def)}transform(r){return new le({...M(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:r}})}default(r){let t=typeof r=="function"?r:()=>r;return new zr({...M(this._def),innerType:this,defaultValue:t,typeName:T.ZodDefault})}brand(){return new Mn({typeName:T.ZodBranded,type:this,...M(this._def)})}catch(r){let t=typeof r=="function"?r:()=>r;return new Dr({...M(this._def),innerType:this,catchValue:t,typeName:T.ZodCatch})}describe(r){let t=this.constructor;return new t({...this._def,description:r})}pipe(r){return kn.create(this,r)}readonly(){return Vr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};p.ZodType=k;p.Schema=k;p.ZodSchema=k;var x_=/^c[^\s-]{8,}$/i,T_=/^[0-9a-z]+$/,E_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,M_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k_=/^[a-z0-9_-]{21}$/i,F_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,R_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",qs,L_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",W_=new RegExp(`^${yd}$`);function _d(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);let t=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${t}`}function B_(e){return new RegExp(`^${_d(e)}$`)}function bd(e){let r=`${yd}T${_d(e)}`,t=[];return t.push(e.local?"Z?":"Z"),e.offset&&t.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${t.join("|")})`,new RegExp(`^${r}$`)}function G_(e,r){return!!((r==="v4"||!r)&&L_.test(e)||(r==="v6"||!r)&&z_.test(e))}function Y_(e,r){if(!F_.test(e))return!1;try{let[t]=e.split(".");if(!t)return!1;let n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||r&&i.alg!==r)}catch{return!1}}function H_(e,r){return!!((r==="v4"||!r)&&N_.test(e)||(r==="v6"||!r)&&D_.test(e))}var He=class e extends k{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==S.ZodParsedType.string){let o=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(o,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.string,received:o.parsedType}),h.INVALID}let n=new h.ParseStatus,i;for(let o of this._def.checks)if(o.kind==="min")r.data.length<o.value&&(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")r.data.length>o.value&&(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let a=r.data.length>o.value,u=r.data.length<o.value;(a||u)&&(i=this._getOrReturnCtx(r,i),a?(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Z_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"email",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")qs||(qs=new RegExp(U_,"u")),qs.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"emoji",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")M_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"uuid",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")k_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"nanoid",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")x_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"cuid",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")T_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"cuid2",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")E_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"ulid",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(r.data)}catch{i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"url",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"regex",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?r.data=r.data.trim():o.kind==="includes"?r.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?r.data=r.data.toLowerCase():o.kind==="toUpperCase"?r.data=r.data.toUpperCase():o.kind==="startsWith"?r.data.startsWith(o.value)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?r.data.endsWith(o.value)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?bd(o).test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?W_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?B_(o).test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?R_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"duration",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?G_(r.data,o.version)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"ip",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?Y_(r.data,o.alg)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"jwt",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?H_(r.data,o.version)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"cidr",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?V_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"base64",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?$_.test(r.data)||(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{validation:"base64url",code:w.ZodIssueCode.invalid_string,message:o.message}),n.dirty()):S.util.assertNever(o);return{status:n.value,value:r.data}}_regex(r,t,n){return this.refinement(i=>r.test(i),{validation:t,code:w.ZodIssueCode.invalid_string,...I.errorUtil.errToObj(n)})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...I.errorUtil.errToObj(r)})}url(r){return this._addCheck({kind:"url",...I.errorUtil.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...I.errorUtil.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...I.errorUtil.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...I.errorUtil.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...I.errorUtil.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...I.errorUtil.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...I.errorUtil.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...I.errorUtil.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...I.errorUtil.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...I.errorUtil.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...I.errorUtil.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...I.errorUtil.errToObj(r)})}datetime(r){var t,n;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)=="undefined"?null:r==null?void 0:r.precision,offset:(t=r==null?void 0:r.offset)!=null?t:!1,local:(n=r==null?void 0:r.local)!=null?n:!1,...I.errorUtil.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)=="undefined"?null:r==null?void 0:r.precision,...I.errorUtil.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...I.errorUtil.errToObj(r)})}regex(r,t){return this._addCheck({kind:"regex",regex:r,...I.errorUtil.errToObj(t)})}includes(r,t){return this._addCheck({kind:"includes",value:r,position:t==null?void 0:t.position,...I.errorUtil.errToObj(t==null?void 0:t.message)})}startsWith(r,t){return this._addCheck({kind:"startsWith",value:r,...I.errorUtil.errToObj(t)})}endsWith(r,t){return this._addCheck({kind:"endsWith",value:r,...I.errorUtil.errToObj(t)})}min(r,t){return this._addCheck({kind:"min",value:r,...I.errorUtil.errToObj(t)})}max(r,t){return this._addCheck({kind:"max",value:r,...I.errorUtil.errToObj(t)})}length(r,t){return this._addCheck({kind:"length",value:r,...I.errorUtil.errToObj(t)})}nonempty(r){return this.min(1,I.errorUtil.errToObj(r))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(let t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxLength(){let r=null;for(let t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}};p.ZodString=He;He.create=e=>{var r;return new He({checks:[],typeName:T.ZodString,coerce:(r=e==null?void 0:e.coerce)!=null?r:!1,...M(e)})};function K_(e,r){let t=(e.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,i=t>n?t:n,o=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(r.toFixed(i).replace(".",""));return o%a/10**i}var Ar=class e extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==S.ZodParsedType.number){let o=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(o,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.number,received:o.parsedType}),h.INVALID}let n,i=new h.ParseStatus;for(let o of this._def.checks)o.kind==="int"?S.util.isInteger(r.data)||(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?r.data<o.value:r.data<=o.value)&&(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?r.data>o.value:r.data>=o.value)&&(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?K_(r.data,o.value)!==0&&(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(r.data)||(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.not_finite,message:o.message}),i.dirty()):S.util.assertNever(o);return{status:i.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,I.errorUtil.toString(t))}gt(r,t){return this.setLimit("min",r,!1,I.errorUtil.toString(t))}lte(r,t){return this.setLimit("max",r,!0,I.errorUtil.toString(t))}lt(r,t){return this.setLimit("max",r,!1,I.errorUtil.toString(t))}setLimit(r,t,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:n,message:I.errorUtil.toString(i)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:I.errorUtil.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.errorUtil.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.errorUtil.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.errorUtil.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.errorUtil.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:I.errorUtil.toString(t)})}finite(r){return this._addCheck({kind:"finite",message:I.errorUtil.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.errorUtil.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.errorUtil.toString(r)})}get minValue(){let r=null;for(let t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(let t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&S.util.isInteger(r.value))}get isFinite(){let r=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(t)&&Number.isFinite(r)}};p.ZodNumber=Ar;Ar.create=e=>new Ar({checks:[],typeName:T.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...M(e)});var xr=class e extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==S.ZodParsedType.bigint)return this._getInvalidInput(r);let n,i=new h.ParseStatus;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?r.data<o.value:r.data<=o.value)&&(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?r.data>o.value:r.data>=o.value)&&(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?r.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(r,n),(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):S.util.assertNever(o);return{status:i.value,value:r.data}}_getInvalidInput(r){let t=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.bigint,received:t.parsedType}),h.INVALID}gte(r,t){return this.setLimit("min",r,!0,I.errorUtil.toString(t))}gt(r,t){return this.setLimit("min",r,!1,I.errorUtil.toString(t))}lte(r,t){return this.setLimit("max",r,!0,I.errorUtil.toString(t))}lt(r,t){return this.setLimit("max",r,!1,I.errorUtil.toString(t))}setLimit(r,t,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:n,message:I.errorUtil.toString(i)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.errorUtil.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.errorUtil.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.errorUtil.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.errorUtil.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:I.errorUtil.toString(t)})}get minValue(){let r=null;for(let t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(let t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}};p.ZodBigInt=xr;xr.create=e=>{var r;return new xr({checks:[],typeName:T.ZodBigInt,coerce:(r=e==null?void 0:e.coerce)!=null?r:!1,...M(e)})};var Tr=class extends k{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==S.ZodParsedType.boolean){let n=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.boolean,received:n.parsedType}),h.INVALID}return(0,h.OK)(r.data)}};p.ZodBoolean=Tr;Tr.create=e=>new Tr({typeName:T.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...M(e)});var Er=class e extends k{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==S.ZodParsedType.date){let o=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(o,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.date,received:o.parsedType}),h.INVALID}if(Number.isNaN(r.data.getTime())){let o=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(o,{code:w.ZodIssueCode.invalid_date}),h.INVALID}let n=new h.ParseStatus,i;for(let o of this._def.checks)o.kind==="min"?r.data.getTime()<o.value&&(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?r.data.getTime()>o.value&&(i=this._getOrReturnCtx(r,i),(0,h.addIssueToContext)(i,{code:w.ZodIssueCode.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):S.util.assertNever(o);return{status:n.value,value:new Date(r.data.getTime())}}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}min(r,t){return this._addCheck({kind:"min",value:r.getTime(),message:I.errorUtil.toString(t)})}max(r,t){return this._addCheck({kind:"max",value:r.getTime(),message:I.errorUtil.toString(t)})}get minDate(){let r=null;for(let t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(let t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r!=null?new Date(r):null}};p.ZodDate=Er;Er.create=e=>new Er({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:T.ZodDate,...M(e)});var pt=class extends k{_parse(r){if(this._getType(r)!==S.ZodParsedType.symbol){let n=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.symbol,received:n.parsedType}),h.INVALID}return(0,h.OK)(r.data)}};p.ZodSymbol=pt;pt.create=e=>new pt({typeName:T.ZodSymbol,...M(e)});var Mr=class extends k{_parse(r){if(this._getType(r)!==S.ZodParsedType.undefined){let n=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.undefined,received:n.parsedType}),h.INVALID}return(0,h.OK)(r.data)}};p.ZodUndefined=Mr;Mr.create=e=>new Mr({typeName:T.ZodUndefined,...M(e)});var kr=class extends k{_parse(r){if(this._getType(r)!==S.ZodParsedType.null){let n=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.null,received:n.parsedType}),h.INVALID}return(0,h.OK)(r.data)}};p.ZodNull=kr;kr.create=e=>new kr({typeName:T.ZodNull,...M(e)});var Ke=class extends k{constructor(){super(...arguments),this._any=!0}_parse(r){return(0,h.OK)(r.data)}};p.ZodAny=Ke;Ke.create=e=>new Ke({typeName:T.ZodAny,...M(e)});var Ze=class extends k{constructor(){super(...arguments),this._unknown=!0}_parse(r){return(0,h.OK)(r.data)}};p.ZodUnknown=Ze;Ze.create=e=>new Ze({typeName:T.ZodUnknown,...M(e)});var _e=class extends k{_parse(r){let t=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.never,received:t.parsedType}),h.INVALID}};p.ZodNever=_e;_e.create=e=>new _e({typeName:T.ZodNever,...M(e)});var ht=class extends k{_parse(r){if(this._getType(r)!==S.ZodParsedType.undefined){let n=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.void,received:n.parsedType}),h.INVALID}return(0,h.OK)(r.data)}};p.ZodVoid=ht;ht.create=e=>new ht({typeName:T.ZodVoid,...M(e)});var Ue=class e extends k{_parse(r){let{ctx:t,status:n}=this._processInputParams(r),i=this._def;if(t.parsedType!==S.ZodParsedType.array)return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.array,received:t.parsedType}),h.INVALID;if(i.exactLength!==null){let a=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(a||u)&&((0,h.addIssueToContext)(t,{code:a?w.ZodIssueCode.too_big:w.ZodIssueCode.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&((0,h.addIssueToContext)(t,{code:w.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&((0,h.addIssueToContext)(t,{code:w.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,u)=>i.type._parseAsync(new ve(t,a,t.path,u)))).then(a=>h.ParseStatus.mergeArray(n,a));let o=[...t.data].map((a,u)=>i.type._parseSync(new ve(t,a,t.path,u)));return h.ParseStatus.mergeArray(n,o)}get element(){return this._def.type}min(r,t){return new e({...this._def,minLength:{value:r,message:I.errorUtil.toString(t)}})}max(r,t){return new e({...this._def,maxLength:{value:r,message:I.errorUtil.toString(t)}})}length(r,t){return new e({...this._def,exactLength:{value:r,message:I.errorUtil.toString(t)}})}nonempty(r){return this.min(1,r)}};p.ZodArray=Ue;Ue.create=(e,r)=>new Ue({type:e,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...M(r)});function vt(e){if(e instanceof oe){let r={};for(let t in e.shape){let n=e.shape[t];r[t]=fe.create(vt(n))}return new oe({...e._def,shape:()=>r})}else return e instanceof Ue?new Ue({...e._def,type:vt(e.element)}):e instanceof fe?fe.create(vt(e.unwrap())):e instanceof qe?qe.create(vt(e.unwrap())):e instanceof Pe?Pe.create(e.items.map(r=>vt(r))):e}var oe=class e extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let r=this._def.shape(),t=S.util.objectKeys(r);return this._cached={shape:r,keys:t},this._cached}_parse(r){if(this._getType(r)!==S.ZodParsedType.object){let s=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(s,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.object,received:s.parsedType}),h.INVALID}let{status:n,ctx:i}=this._processInputParams(r),{shape:o,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof _e&&this._def.unknownKeys==="strip"))for(let s in i.data)a.includes(s)||u.push(s);let l=[];for(let s of a){let f=o[s],v=i.data[s];l.push({key:{status:"valid",value:s},value:f._parse(new ve(i,v,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof _e){let s=this._def.unknownKeys;if(s==="passthrough")for(let f of u)l.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(s==="strict")u.length>0&&((0,h.addIssueToContext)(i,{code:w.ZodIssueCode.unrecognized_keys,keys:u}),n.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let s=this._def.catchall;for(let f of u){let v=i.data[f];l.push({key:{status:"valid",value:f},value:s._parse(new ve(i,v,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let s=[];for(let f of l){let v=await f.key,m=await f.value;s.push({key:v,value:m,alwaysSet:f.alwaysSet})}return s}).then(s=>h.ParseStatus.mergeObjectSync(n,s)):h.ParseStatus.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(r){return I.errorUtil.errToObj,new e({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t,n)=>{var o,a,u,l;let i=(u=(a=(o=this._def).errorMap)==null?void 0:a.call(o,t,n).message)!=null?u:n.defaultError;return t.code==="unrecognized_keys"?{message:(l=I.errorUtil.errToObj(r).message)!=null?l:i}:{message:i}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(r){return new e({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new e({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:T.ZodObject})}setKey(r,t){return this.augment({[r]:t})}catchall(r){return new e({...this._def,catchall:r})}pick(r){let t={};for(let n of S.util.objectKeys(r))r[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new e({...this._def,shape:()=>t})}omit(r){let t={};for(let n of S.util.objectKeys(this.shape))r[n]||(t[n]=this.shape[n]);return new e({...this._def,shape:()=>t})}deepPartial(){return vt(this)}partial(r){let t={};for(let n of S.util.objectKeys(this.shape)){let i=this.shape[n];r&&!r[n]?t[n]=i:t[n]=i.optional()}return new e({...this._def,shape:()=>t})}required(r){let t={};for(let n of S.util.objectKeys(this.shape))if(r&&!r[n])t[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof fe;)o=o._def.innerType;t[n]=o}return new e({...this._def,shape:()=>t})}keyof(){return gd(S.util.objectKeys(this.shape))}};p.ZodObject=oe;oe.create=(e,r)=>new oe({shape:()=>e,unknownKeys:"strip",catchall:_e.create(),typeName:T.ZodObject,...M(r)});oe.strictCreate=(e,r)=>new oe({shape:()=>e,unknownKeys:"strict",catchall:_e.create(),typeName:T.ZodObject,...M(r)});oe.lazycreate=(e,r)=>new oe({shape:e,unknownKeys:"strip",catchall:_e.create(),typeName:T.ZodObject,...M(r)});var Fr=class extends k{_parse(r){let{ctx:t}=this._processInputParams(r),n=this._def.options;function i(o){for(let u of o)if(u.result.status==="valid")return u.result;for(let u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let a=o.map(u=>new w.ZodError(u.ctx.common.issues));return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_union,unionErrors:a}),h.INVALID}if(t.common.async)return Promise.all(n.map(async o=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let o,a=[];for(let l of n){let s={...t,common:{...t.common,issues:[]},parent:null},f=l._parseSync({data:t.data,path:t.path,parent:s});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:s}),s.common.issues.length&&a.push(s.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;let u=a.map(l=>new w.ZodError(l));return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_union,unionErrors:u}),h.INVALID}}get options(){return this._def.options}};p.ZodUnion=Fr;Fr.create=(e,r)=>new Fr({options:e,typeName:T.ZodUnion,...M(r)});var Re=e=>e instanceof Zr?Re(e.schema):e instanceof le?Re(e.innerType()):e instanceof Ur?[e.value]:e instanceof Lr?e.options:e instanceof Nr?S.util.objectValues(e.enum):e instanceof zr?Re(e._def.innerType):e instanceof Mr?[void 0]:e instanceof kr?[null]:e instanceof fe?[void 0,...Re(e.unwrap())]:e instanceof qe?[null,...Re(e.unwrap())]:e instanceof Mn||e instanceof Vr?Re(e.unwrap()):e instanceof Dr?Re(e._def.innerType):[],Pi=class e extends k{_parse(r){let{ctx:t}=this._processInputParams(r);if(t.parsedType!==S.ZodParsedType.object)return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.object,received:t.parsedType}),h.INVALID;let n=this.discriminator,i=t.data[n],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):((0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),h.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,n){let i=new Map;for(let o of t){let a=Re(o.shape[r]);if(!a.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let u of a){if(i.has(u))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(u)}`);i.set(u,o)}}return new e({typeName:T.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:i,...M(n)})}};p.ZodDiscriminatedUnion=Pi;function js(e,r){let t=(0,S.getParsedType)(e),n=(0,S.getParsedType)(r);if(e===r)return{valid:!0,data:e};if(t===S.ZodParsedType.object&&n===S.ZodParsedType.object){let i=S.util.objectKeys(r),o=S.util.objectKeys(e).filter(u=>i.indexOf(u)!==-1),a={...e,...r};for(let u of o){let l=js(e[u],r[u]);if(!l.valid)return{valid:!1};a[u]=l.data}return{valid:!0,data:a}}else if(t===S.ZodParsedType.array&&n===S.ZodParsedType.array){if(e.length!==r.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let a=e[o],u=r[o],l=js(a,u);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===S.ZodParsedType.date&&n===S.ZodParsedType.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}var Rr=class extends k{_parse(r){let{status:t,ctx:n}=this._processInputParams(r),i=(o,a)=>{if((0,h.isAborted)(o)||(0,h.isAborted)(a))return h.INVALID;let u=js(o.value,a.value);return u.valid?(((0,h.isDirty)(o)||(0,h.isDirty)(a))&&t.dirty(),{status:t.value,value:u.data}):((0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_intersection_types}),h.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};p.ZodIntersection=Rr;Rr.create=(e,r,t)=>new Rr({left:e,right:r,typeName:T.ZodIntersection,...M(t)});var Pe=class e extends k{_parse(r){let{status:t,ctx:n}=this._processInputParams(r);if(n.parsedType!==S.ZodParsedType.array)return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.array,received:n.parsedType}),h.INVALID;if(n.data.length<this._def.items.length)return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),h.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let o=[...n.data].map((a,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new ve(n,a,n.path,u)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>h.ParseStatus.mergeArray(t,a)):h.ParseStatus.mergeArray(t,o)}get items(){return this._def.items}rest(r){return new e({...this._def,rest:r})}};p.ZodTuple=Pe;Pe.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pe({items:e,typeName:T.ZodTuple,rest:null,...M(r)})};var qi=class e extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:t,ctx:n}=this._processInputParams(r);if(n.parsedType!==S.ZodParsedType.object)return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.object,received:n.parsedType}),h.INVALID;let i=[],o=this._def.keyType,a=this._def.valueType;for(let u in n.data)i.push({key:o._parse(new ve(n,u,n.path,u)),value:a._parse(new ve(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?h.ParseStatus.mergeObjectAsync(t,i):h.ParseStatus.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(r,t,n){return t instanceof k?new e({keyType:r,valueType:t,typeName:T.ZodRecord,...M(n)}):new e({keyType:He.create(),valueType:r,typeName:T.ZodRecord,...M(t)})}};p.ZodRecord=qi;var mt=class extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:t,ctx:n}=this._processInputParams(r);if(n.parsedType!==S.ZodParsedType.map)return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.map,received:n.parsedType}),h.INVALID;let i=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([u,l],s)=>({key:i._parse(new ve(n,u,n.path,[s,"key"])),value:o._parse(new ve(n,l,n.path,[s,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of a){let s=await l.key,f=await l.value;if(s.status==="aborted"||f.status==="aborted")return h.INVALID;(s.status==="dirty"||f.status==="dirty")&&t.dirty(),u.set(s.value,f.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let l of a){let s=l.key,f=l.value;if(s.status==="aborted"||f.status==="aborted")return h.INVALID;(s.status==="dirty"||f.status==="dirty")&&t.dirty(),u.set(s.value,f.value)}return{status:t.value,value:u}}}};p.ZodMap=mt;mt.create=(e,r,t)=>new mt({valueType:r,keyType:e,typeName:T.ZodMap,...M(t)});var yt=class e extends k{_parse(r){let{status:t,ctx:n}=this._processInputParams(r);if(n.parsedType!==S.ZodParsedType.set)return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.set,received:n.parsedType}),h.INVALID;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&((0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&((0,h.addIssueToContext)(n,{code:w.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let o=this._def.valueType;function a(l){let s=new Set;for(let f of l){if(f.status==="aborted")return h.INVALID;f.status==="dirty"&&t.dirty(),s.add(f.value)}return{status:t.value,value:s}}let u=[...n.data.values()].map((l,s)=>o._parse(new ve(n,l,n.path,s)));return n.common.async?Promise.all(u).then(l=>a(l)):a(u)}min(r,t){return new e({...this._def,minSize:{value:r,message:I.errorUtil.toString(t)}})}max(r,t){return new e({...this._def,maxSize:{value:r,message:I.errorUtil.toString(t)}})}size(r,t){return this.min(r,t).max(r,t)}nonempty(r){return this.min(1,r)}};p.ZodSet=yt;yt.create=(e,r)=>new yt({valueType:e,minSize:null,maxSize:null,typeName:T.ZodSet,...M(r)});var ji=class e extends k{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:t}=this._processInputParams(r);if(t.parsedType!==S.ZodParsedType.function)return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.function,received:t.parsedType}),h.INVALID;function n(u,l){return(0,h.makeIssue)({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,Si.getErrorMap)(),Si.defaultErrorMap].filter(s=>!!s),issueData:{code:w.ZodIssueCode.invalid_arguments,argumentsError:l}})}function i(u,l){return(0,h.makeIssue)({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,Si.getErrorMap)(),Si.defaultErrorMap].filter(s=>!!s),issueData:{code:w.ZodIssueCode.invalid_return_type,returnTypeError:l}})}let o={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Je){let u=this;return(0,h.OK)(async function(...l){let s=new w.ZodError([]),f=await u._def.args.parseAsync(l,o).catch(b=>{throw s.addIssue(n(l,b)),s}),v=await Reflect.apply(a,this,f);return await u._def.returns._def.type.parseAsync(v,o).catch(b=>{throw s.addIssue(i(v,b)),s})})}else{let u=this;return(0,h.OK)(function(...l){let s=u._def.args.safeParse(l,o);if(!s.success)throw new w.ZodError([n(l,s.error)]);let f=Reflect.apply(a,this,s.data),v=u._def.returns.safeParse(f,o);if(!v.success)throw new w.ZodError([i(f,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new e({...this._def,args:Pe.create(r).rest(Ze.create())})}returns(r){return new e({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,n){return new e({args:r||Pe.create([]).rest(Ze.create()),returns:t||Ze.create(),typeName:T.ZodFunction,...M(n)})}};p.ZodFunction=ji;var Zr=class extends k{get schema(){return this._def.getter()}_parse(r){let{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};p.ZodLazy=Zr;Zr.create=(e,r)=>new Zr({getter:e,typeName:T.ZodLazy,...M(r)});var Ur=class extends k{_parse(r){if(r.data!==this._def.value){let t=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(t,{received:t.data,code:w.ZodIssueCode.invalid_literal,expected:this._def.value}),h.INVALID}return{status:"valid",value:r.data}}get value(){return this._def.value}};p.ZodLiteral=Ur;Ur.create=(e,r)=>new Ur({value:e,typeName:T.ZodLiteral,...M(r)});function gd(e,r){return new Lr({values:e,typeName:T.ZodEnum,...M(r)})}var Lr=class e extends k{_parse(r){if(typeof r.data!="string"){let t=this._getOrReturnCtx(r),n=this._def.values;return(0,h.addIssueToContext)(t,{expected:S.util.joinValues(n),received:t.parsedType,code:w.ZodIssueCode.invalid_type}),h.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){let t=this._getOrReturnCtx(r),n=this._def.values;return(0,h.addIssueToContext)(t,{received:t.data,code:w.ZodIssueCode.invalid_enum_value,options:n}),h.INVALID}return(0,h.OK)(r.data)}get options(){return this._def.values}get enum(){let r={};for(let t of this._def.values)r[t]=t;return r}get Values(){let r={};for(let t of this._def.values)r[t]=t;return r}get Enum(){let r={};for(let t of this._def.values)r[t]=t;return r}extract(r,t=this._def){return e.create(r,{...this._def,...t})}exclude(r,t=this._def){return e.create(this.options.filter(n=>!r.includes(n)),{...this._def,...t})}};p.ZodEnum=Lr;Lr.create=gd;var Nr=class extends k{_parse(r){let t=S.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==S.ZodParsedType.string&&n.parsedType!==S.ZodParsedType.number){let i=S.util.objectValues(t);return(0,h.addIssueToContext)(n,{expected:S.util.joinValues(i),received:n.parsedType,code:w.ZodIssueCode.invalid_type}),h.INVALID}if(this._cache||(this._cache=new Set(S.util.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){let i=S.util.objectValues(t);return(0,h.addIssueToContext)(n,{received:n.data,code:w.ZodIssueCode.invalid_enum_value,options:i}),h.INVALID}return(0,h.OK)(r.data)}get enum(){return this._def.values}};p.ZodNativeEnum=Nr;Nr.create=(e,r)=>new Nr({values:e,typeName:T.ZodNativeEnum,...M(r)});var Je=class extends k{unwrap(){return this._def.type}_parse(r){let{ctx:t}=this._processInputParams(r);if(t.parsedType!==S.ZodParsedType.promise&&t.common.async===!1)return(0,h.addIssueToContext)(t,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.promise,received:t.parsedType}),h.INVALID;let n=t.parsedType===S.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,h.OK)(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};p.ZodPromise=Je;Je.create=(e,r)=>new Je({type:e,typeName:T.ZodPromise,...M(r)});var le=class extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){let{status:t,ctx:n}=this._processInputParams(r),i=this._def.effect||null,o={addIssue:a=>{(0,h.addIssueToContext)(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let a=i.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async u=>{if(t.value==="aborted")return h.INVALID;let l=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return l.status==="aborted"?h.INVALID:l.status==="dirty"||t.value==="dirty"?(0,h.DIRTY)(l.value):l});{if(t.value==="aborted")return h.INVALID;let u=this._def.schema._parseSync({data:a,path:n.path,parent:n});return u.status==="aborted"?h.INVALID:u.status==="dirty"||t.value==="dirty"?(0,h.DIRTY)(u.value):u}}if(i.type==="refinement"){let a=u=>{let l=i.refinement(u,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?h.INVALID:(u.status==="dirty"&&t.dirty(),a(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?h.INVALID:(u.status==="dirty"&&t.dirty(),a(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,h.isValid)(a))return h.INVALID;let u=i.transform(a.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>(0,h.isValid)(a)?Promise.resolve(i.transform(a.value,o)).then(u=>({status:t.value,value:u})):h.INVALID);S.util.assertNever(i)}};p.ZodEffects=le;p.ZodTransformer=le;le.create=(e,r,t)=>new le({schema:e,typeName:T.ZodEffects,effect:r,...M(t)});le.createWithPreprocess=(e,r,t)=>new le({schema:r,effect:{type:"preprocess",transform:e},typeName:T.ZodEffects,...M(t)});var fe=class extends k{_parse(r){return this._getType(r)===S.ZodParsedType.undefined?(0,h.OK)(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};p.ZodOptional=fe;fe.create=(e,r)=>new fe({innerType:e,typeName:T.ZodOptional,...M(r)});var qe=class extends k{_parse(r){return this._getType(r)===S.ZodParsedType.null?(0,h.OK)(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};p.ZodNullable=qe;qe.create=(e,r)=>new qe({innerType:e,typeName:T.ZodNullable,...M(r)});var zr=class extends k{_parse(r){let{ctx:t}=this._processInputParams(r),n=t.data;return t.parsedType===S.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};p.ZodDefault=zr;zr.create=(e,r)=>new zr({innerType:e,typeName:T.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...M(r)});var Dr=class extends k{_parse(r){let{ctx:t}=this._processInputParams(r),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,h.isAsync)(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new w.ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new w.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};p.ZodCatch=Dr;Dr.create=(e,r)=>new Dr({innerType:e,typeName:T.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...M(r)});var _t=class extends k{_parse(r){if(this._getType(r)!==S.ZodParsedType.nan){let n=this._getOrReturnCtx(r);return(0,h.addIssueToContext)(n,{code:w.ZodIssueCode.invalid_type,expected:S.ZodParsedType.nan,received:n.parsedType}),h.INVALID}return{status:"valid",value:r.data}}};p.ZodNaN=_t;_t.create=e=>new _t({typeName:T.ZodNaN,...M(e)});p.BRAND=Symbol("zod_brand");var Mn=class extends k{_parse(r){let{ctx:t}=this._processInputParams(r),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}};p.ZodBranded=Mn;var kn=class e extends k{_parse(r){let{status:t,ctx:n}=this._processInputParams(r);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?h.INVALID:o.status==="dirty"?(t.dirty(),(0,h.DIRTY)(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?h.INVALID:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(r,t){return new e({in:r,out:t,typeName:T.ZodPipeline})}};p.ZodPipeline=kn;var Vr=class extends k{_parse(r){let t=this._def.innerType._parse(r),n=i=>((0,h.isValid)(i)&&(i.value=Object.freeze(i.value)),i);return(0,h.isAsync)(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}};p.ZodReadonly=Vr;Vr.create=(e,r)=>new Vr({innerType:e,typeName:T.ZodReadonly,...M(r)});function md(e,r){let t=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e;return typeof t=="string"?{message:t}:t}function Od(e,r={},t){return e?Ke.create().superRefine((n,i)=>{var a,u;let o=e(n);if(o instanceof Promise)return o.then(l=>{var s,f;if(!l){let v=md(r,n),m=(f=(s=v.fatal)!=null?s:t)!=null?f:!0;i.addIssue({code:"custom",...v,fatal:m})}});if(!o){let l=md(r,n),s=(u=(a=l.fatal)!=null?a:t)!=null?u:!0;i.addIssue({code:"custom",...l,fatal:s})}}):Ke.create()}p.late={object:oe.lazycreate};var T;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(T||(p.ZodFirstPartyTypeKind=T={}));var J_=(e,r={message:`Input not instance of ${e.name}`})=>Od(t=>t instanceof e,r);p.instanceof=J_;var wd=He.create;p.string=wd;var Sd=Ar.create;p.number=Sd;var Q_=_t.create;p.nan=Q_;var X_=xr.create;p.bigint=X_;var Pd=Tr.create;p.boolean=Pd;var eb=Er.create;p.date=eb;var rb=pt.create;p.symbol=rb;var tb=Mr.create;p.undefined=tb;var nb=kr.create;p.null=nb;var ib=Ke.create;p.any=ib;var ob=Ze.create;p.unknown=ob;var ab=_e.create;p.never=ab;var ub=ht.create;p.void=ub;var sb=Ue.create;p.array=sb;var cb=oe.create;p.object=cb;var lb=oe.strictCreate;p.strictObject=lb;var db=Fr.create;p.union=db;var fb=Pi.create;p.discriminatedUnion=fb;var vb=Rr.create;p.intersection=vb;var pb=Pe.create;p.tuple=pb;var hb=qi.create;p.record=hb;var mb=mt.create;p.map=mb;var yb=yt.create;p.set=yb;var _b=ji.create;p.function=_b;var bb=Zr.create;p.lazy=bb;var gb=Ur.create;p.literal=gb;var Ob=Lr.create;p.enum=Ob;var wb=Nr.create;p.nativeEnum=wb;var Sb=Je.create;p.promise=Sb;var qd=le.create;p.effect=qd;p.transformer=qd;var Pb=fe.create;p.optional=Pb;var qb=qe.create;p.nullable=qb;var jb=le.createWithPreprocess;p.preprocess=jb;var Cb=kn.create;p.pipeline=Cb;var Ib=()=>wd().optional();p.ostring=Ib;var Ab=()=>Sd().optional();p.onumber=Ab;var xb=()=>Pd().optional();p.oboolean=xb;p.coerce={string:(e=>He.create({...e,coerce:!0})),number:(e=>Ar.create({...e,coerce:!0})),boolean:(e=>Tr.create({...e,coerce:!0})),bigint:(e=>xr.create({...e,coerce:!0})),date:(e=>Er.create({...e,coerce:!0}))};p.NEVER=h.INVALID});var Cs=d(pe=>{"use strict";var Tb=pe&&pe.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),bt=pe&&pe.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Tb(r,e,t)};Object.defineProperty(pe,"__esModule",{value:!0});bt(Oi(),pe);bt(Ps(),pe);bt(fd(),pe);bt(Tn(),pe);bt(jd(),pe);bt(gi(),pe)});var N=d(ae=>{"use strict";var Cd=ae&&ae.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),Eb=ae&&ae.__setModuleDefault||(Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r}),Mb=ae&&ae.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Cd(r,e,t);return Eb(r,e),r},kb=ae&&ae.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Cd(r,e,t)};Object.defineProperty(ae,"__esModule",{value:!0});ae.z=void 0;var Id=Mb(Cs());ae.z=Id;kb(Cs(),ae);ae.default=Id});var Is=d(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.actionTypesZodSchema=gt.ActionTypes=void 0;var Fb=N(),Ad;(function(e){e.OpenUrl="openUrl",e.ImBack="imBack",e.PostBack="postBack",e.PlayAudio="playAudio",e.PlayVideo="playVideo",e.ShowImage="showImage",e.DownloadFile="downloadFile",e.Signin="signin",e.Call="call",e.MessageBack="messageBack",e.OpenApp="openApp"})(Ad||(gt.ActionTypes=Ad={}));gt.actionTypesZodSchema=Fb.z.enum(["openUrl","imBack","postBack","playAudio","showImage","downloadFile","signin","call","messageBack","openApp"])});var As=d(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.semanticActionStateTypesZodSchema=Ot.SemanticActionStateTypes=void 0;var Rb=N(),xd;(function(e){e.Start="start",e.Continue="continue",e.Done="done"})(xd||(Ot.SemanticActionStateTypes=xd={}));Ot.semanticActionStateTypesZodSchema=Rb.z.enum(["start","continue","done"])});var xs=d(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.attachmentLayoutTypesZodSchema=wt.AttachmentLayoutTypes=void 0;var Zb=N(),Td;(function(e){e.List="list",e.Carousel="carousel"})(Td||(wt.AttachmentLayoutTypes=Td={}));wt.attachmentLayoutTypesZodSchema=Zb.z.enum(["list","carousel"])});var Ts=d(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.Channels=void 0;var Ed;(function(e){e.Alexa="alexa",e.Console="console",e.Directline="directline",e.DirectlineSpeech="directlinespeech",e.Email="email",e.Emulator="emulator",e.Facebook="facebook",e.Groupme="groupme",e.Line="line",e.Msteams="msteams",e.Omni="omnichannel",e.Outlook="outlook",e.Skype="skype",e.Slack="slack",e.Sms="sms",e.Telegram="telegram",e.Telephony="telephony",e.Test="test",e.Webchat="webchat"})(Ed||(Ci.Channels=Ed={}))});var Es=d(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.endOfConversationCodesZodSchema=St.EndOfConversationCodes=void 0;var Ub=N(),Md;(function(e){e.Unknown="unknown",e.CompletedSuccessfully="completedSuccessfully",e.UserCancelled="userCancelled",e.AgentTimedOut="agentTimedOut",e.AgentIssuedInvalidMessage="agentIssuedInvalidMessage",e.ChannelFailed="channelFailed"})(Md||(St.EndOfConversationCodes=Md={}));St.endOfConversationCodesZodSchema=Ub.z.enum(["unknown","completedSuccessfully","userCancelled","agentTimedOut","agentIssuedInvalidMessage","channelFailed"])});var Fd=d(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.membershipSourceTypeZodSchema=Pt.MembershipSourceTypes=void 0;var Lb=N(),kd;(function(e){e.Channel="channel",e.Team="team"})(kd||(Pt.MembershipSourceTypes=kd={}));Pt.membershipSourceTypeZodSchema=Lb.z.enum(["channel","team"])});var Zd=d(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.membershipTypeZodSchema=qt.MembershipTypes=void 0;var Nb=N(),Rd;(function(e){e.Direct="direct",e.Transitive="transitive"})(Rd||(qt.MembershipTypes=Rd={}));qt.membershipTypeZodSchema=Nb.z.enum(["direct","transitive"])});var Ii=d(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.roleTypeZodSchema=jt.RoleTypes=void 0;var zb=N(),Ud;(function(e){e.User="user",e.Agent="bot",e.Skill="skill"})(Ud||(jt.RoleTypes=Ud={}));jt.roleTypeZodSchema=zb.z.enum(["user","bot","skill"])});var Ld=d(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.addAIToActivity=void 0;var Db=(e,r,t)=>{var n;let i={type:"https://schema.org/Message","@type":"Message","@context":"https://schema.org","@id":"",additionalType:["AIGeneratedContent"],citation:r,usageInfo:t};(n=e.entities)!==null&&n!==void 0||(e.entities=[]),e.entities.push(i)};Ai.addAIToActivity=Db});var Nd=d(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.adaptiveCardInvokeActionZodSchema=void 0;var $r=N();xi.adaptiveCardInvokeActionZodSchema=$r.z.object({type:$r.z.string().min(1),id:$r.z.string().optional(),verb:$r.z.string().min(1),data:$r.z.record($r.z.string().min(1),$r.z.any())})});var zd=d(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var Dd=d(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.default="00000000-0000-0000-0000-000000000000"});var Vd=d(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var Fn=d(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var Vb=Vd();function $b(e){return typeof e=="string"&&Vb.default.test(e)}Rs.default=$b});var Rn=d(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});var Wb=Fn();function Bb(e){if(!(0,Wb.default)(e))throw TypeError("Invalid UUID");let r;return Uint8Array.of((r=parseInt(e.slice(0,8),16))>>>24,r>>>16&255,r>>>8&255,r&255,(r=parseInt(e.slice(9,13),16))>>>8,r&255,(r=parseInt(e.slice(14,18),16))>>>8,r&255,(r=parseInt(e.slice(19,23),16))>>>8,r&255,(r=parseInt(e.slice(24,36),16))/1099511627776&255,r/4294967296&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255)}Zs.default=Bb});var Le=d(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.unsafeStringify=void 0;var Gb=Fn(),Y=[];for(let e=0;e<256;++e)Y.push((e+256).toString(16).slice(1));function $d(e,r=0){return(Y[e[r+0]]+Y[e[r+1]]+Y[e[r+2]]+Y[e[r+3]]+"-"+Y[e[r+4]]+Y[e[r+5]]+"-"+Y[e[r+6]]+Y[e[r+7]]+"-"+Y[e[r+8]]+Y[e[r+9]]+"-"+Y[e[r+10]]+Y[e[r+11]]+Y[e[r+12]]+Y[e[r+13]]+Y[e[r+14]]+Y[e[r+15]]).toLowerCase()}Zn.unsafeStringify=$d;function Yb(e,r=0){let t=$d(e,r);if(!(0,Gb.default)(t))throw TypeError("Stringified UUID is invalid");return t}Zn.default=Yb});var Ti=d(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Us,Hb=new Uint8Array(16);function Kb(){if(!Us){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Us=crypto.getRandomValues.bind(crypto)}return Us(Hb)}Ls.default=Kb});var Ns=d(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.updateV1State=void 0;var Wd=Ti(),Jb=Le(),Un={};function Qb(e,r,t){var o,a,u,l;let n,i=(o=e==null?void 0:e._v6)!=null?o:!1;if(e){let s=Object.keys(e);s.length===1&&s[0]==="_v6"&&(e=void 0)}if(e)n=Bd((l=(u=e.random)!=null?u:(a=e.rng)==null?void 0:a.call(e))!=null?l:(0,Wd.default)(),e.msecs,e.nsecs,e.clockseq,e.node,r,t);else{let s=Date.now(),f=(0,Wd.default)();Gd(Un,s,f),n=Bd(f,Un.msecs,Un.nsecs,i?void 0:Un.clockseq,i?void 0:Un.node,r,t)}return r!=null?r:(0,Jb.unsafeStringify)(n)}function Gd(e,r,t){var n,i;return(n=e.msecs)!=null||(e.msecs=-1/0),(i=e.nsecs)!=null||(e.nsecs=0),r===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):r>e.msecs?e.nsecs=0:r<e.msecs&&(e.node=void 0),e.node||(e.node=t.slice(10,16),e.node[0]|=1,e.clockseq=(t[8]<<8|t[9])&16383),e.msecs=r,e}Ln.updateV1State=Gd;function Bd(e,r,t,n,i,o,a=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!o)o=new Uint8Array(16),a=0;else if(a<0||a+16>o.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);r!=null||(r=Date.now()),t!=null||(t=0),n!=null||(n=(e[8]<<8|e[9])&16383),i!=null||(i=e.slice(10,16)),r+=122192928e5;let u=((r&268435455)*1e4+t)%4294967296;o[a++]=u>>>24&255,o[a++]=u>>>16&255,o[a++]=u>>>8&255,o[a++]=u&255;let l=r/4294967296*1e4&268435455;o[a++]=l>>>8&255,o[a++]=l&255,o[a++]=l>>>24&15|16,o[a++]=l>>>16&255,o[a++]=n>>>8|128,o[a++]=n&255;for(let s=0;s<6;++s)o[a++]=i[s];return o}Ln.default=Qb});var Ds=d(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var Xb=Rn(),eg=Le();function rg(e){let r=typeof e=="string"?(0,Xb.default)(e):e,t=tg(r);return typeof e=="string"?(0,eg.unsafeStringify)(t):t}zs.default=rg;function tg(e){return Uint8Array.of((e[6]&15)<<4|e[7]>>4&15,(e[7]&15)<<4|(e[4]&240)>>4,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,(e[1]&15)<<4|(e[2]&240)>>4,96|e[2]&15,e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}});var Hd=d(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});function ng(e){let r=ag(e),t=og(r,e.length*8);return ig(t)}function ig(e){let r=new Uint8Array(e.length*4);for(let t=0;t<e.length*4;t++)r[t]=e[t>>2]>>>t%4*8&255;return r}function Yd(e){return(e+64>>>9<<4)+14+1}function og(e,r){let t=new Uint32Array(Yd(r)).fill(0);t.set(e),t[r>>5]|=128<<r%32,t[t.length-1]=r,e=t;let n=1732584193,i=-271733879,o=-1732584194,a=271733878;for(let u=0;u<e.length;u+=16){let l=n,s=i,f=o,v=a;n=X(n,i,o,a,e[u],7,-680876936),a=X(a,n,i,o,e[u+1],12,-389564586),o=X(o,a,n,i,e[u+2],17,606105819),i=X(i,o,a,n,e[u+3],22,-1044525330),n=X(n,i,o,a,e[u+4],7,-176418897),a=X(a,n,i,o,e[u+5],12,1200080426),o=X(o,a,n,i,e[u+6],17,-1473231341),i=X(i,o,a,n,e[u+7],22,-45705983),n=X(n,i,o,a,e[u+8],7,1770035416),a=X(a,n,i,o,e[u+9],12,-1958414417),o=X(o,a,n,i,e[u+10],17,-42063),i=X(i,o,a,n,e[u+11],22,-1990404162),n=X(n,i,o,a,e[u+12],7,1804603682),a=X(a,n,i,o,e[u+13],12,-40341101),o=X(o,a,n,i,e[u+14],17,-1502002290),i=X(i,o,a,n,e[u+15],22,1236535329),n=ee(n,i,o,a,e[u+1],5,-165796510),a=ee(a,n,i,o,e[u+6],9,-1069501632),o=ee(o,a,n,i,e[u+11],14,643717713),i=ee(i,o,a,n,e[u],20,-373897302),n=ee(n,i,o,a,e[u+5],5,-701558691),a=ee(a,n,i,o,e[u+10],9,38016083),o=ee(o,a,n,i,e[u+15],14,-660478335),i=ee(i,o,a,n,e[u+4],20,-405537848),n=ee(n,i,o,a,e[u+9],5,568446438),a=ee(a,n,i,o,e[u+14],9,-1019803690),o=ee(o,a,n,i,e[u+3],14,-187363961),i=ee(i,o,a,n,e[u+8],20,1163531501),n=ee(n,i,o,a,e[u+13],5,-1444681467),a=ee(a,n,i,o,e[u+2],9,-51403784),o=ee(o,a,n,i,e[u+7],14,1735328473),i=ee(i,o,a,n,e[u+12],20,-1926607734),n=re(n,i,o,a,e[u+5],4,-378558),a=re(a,n,i,o,e[u+8],11,-2022574463),o=re(o,a,n,i,e[u+11],16,1839030562),i=re(i,o,a,n,e[u+14],23,-35309556),n=re(n,i,o,a,e[u+1],4,-1530992060),a=re(a,n,i,o,e[u+4],11,1272893353),o=re(o,a,n,i,e[u+7],16,-155497632),i=re(i,o,a,n,e[u+10],23,-1094730640),n=re(n,i,o,a,e[u+13],4,681279174),a=re(a,n,i,o,e[u],11,-358537222),o=re(o,a,n,i,e[u+3],16,-722521979),i=re(i,o,a,n,e[u+6],23,76029189),n=re(n,i,o,a,e[u+9],4,-640364487),a=re(a,n,i,o,e[u+12],11,-421815835),o=re(o,a,n,i,e[u+15],16,530742520),i=re(i,o,a,n,e[u+2],23,-995338651),n=te(n,i,o,a,e[u],6,-198630844),a=te(a,n,i,o,e[u+7],10,1126891415),o=te(o,a,n,i,e[u+14],15,-1416354905),i=te(i,o,a,n,e[u+5],21,-57434055),n=te(n,i,o,a,e[u+12],6,1700485571),a=te(a,n,i,o,e[u+3],10,-1894986606),o=te(o,a,n,i,e[u+10],15,-1051523),i=te(i,o,a,n,e[u+1],21,-2054922799),n=te(n,i,o,a,e[u+8],6,1873313359),a=te(a,n,i,o,e[u+15],10,-30611744),o=te(o,a,n,i,e[u+6],15,-1560198380),i=te(i,o,a,n,e[u+13],21,1309151649),n=te(n,i,o,a,e[u+4],6,-145523070),a=te(a,n,i,o,e[u+11],10,-1120210379),o=te(o,a,n,i,e[u+2],15,718787259),i=te(i,o,a,n,e[u+9],21,-343485551),n=Qe(n,l),i=Qe(i,s),o=Qe(o,f),a=Qe(a,v)}return Uint32Array.of(n,i,o,a)}function ag(e){if(e.length===0)return new Uint32Array;let r=new Uint32Array(Yd(e.length*8)).fill(0);for(let t=0;t<e.length;t++)r[t>>2]|=(e[t]&255)<<t%4*8;return r}function Qe(e,r){let t=(e&65535)+(r&65535);return(e>>16)+(r>>16)+(t>>16)<<16|t&65535}function ug(e,r){return e<<r|e>>>32-r}function Ei(e,r,t,n,i,o){return Qe(ug(Qe(Qe(r,e),Qe(n,o)),i),t)}function X(e,r,t,n,i,o,a){return Ei(r&t|~r&n,e,r,i,o,a)}function ee(e,r,t,n,i,o,a){return Ei(r&n|t&~n,e,r,i,o,a)}function re(e,r,t,n,i,o,a){return Ei(r^t^n,e,r,i,o,a)}function te(e,r,t,n,i,o,a){return Ei(t^(r|~n),e,r,i,o,a)}Vs.default=ng});var Nn=d(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.URL=Ne.DNS=Ne.stringToBytes=void 0;var Kd=Rn(),sg=Le();function Jd(e){e=unescape(encodeURIComponent(e));let r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t);return r}Ne.stringToBytes=Jd;Ne.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ne.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function cg(e,r,t,n,i,o){let a=typeof t=="string"?Jd(t):t,u=typeof n=="string"?(0,Kd.default)(n):n;if(typeof n=="string"&&(n=(0,Kd.default)(n)),(n==null?void 0:n.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(u),l.set(a,u.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,i){o=o||0;for(let s=0;s<16;++s)i[o+s]=l[s];return i}return(0,sg.unsafeStringify)(l)}Ne.default=cg});var Xd=d(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.URL=Wr.DNS=void 0;var lg=Hd(),$s=Nn(),Qd=Nn();Object.defineProperty(Wr,"DNS",{enumerable:!0,get:function(){return Qd.DNS}});Object.defineProperty(Wr,"URL",{enumerable:!0,get:function(){return Qd.URL}});function Ws(e,r,t,n){return(0,$s.default)(48,lg.default,e,r,t,n)}Ws.DNS=$s.DNS;Ws.URL=$s.URL;Wr.default=Ws});var ef=d(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var dg=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);Bs.default={randomUUID:dg}});var tf=d(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var rf=ef(),fg=Ti(),vg=Le();function pg(e,r,t){var i,o,a;if(rf.default.randomUUID&&!r&&!e)return rf.default.randomUUID();e=e||{};let n=(a=(o=e.random)!=null?o:(i=e.rng)==null?void 0:i.call(e))!=null?a:(0,fg.default)();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){if(t=t||0,t<0||t+16>r.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let u=0;u<16;++u)r[t+u]=n[u];return r}return(0,vg.unsafeStringify)(n)}Gs.default=pg});var nf=d(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});function hg(e,r,t,n){switch(e){case 0:return r&t^~r&n;case 1:return r^t^n;case 2:return r&t^r&n^t&n;case 3:return r^t^n}}function Ys(e,r){return e<<r|e>>>32-r}function mg(e){let r=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520],n=new Uint8Array(e.length+1);n.set(e),n[e.length]=128,e=n;let i=e.length/4+2,o=Math.ceil(i/16),a=new Array(o);for(let u=0;u<o;++u){let l=new Uint32Array(16);for(let s=0;s<16;++s)l[s]=e[u*64+s*4]<<24|e[u*64+s*4+1]<<16|e[u*64+s*4+2]<<8|e[u*64+s*4+3];a[u]=l}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<o;++u){let l=new Uint32Array(80);for(let g=0;g<16;++g)l[g]=a[u][g];for(let g=16;g<80;++g)l[g]=Ys(l[g-3]^l[g-8]^l[g-14]^l[g-16],1);let s=t[0],f=t[1],v=t[2],m=t[3],b=t[4];for(let g=0;g<80;++g){let y=Math.floor(g/20),_=Ys(s,5)+hg(y,f,v,m)+b+r[y]+l[g]>>>0;b=m,m=v,v=Ys(f,30)>>>0,f=s,s=_}t[0]=t[0]+s>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+v>>>0,t[3]=t[3]+m>>>0,t[4]=t[4]+b>>>0}return Uint8Array.of(t[0]>>24,t[0]>>16,t[0]>>8,t[0],t[1]>>24,t[1]>>16,t[1]>>8,t[1],t[2]>>24,t[2]>>16,t[2]>>8,t[2],t[3]>>24,t[3]>>16,t[3]>>8,t[3],t[4]>>24,t[4]>>16,t[4]>>8,t[4])}Hs.default=mg});var af=d(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.URL=Br.DNS=void 0;var yg=nf(),Ks=Nn(),of=Nn();Object.defineProperty(Br,"DNS",{enumerable:!0,get:function(){return of.DNS}});Object.defineProperty(Br,"URL",{enumerable:!0,get:function(){return of.URL}});function Js(e,r,t,n){return(0,Ks.default)(80,yg.default,e,r,t,n)}Js.DNS=Ks.DNS;Js.URL=Ks.URL;Br.default=Js});var uf=d(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});var _g=Le(),bg=Ns(),gg=Ds();function Og(e,r,t){e!=null||(e={}),t!=null||(t=0);let n=(0,bg.default)({...e,_v6:!0},new Uint8Array(16));if(n=(0,gg.default)(n),r){for(let i=0;i<16;i++)r[t+i]=n[i];return r}return(0,_g.unsafeStringify)(n)}Qs.default=Og});var sf=d(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var wg=Rn(),Sg=Le();function Pg(e){let r=typeof e=="string"?(0,wg.default)(e):e,t=qg(r);return typeof e=="string"?(0,Sg.unsafeStringify)(t):t}Xs.default=Pg;function qg(e){return Uint8Array.of((e[3]&15)<<4|e[4]>>4&15,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|e[6]&15,e[7],(e[1]&15)<<4|(e[2]&240)>>4,(e[2]&15)<<4|(e[3]&240)>>4,16|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}});var ff=d(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.updateV7State=void 0;var cf=Ti(),jg=Le(),ec={};function Cg(e,r,t){var i,o,a;let n;if(e)n=lf((a=(o=e.random)!=null?o:(i=e.rng)==null?void 0:i.call(e))!=null?a:(0,cf.default)(),e.msecs,e.seq,r,t);else{let u=Date.now(),l=(0,cf.default)();df(ec,u,l),n=lf(l,ec.msecs,ec.seq,r,t)}return r!=null?r:(0,jg.unsafeStringify)(n)}function df(e,r,t){var n,i;return(n=e.msecs)!=null||(e.msecs=-1/0),(i=e.seq)!=null||(e.seq=0),r>e.msecs?(e.seq=t[6]<<23|t[7]<<16|t[8]<<8|t[9],e.msecs=r):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}zn.updateV7State=df;function lf(e,r,t,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return r!=null||(r=Date.now()),t!=null||(t=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9]),n[i++]=r/1099511627776&255,n[i++]=r/4294967296&255,n[i++]=r/16777216&255,n[i++]=r/65536&255,n[i++]=r/256&255,n[i++]=r&255,n[i++]=112|t>>>28&15,n[i++]=t>>>20&255,n[i++]=128|t>>>14&63,n[i++]=t>>>6&255,n[i++]=t<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}zn.default=Cg});var vf=d(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var Ig=Fn();function Ag(e){if(!(0,Ig.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}rc.default=Ag});var tc=d(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.version=Z.validate=Z.v7=Z.v6ToV1=Z.v6=Z.v5=Z.v4=Z.v3=Z.v1ToV6=Z.v1=Z.stringify=Z.parse=Z.NIL=Z.MAX=void 0;var xg=zd();Object.defineProperty(Z,"MAX",{enumerable:!0,get:function(){return xg.default}});var Tg=Dd();Object.defineProperty(Z,"NIL",{enumerable:!0,get:function(){return Tg.default}});var Eg=Rn();Object.defineProperty(Z,"parse",{enumerable:!0,get:function(){return Eg.default}});var Mg=Le();Object.defineProperty(Z,"stringify",{enumerable:!0,get:function(){return Mg.default}});var kg=Ns();Object.defineProperty(Z,"v1",{enumerable:!0,get:function(){return kg.default}});var Fg=Ds();Object.defineProperty(Z,"v1ToV6",{enumerable:!0,get:function(){return Fg.default}});var Rg=Xd();Object.defineProperty(Z,"v3",{enumerable:!0,get:function(){return Rg.default}});var Zg=tf();Object.defineProperty(Z,"v4",{enumerable:!0,get:function(){return Zg.default}});var Ug=af();Object.defineProperty(Z,"v5",{enumerable:!0,get:function(){return Ug.default}});var Lg=uf();Object.defineProperty(Z,"v6",{enumerable:!0,get:function(){return Lg.default}});var Ng=sf();Object.defineProperty(Z,"v6ToV1",{enumerable:!0,get:function(){return Ng.default}});var zg=ff();Object.defineProperty(Z,"v7",{enumerable:!0,get:function(){return zg.default}});var Dg=Fn();Object.defineProperty(Z,"validate",{enumerable:!0,get:function(){return Dg.default}});var Vg=vf();Object.defineProperty(Z,"version",{enumerable:!0,get:function(){return Vg.default}})});var nc=d(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.entityZodSchema=void 0;var pf=N();Mi.entityZodSchema=pf.z.object({type:pf.z.string().min(1)}).passthrough()});var hf=d(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.semanticActionZodSchema=void 0;var Dn=N(),$g=nc(),Wg=As();ki.semanticActionZodSchema=Dn.z.object({id:Dn.z.string().min(1),state:Dn.z.union([Wg.semanticActionStateTypesZodSchema,Dn.z.string().min(1)]),entities:Dn.z.record($g.entityZodSchema)})});var mf=d(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.cardActionZodSchema=void 0;var je=N(),Bg=Is();Fi.cardActionZodSchema=je.z.object({type:je.z.union([Bg.actionTypesZodSchema,je.z.string().min(1)]),title:je.z.string().min(1),image:je.z.string().min(1).optional(),text:je.z.string().min(1).optional(),displayText:je.z.string().min(1).optional(),value:je.z.any().optional(),channelData:je.z.unknown().optional(),imageAltText:je.z.string().min(1).optional()})});var yf=d(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.suggestedActionsZodSchema=void 0;var Ri=N(),Gg=mf();Zi.suggestedActionsZodSchema=Ri.z.object({to:Ri.z.array(Ri.z.string().min(1)),actions:Ri.z.array(Gg.cardActionZodSchema)})});var ic=d(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.activityEventNamesZodSchema=Ct.ActivityEventNames=void 0;var Yg=N(),_f;(function(e){e.ContinueConversation="ContinueConversation",e.CreateConversation="CreateConversation"})(_f||(Ct.ActivityEventNames=_f={}));Ct.activityEventNamesZodSchema=Yg.z.enum(["ContinueConversation","CreateConversation"])});var oc=d(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.activityImportanceZodSchema=It.ActivityImportance=void 0;var Hg=N(),bf;(function(e){e.Low="low",e.Normal="normal",e.High="high"})(bf||(It.ActivityImportance=bf={}));It.activityImportanceZodSchema=Hg.z.enum(["low","normal","high"])});var ac=d(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.activityTypesZodSchema=At.ActivityTypes=void 0;var Kg=N(),gf;(function(e){e.Message="message",e.ContactRelationUpdate="contactRelationUpdate",e.ConversationUpdate="conversationUpdate",e.Typing="typing",e.EndOfConversation="endOfConversation",e.Event="event",e.Invoke="invoke",e.InvokeResponse="invokeResponse",e.DeleteUserData="deleteUserData",e.MessageUpdate="messageUpdate",e.MessageDelete="messageDelete",e.InstallationUpdate="installationUpdate",e.MessageReaction="messageReaction",e.Suggestion="suggestion",e.Trace="trace",e.Handoff="handoff",e.Command="command",e.CommandResult="commandResult",e.Delay="delay"})(gf||(At.ActivityTypes=gf={}));At.activityTypesZodSchema=Kg.z.enum(["message","contactRelationUpdate","conversationUpdate","typing","endOfConversation","event","invoke","invokeResponse","deleteUserData","messageUpdate","messageDelete","installationUpdate","messageReaction","suggestion","trace","handoff","command","commandResult","delay"])});var Of=d(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.attachmentZodSchema=void 0;var xt=N();Ui.attachmentZodSchema=xt.z.object({contentType:xt.z.string().min(1),contentUrl:xt.z.string().min(1).optional(),content:xt.z.unknown().optional(),name:xt.z.string().min(1).optional(),thumbnailUrl:xt.z.string().min(1).optional()})});var uc=d(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.channelAccountZodSchema=void 0;var Gr=N(),Jg=Ii();Li.channelAccountZodSchema=Gr.z.object({id:Gr.z.string().min(1).optional(),name:Gr.z.string().optional(),aadObjectId:Gr.z.string().min(1).optional(),role:Gr.z.union([Jg.roleTypeZodSchema,Gr.z.string().min(1)]).optional(),properties:Gr.z.unknown().optional()})});var sc=d(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.conversationAccountZodSchema=void 0;var Ce=N(),Qg=Ii();Ni.conversationAccountZodSchema=Ce.z.object({isGroup:Ce.z.boolean().optional(),conversationType:Ce.z.string().min(1).optional(),tenantId:Ce.z.string().min(1).optional(),id:Ce.z.string().min(1),name:Ce.z.string().min(1).optional(),aadObjectId:Ce.z.string().min(1).optional(),role:Ce.z.union([Qg.roleTypeZodSchema,Ce.z.string().min(1)]).optional(),properties:Ce.z.unknown().optional()})});var Sf=d(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.conversationReferenceZodSchema=void 0;var Vn=N(),wf=uc(),Xg=sc();zi.conversationReferenceZodSchema=Vn.z.object({activityId:Vn.z.string().min(1).optional(),user:wf.channelAccountZodSchema.optional(),locale:Vn.z.string().min(1).optional(),agent:wf.channelAccountZodSchema.optional().nullable(),conversation:Xg.conversationAccountZodSchema,channelId:Vn.z.string().min(1),serviceUrl:Vn.z.string().min(1).optional()})});var cc=d(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.deliveryModesZodSchema=Tt.DeliveryModes=void 0;var e0=N(),Pf;(function(e){e.Normal="normal",e.Notification="notification",e.ExpectReplies="expectReplies",e.Ephemeral="ephemeral"})(Pf||(Tt.DeliveryModes=Pf={}));Tt.deliveryModesZodSchema=e0.z.enum(["normal","notification","expectReplies","ephemeral"])});var lc=d(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.inputHintsZodSchema=Et.InputHints=void 0;var r0=N(),qf;(function(e){e.AcceptingInput="acceptingInput",e.IgnoringInput="ignoringInput",e.ExpectingInput="expectingInput"})(qf||(Et.InputHints=qf={}));Et.inputHintsZodSchema=r0.z.enum(["acceptingInput","ignoringInput","expectingInput"])});var dc=d(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.messageReactionTypesZodSchema=Mt.MessageReactionTypes=void 0;var t0=N(),jf;(function(e){e.Like="like",e.PlusOne="plusOne"})(jf||(Mt.MessageReactionTypes=jf={}));Mt.messageReactionTypesZodSchema=t0.z.enum(["like","plusOne"])});var Cf=d(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.messageReactionZodSchema=void 0;var fc=N(),n0=dc();Di.messageReactionZodSchema=fc.z.object({type:fc.z.union([n0.messageReactionTypesZodSchema,fc.z.string().min(1)])})});var vc=d(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.textFormatTypesZodSchema=kt.TextFormatTypes=void 0;var i0=N(),If;(function(e){e.Markdown="markdown",e.Plain="plain",e.Xml="xml"})(If||(kt.TextFormatTypes=If={}));kt.textFormatTypesZodSchema=i0.z.enum(["markdown","plain","xml"])});var Af=d(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.textHighlightZodSchema=void 0;var pc=N();Vi.textHighlightZodSchema=pc.z.object({text:pc.z.string().min(1),occurrence:pc.z.number()})});var Mf=d(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.Activity=Yr.activityZodSchema=void 0;var o0=tc(),A=N(),a0=hf(),u0=yf(),Ef=ic(),s0=oc(),Wi=ac(),c0=Of(),l0=xs(),$i=uc(),xf=Ts(),d0=sc(),f0=Sf(),v0=Es(),p0=cc(),h0=nc(),m0=lc(),Tf=Cf(),y0=vc(),_0=Af();Yr.activityZodSchema=A.z.object({type:A.z.union([Wi.activityTypesZodSchema,A.z.string().min(1)]),text:A.z.string().optional(),id:A.z.string().min(1).optional(),channelId:A.z.string().min(1).optional(),from:$i.channelAccountZodSchema.optional(),timestamp:A.z.union([A.z.date(),A.z.string().min(1).datetime().optional(),A.z.string().min(1).transform(e=>new Date(e)).optional()]),localTimestamp:A.z.string().min(1).transform(e=>new Date(e)).optional().or(A.z.date()).optional(),localTimezone:A.z.string().min(1).optional(),callerId:A.z.string().min(1).optional(),serviceUrl:A.z.string().min(1).optional(),conversation:d0.conversationAccountZodSchema.optional(),recipient:$i.channelAccountZodSchema.optional(),textFormat:A.z.union([y0.textFormatTypesZodSchema,A.z.string().min(1)]).optional(),attachmentLayout:A.z.union([l0.attachmentLayoutTypesZodSchema,A.z.string().min(1)]).optional(),membersAdded:A.z.array($i.channelAccountZodSchema).optional(),membersRemoved:A.z.array($i.channelAccountZodSchema).optional(),reactionsAdded:A.z.array(Tf.messageReactionZodSchema).optional(),reactionsRemoved:A.z.array(Tf.messageReactionZodSchema).optional(),topicName:A.z.string().min(1).optional(),historyDisclosed:A.z.boolean().optional(),locale:A.z.string().min(1).optional(),speak:A.z.string().min(1).optional(),inputHint:A.z.union([m0.inputHintsZodSchema,A.z.string().min(1)]).optional(),summary:A.z.string().min(1).optional(),suggestedActions:u0.suggestedActionsZodSchema.optional(),attachments:A.z.array(c0.attachmentZodSchema).optional(),entities:A.z.array(h0.entityZodSchema.passthrough()).optional(),channelData:A.z.any().optional(),action:A.z.string().min(1).optional(),replyToId:A.z.string().min(1).optional(),label:A.z.string().min(1).optional(),valueType:A.z.string().min(1).optional(),value:A.z.unknown().optional(),name:A.z.union([Ef.activityEventNamesZodSchema,A.z.string().min(1)]).optional(),relatesTo:f0.conversationReferenceZodSchema.optional(),code:A.z.union([v0.endOfConversationCodesZodSchema,A.z.string().min(1)]).optional(),expiration:A.z.string().min(1).datetime().optional(),importance:A.z.union([s0.activityImportanceZodSchema,A.z.string().min(1)]).optional(),deliveryMode:A.z.union([p0.deliveryModesZodSchema,A.z.string().min(1)]).optional(),listenFor:A.z.array(A.z.string().min(1)).optional(),textHighlights:A.z.array(_0.textHighlightZodSchema).optional(),semanticAction:a0.semanticActionZodSchema.optional()});var hc=class e{constructor(r){if(r===void 0)throw new Error("Invalid ActivityType: undefined");if(r===null)throw new Error("Invalid ActivityType: null");if(typeof r=="string"&&r.length===0)throw new Error("Invalid ActivityType: empty string");this.type=r}static fromJson(r){return this.fromObject(JSON.parse(r))}static fromObject(r){let t=Yr.activityZodSchema.passthrough().parse(r),n=new e(t.type);return Object.assign(n,t),n}static getContinuationActivity(r){let t={type:Wi.ActivityTypes.Event,name:Ef.ActivityEventNames.ContinueConversation,id:(0,o0.v4)(),channelId:r.channelId,locale:r.locale,serviceUrl:r.serviceUrl,conversation:r.conversation,recipient:r.agent,from:r.user,relatesTo:r};return e.fromObject(t)}getAppropriateReplyToId(){if(this.type!==Wi.ActivityTypes.ConversationUpdate||this.channelId!==xf.Channels.Directline&&this.channelId!==xf.Channels.Webchat)return this.id}getConversationReference(){if(this.recipient===null||this.recipient===void 0)throw new Error("Activity Recipient undefined");if(this.conversation===null||this.conversation===void 0)throw new Error("Activity Conversation undefined");if(this.channelId===null||this.channelId===void 0)throw new Error("Activity ChannelId undefined");return{activityId:this.getAppropriateReplyToId(),user:this.from,agent:this.recipient,conversation:this.conversation,channelId:this.channelId,locale:this.locale,serviceUrl:this.serviceUrl}}applyConversationReference(r,t=!1){var n,i,o;return this.channelId=r.channelId,(n=this.locale)!==null&&n!==void 0||(this.locale=r.locale),this.serviceUrl=r.serviceUrl,this.conversation=r.conversation,t?(this.from=r.user,this.recipient=(i=r.agent)!==null&&i!==void 0?i:void 0,r.activityId&&(this.id=r.activityId)):(this.from=(o=r.agent)!==null&&o!==void 0?o:void 0,this.recipient=r.user,r.activityId&&(this.replyToId=r.activityId)),this}clone(){let r=JSON.parse(JSON.stringify(this));for(let t in r)typeof r[t]=="string"&&!isNaN(Date.parse(r[t]))&&(r[t]=new Date(r[t]));return Object.setPrototypeOf(r,e.prototype),r}getMentions(r){let t=[];if(r.entities!==void 0)for(let n=0;n<r.entities.length;n++)r.entities[n].type.toLowerCase()==="mention"&&t.push(r.entities[n]);return t}normalizeMentions(r=!1){var t,n;if(this.type===Wi.ActivityTypes.Message&&(r&&(this.removeRecipientMention(),this.entities!==void 0&&(!((t=this.recipient)===null||t===void 0)&&t.id)&&(this.entities=this.entities.filter(i=>{var o;return i.type.toLowerCase()==="mention"?i.mentioned.id!==((o=this.recipient)===null||o===void 0?void 0:o.id):!0}))),this.text&&(this.text=e.removeAt(this.text)),this.entities!==void 0)){let i=this.getMentions(this);for(let o of i)o.text&&(o.text=(n=e.removeAt(o.text))===null||n===void 0?void 0:n.trim())}}static removeAt(r){if(!r)return r;let t;do{t=!1;let n=r.toLowerCase().indexOf("<at");if(n>=0){let i=r.indexOf(">",n);if(i>0){let o=r.toLowerCase().indexOf("</at>",i);if(o>0){let a=r.substring(o+5);a.length>0&&!/\s/.test(a[0])&&(a=` ${a}`),r=r.substring(0,o)+a;let u=r.substring(i+1,o),l=r.substring(0,n);l.length>0&&!/\s$/.test(l)&&(l+=" "),r=l+u+a,t=!0}}}}while(t);return r}removeMentionText(r){let n=this.getMentions(this).filter(i=>i.mentioned.id===r);return n.length>0&&this.text&&(this.text=this.text.replace(n[0].text,"").trim()),this.text||""}removeRecipientMention(){return this.recipient!=null&&this.recipient.id?this.removeMentionText(this.recipient.id):""}getReplyConversationReference(r){let t=this.getConversationReference();return t.activityId=r,t}toJsonString(){return JSON.stringify(this)}};Yr.Activity=hc});var kf=d(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.CallerIdConstants=void 0;Bi.CallerIdConstants={PublicAzureChannel:"urn:botframework:azure",USGovChannel:"urn:botframework:azureusgov",AgentPrefix:"urn:botframework:aadappid:"}});var Ff=d(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.activityTreatments=Ft.ActivityTreatments=void 0;var b0=N(),mc;(function(e){e.Targeted="targeted"})(mc||(Ft.ActivityTreatments=mc={}));Ft.activityTreatments=b0.z.nativeEnum(mc)});var yc=d(x=>{"use strict";var g0=x&&x.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),Rf=x&&x.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&g0(r,e,t)};Object.defineProperty(x,"__esModule",{value:!0});x.Logger=x.debug=x.ActivityTreatments=x.TextFormatTypes=x.MessageReactionTypes=x.InputHints=x.DeliveryModes=x.CallerIdConstants=x.ActivityTypes=x.ActivityImportance=x.ActivityEventNames=x.activityZodSchema=x.Activity=x.RoleTypes=x.MembershipTypes=x.MembershipSourceTypes=x.EndOfConversationCodes=x.Channels=x.AttachmentLayoutTypes=x.SemanticActionStateTypes=x.ActionTypes=void 0;var O0=Is();Object.defineProperty(x,"ActionTypes",{enumerable:!0,get:function(){return O0.ActionTypes}});var w0=As();Object.defineProperty(x,"SemanticActionStateTypes",{enumerable:!0,get:function(){return w0.SemanticActionStateTypes}});var S0=xs();Object.defineProperty(x,"AttachmentLayoutTypes",{enumerable:!0,get:function(){return S0.AttachmentLayoutTypes}});var P0=Ts();Object.defineProperty(x,"Channels",{enumerable:!0,get:function(){return P0.Channels}});var q0=Es();Object.defineProperty(x,"EndOfConversationCodes",{enumerable:!0,get:function(){return q0.EndOfConversationCodes}});var j0=Fd();Object.defineProperty(x,"MembershipSourceTypes",{enumerable:!0,get:function(){return j0.MembershipSourceTypes}});var C0=Zd();Object.defineProperty(x,"MembershipTypes",{enumerable:!0,get:function(){return C0.MembershipTypes}});var I0=Ii();Object.defineProperty(x,"RoleTypes",{enumerable:!0,get:function(){return I0.RoleTypes}});Rf(Ld(),x);Rf(Nd(),x);var Zf=Mf();Object.defineProperty(x,"Activity",{enumerable:!0,get:function(){return Zf.Activity}});Object.defineProperty(x,"activityZodSchema",{enumerable:!0,get:function(){return Zf.activityZodSchema}});var A0=ic();Object.defineProperty(x,"ActivityEventNames",{enumerable:!0,get:function(){return A0.ActivityEventNames}});var x0=oc();Object.defineProperty(x,"ActivityImportance",{enumerable:!0,get:function(){return x0.ActivityImportance}});var T0=ac();Object.defineProperty(x,"ActivityTypes",{enumerable:!0,get:function(){return T0.ActivityTypes}});var E0=kf();Object.defineProperty(x,"CallerIdConstants",{enumerable:!0,get:function(){return E0.CallerIdConstants}});var M0=cc();Object.defineProperty(x,"DeliveryModes",{enumerable:!0,get:function(){return M0.DeliveryModes}});var k0=lc();Object.defineProperty(x,"InputHints",{enumerable:!0,get:function(){return k0.InputHints}});var F0=dc();Object.defineProperty(x,"MessageReactionTypes",{enumerable:!0,get:function(){return F0.MessageReactionTypes}});var R0=vc();Object.defineProperty(x,"TextFormatTypes",{enumerable:!0,get:function(){return R0.TextFormatTypes}});var Z0=Ff();Object.defineProperty(x,"ActivityTreatments",{enumerable:!0,get:function(){return Z0.ActivityTreatments}});var Uf=dt();Object.defineProperty(x,"debug",{enumerable:!0,get:function(){return Uf.debug}});Object.defineProperty(x,"Logger",{enumerable:!0,get:function(){return Uf.Logger}})});var Lf={};qr(Lf,{ExecuteTurnRequest:()=>_c});var _c,Nf=Pr(()=>{"use strict";_c=class{constructor(r){this.activity=r}}});var zf=d((kU,U0)=>{U0.exports={name:"@microsoft/agents-copilotstudio-client",version:"0.1.0",homepage:"https://github.com/microsoft/Agents-for-js",repository:{type:"git",url:"git+https://github.com/microsoft/Agents-for-js.git"},author:{name:"Microsoft",email:"agentssdk@microsoft.com",url:"https://aka.ms/Agents"},description:"Microsoft Copilot Studio Client for JavaScript. Copilot Studio Client.",keywords:["Agents","copilotstudio","powerplatform"],main:"dist/src/index.js",types:"dist/src/index.d.ts",browser:{os:"./src/browser/os.ts",crypto:"./src/browser/crypto.ts"},scripts:{"build:browser":"esbuild --platform=browser --target=es2019 --format=esm --bundle --sourcemap --minify --outfile=dist/src/browser.mjs src/index.ts"},dependencies:{"@microsoft/agents-activity":"file:../agents-activity","eventsource-client":"^1.2.0",rxjs:"7.8.2",uuid:"^11.1.0"},license:"MIT",files:["README.md","dist/src","src","package.json"],exports:{".":{types:"./dist/src/index.d.ts",import:{browser:"./dist/src/browser.mjs",default:"./dist/src/index.js"},require:{default:"./dist/src/index.js"}},"./package.json":"./package.json"},engines:{node:">=20.0.0"}}});var Df={};qr(Df,{default:()=>L0});var L0,Vf=Pr(()=>{"use strict";L0={}});var $f=d(Zt=>{"use strict";var N0=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.CopilotStudioClient=void 0;var z0=Gl(),Oc=(od(),Fe(id)),bc=yc(),D0=(Nf(),Fe(Lf)),V0=dt(),$0=zf(),gc=N0((Vf(),Fe(Df))),he=(0,V0.debug)("copilot-studio:client"),Rt=class e{constructor(r,t){this.conversationId="",this.settings=r,this.token=t}async*postRequestAsync(r,t,n="POST"){var i,o;he.debug(`>>> SEND TO ${r}`);let a=(0,z0.createEventSource)({url:r,headers:{Authorization:`Bearer ${this.token}`,"User-Agent":e.getProductInfo(),"Content-Type":"application/json",Accept:"text/event-stream"},body:t?JSON.stringify(t):void 0,method:n,fetch:async(u,l)=>{let s=await fetch(u,l);return this.processResponseHeaders(s.headers),s}});try{for await(let{data:u,event:l}of a){if(u&&l==="activity")try{let s=bc.Activity.fromJson(u);switch(s.type){case bc.ActivityTypes.Message:this.conversationId.trim()||(this.conversationId=(o=(i=s.conversation)===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:"",he.debug(`Conversation ID: ${this.conversationId}`)),yield s;break;default:he.debug(`Activity type: ${s.type}`),yield s;break}}catch(s){he.error("Failed to parse activity:",s)}else if(l==="end"){he.debug("Stream complete");break}if(a.readyState==="closed"){he.debug("Connection closed");break}}}finally{a.close()}}static getProductInfo(){let r=`CopilotStudioClient.agents-sdk-js/${$0.version}`,t;return typeof window!="undefined"&&window.navigator?t=`${r} ${navigator.userAgent}`:t=`${r} nodejs/${process.version} ${gc.default.platform()}-${gc.default.arch()}/${gc.default.release()}`,he.debug(`User-Agent: ${t}`),t}processResponseHeaders(r){var t,n;if(this.settings.useExperimentalEndpoint&&!(!((t=this.settings.directConnectUrl)===null||t===void 0)&&t.trim())){let o=r==null?void 0:r.get(e.islandExperimentalUrlHeaderKey);o&&(this.settings.directConnectUrl=o,he.debug(`Island Experimental URL: ${o}`))}this.conversationId=(n=r==null?void 0:r.get(e.conversationIdHeaderKey))!==null&&n!==void 0?n:"",this.conversationId&&he.debug(`Conversation ID: ${this.conversationId}`);let i=new Headers;r.forEach((o,a)=>{a.toLowerCase()!=="authorization"&&a.toLowerCase()!==e.conversationIdHeaderKey.toLowerCase()&&i.set(a,o)}),he.debug("Headers received:",i)}async*startConversationAsync(r=!0){let t=(0,Oc.getCopilotStudioConnectionUrl)(this.settings),n={emitStartConversationEvent:r};he.info("Starting conversation ..."),yield*this.postRequestAsync(t,n,"POST")}async*askQuestionAsync(r,t=this.conversationId){let i={type:"message",text:r,conversation:{id:t}},o=bc.Activity.fromObject(i);yield*this.sendActivity(o)}async*sendActivity(r,t=this.conversationId){var n,i;let o=(i=(n=r.conversation)===null||n===void 0?void 0:n.id)!==null&&i!==void 0?i:t,a=(0,Oc.getCopilotStudioConnectionUrl)(this.settings,o),u=new D0.ExecuteTurnRequest(r);he.info("Sending activity...",r),yield*this.postRequestAsync(a,u,"POST")}};Zt.CopilotStudioClient=Rt;Rt.conversationIdHeaderKey="x-ms-conversationid";Rt.islandExperimentalUrlHeaderKey="x-ms-d2e-experimental";Rt.scopeFromSettings=Oc.getTokenAudience});var Bf=d(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0})});var L=d(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.isFunction=void 0;function W0(e){return typeof e=="function"}Gi.isFunction=W0});var Xe=d(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.createErrorClass=void 0;function B0(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Yi.createErrorClass=B0});var wc=d(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.UnsubscriptionError=void 0;var G0=Xe();Hi.UnsubscriptionError=G0.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}})});var ze=d(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.arrRemove=void 0;function Y0(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}Ki.arrRemove=Y0});var de=d(ue=>{"use strict";var Gf=ue&&ue.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=ue&&ue.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Hf=ue&&ue.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(ue,"__esModule",{value:!0});ue.isSubscription=ue.EMPTY_SUBSCRIPTION=ue.Subscription=void 0;var $n=L(),Sc=wc(),Kf=ze(),Pc=(function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var u=Gf(a),l=u.next();!l.done;l=u.next()){var s=l.value;s.remove(this)}}catch(y){r={error:y}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}else a.remove(this);var f=this.initialTeardown;if($n.isFunction(f))try{f()}catch(y){o=y instanceof Sc.UnsubscriptionError?y.errors:[y]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var m=Gf(v),b=m.next();!b.done;b=m.next()){var g=b.value;try{Jf(g)}catch(y){o=o!=null?o:[],y instanceof Sc.UnsubscriptionError?o=Hf(Hf([],Yf(o)),Yf(y.errors)):o.push(y)}}}catch(y){n={error:y}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}}if(o)throw new Sc.UnsubscriptionError(o)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)Jf(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&Kf.arrRemove(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&Kf.arrRemove(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=(function(){var r=new e;return r.closed=!0,r})(),e})();ue.Subscription=Pc;ue.EMPTY_SUBSCRIPTION=Pc.EMPTY;function H0(e){return e instanceof Pc||e&&"closed"in e&&$n.isFunction(e.remove)&&$n.isFunction(e.add)&&$n.isFunction(e.unsubscribe)}ue.isSubscription=H0;function Jf(e){$n.isFunction(e)?e():e.unsubscribe()}});var Ut=d(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.config=void 0;Ji.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var qc=d(Ie=>{"use strict";var Qf=Ie&&Ie.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Xf=Ie&&Ie.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.timeoutProvider=void 0;Ie.timeoutProvider={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=Ie.timeoutProvider.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Xf([e,r],Qf(t))):setTimeout.apply(void 0,Xf([e,r],Qf(t)))},clearTimeout:function(e){var r=Ie.timeoutProvider.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}});var jc=d(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.reportUnhandledError=void 0;var K0=Ut(),J0=qc();function Q0(e){J0.timeoutProvider.setTimeout(function(){var r=K0.config.onUnhandledError;if(r)r(e);else throw e})}Qi.reportUnhandledError=Q0});var H=d(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.noop=void 0;function X0(){}Xi.noop=X0});var ev=d(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.createNotification=Ae.nextNotification=Ae.errorNotification=Ae.COMPLETE_NOTIFICATION=void 0;Ae.COMPLETE_NOTIFICATION=(function(){return eo("C",void 0,void 0)})();function e1(e){return eo("E",void 0,e)}Ae.errorNotification=e1;function r1(e){return eo("N",e,void 0)}Ae.nextNotification=r1;function eo(e,r,t){return{kind:e,value:r,error:t}}Ae.createNotification=eo});var ro=d(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.captureError=Lt.errorContext=void 0;var rv=Ut(),Hr=null;function t1(e){if(rv.config.useDeprecatedSynchronousErrorHandling){var r=!Hr;if(r&&(Hr={errorThrown:!1,error:null}),e(),r){var t=Hr,n=t.errorThrown,i=t.error;if(Hr=null,n)throw i}}else e()}Lt.errorContext=t1;function n1(e){rv.config.useDeprecatedSynchronousErrorHandling&&Hr&&(Hr.errorThrown=!0,Hr.error=e)}Lt.captureError=n1});var Nt=d(be=>{"use strict";var iv=be&&be.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(be,"__esModule",{value:!0});be.EMPTY_OBSERVER=be.SafeSubscriber=be.Subscriber=void 0;var i1=L(),tv=de(),xc=Ut(),o1=jc(),nv=H(),Cc=ev(),a1=qc(),u1=ro(),ov=(function(e){iv(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,tv.isSubscription(t)&&t.add(n)):n.destination=be.EMPTY_OBSERVER,n}return r.create=function(t,n,i){return new av(t,n,i)},r.prototype.next=function(t){this.isStopped?Ac(Cc.nextNotification(t),this):this._next(t)},r.prototype.error=function(t){this.isStopped?Ac(Cc.errorNotification(t),this):(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped?Ac(Cc.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r})(tv.Subscription);be.Subscriber=ov;var s1=Function.prototype.bind;function Ic(e,r){return s1.call(e,r)}var c1=(function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){to(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){to(n)}else to(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){to(t)}},e})(),av=(function(e){iv(r,e);function r(t,n,i){var o=e.call(this)||this,a;if(i1.isFunction(t)||!t)a={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var u;o&&xc.config.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=function(){return o.unsubscribe()},a={next:t.next&&Ic(t.next,u),error:t.error&&Ic(t.error,u),complete:t.complete&&Ic(t.complete,u)}):a=t}return o.destination=new c1(a),o}return r})(ov);be.SafeSubscriber=av;function to(e){xc.config.useDeprecatedSynchronousErrorHandling?u1.captureError(e):o1.reportUnhandledError(e)}function l1(e){throw e}function Ac(e,r){var t=xc.config.onStoppedNotification;t&&a1.timeoutProvider.setTimeout(function(){return t(e,r)})}be.EMPTY_OBSERVER={closed:!0,next:nv.noop,error:l1,complete:nv.noop}});var Wn=d(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.observable=void 0;no.observable=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})()});var K=d(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.identity=void 0;function d1(e){return e}io.identity=d1});var Bn=d(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.pipeFromArray=zt.pipe=void 0;var f1=K();function v1(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return uv(e)}zt.pipe=v1;function uv(e){return e.length===0?f1.identity:e.length===1?e[0]:function(t){return e.reduce(function(n,i){return i(n)},t)}}zt.pipeFromArray=uv});var z=d(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.Observable=void 0;var Ec=Nt(),p1=de(),h1=Wn(),m1=Bn(),y1=Ut(),Tc=L(),_1=ro(),b1=(function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var i=this,o=O1(r)?r:new Ec.SafeSubscriber(r,t,n);return _1.errorContext(function(){var a=i,u=a.operator,l=a.source;o.add(u?u.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=sv(t),new t(function(i,o){var a=new Ec.SafeSubscriber({next:function(u){try{r(u)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[h1.observable]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return m1.pipeFromArray(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=sv(r),new r(function(n,i){var o;t.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(r){return new e(r)},e})();oo.Observable=b1;function sv(e){var r;return(r=e!=null?e:y1.config.Promise)!==null&&r!==void 0?r:Promise}function g1(e){return e&&Tc.isFunction(e.next)&&Tc.isFunction(e.error)&&Tc.isFunction(e.complete)}function O1(e){return e&&e instanceof Ec.Subscriber||g1(e)&&p1.isSubscription(e)}});var j=d(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.operate=Dt.hasLift=void 0;var w1=L();function cv(e){return w1.isFunction(e==null?void 0:e.lift)}Dt.hasLift=cv;function S1(e){return function(r){if(cv(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}Dt.operate=S1});var C=d(er=>{"use strict";var P1=er&&er.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(er,"__esModule",{value:!0});er.OperatorSubscriber=er.createOperatorSubscriber=void 0;var q1=Nt();function j1(e,r,t,n,i){return new lv(e,r,t,n,i)}er.createOperatorSubscriber=j1;var lv=(function(e){P1(r,e);function r(t,n,i,o,a,u){var l=e.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=u,l._next=n?function(s){try{n(s)}catch(f){t.error(f)}}:e.prototype._next,l._error=o?function(s){try{o(s)}catch(f){t.error(f)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:e.prototype._complete,l}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r})(q1.Subscriber);er.OperatorSubscriber=lv});var Mc=d(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.refCount=void 0;var C1=j(),I1=C();function A1(){return C1.operate(function(e,r){var t=null;e._refCount++;var n=I1.createOperatorSubscriber(r,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){t=null;return}var i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),r.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}ao.refCount=A1});var Gn=d(Vt=>{"use strict";var x1=Vt&&Vt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.ConnectableObservable=void 0;var T1=z(),dv=de(),E1=Mc(),M1=C(),k1=j(),F1=(function(e){x1(r,e);function r(t,n){var i=e.call(this)||this;return i.source=t,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,k1.hasLift(t)&&(i.lift=t.lift),i}return r.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},r.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t==null||t.unsubscribe()},r.prototype.connect=function(){var t=this,n=this._connection;if(!n){n=this._connection=new dv.Subscription;var i=this.getSubject();n.add(this.source.subscribe(M1.createOperatorSubscriber(i,void 0,function(){t._teardown(),i.complete()},function(o){t._teardown(),i.error(o)},function(){return t._teardown()}))),n.closed&&(this._connection=null,n=dv.Subscription.EMPTY)}return n},r.prototype.refCount=function(){return E1.refCount()(this)},r})(T1.Observable);Vt.ConnectableObservable=F1});var fv=d(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.performanceTimestampProvider=void 0;Yn.performanceTimestampProvider={now:function(){return(Yn.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var kc=d(ge=>{"use strict";var vv=ge&&ge.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},pv=ge&&ge.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(ge,"__esModule",{value:!0});ge.animationFrameProvider=void 0;var R1=de();ge.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,t=cancelAnimationFrame,n=ge.animationFrameProvider.delegate;n&&(r=n.requestAnimationFrame,t=n.cancelAnimationFrame);var i=r(function(o){t=void 0,e(o)});return new R1.Subscription(function(){return t==null?void 0:t(i)})},requestAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=ge.animationFrameProvider.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,pv([],vv(e)))},cancelAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=ge.animationFrameProvider.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,pv([],vv(e)))},delegate:void 0}});var yv=d(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.animationFrames=void 0;var Z1=z(),U1=fv(),hv=kc();function L1(e){return e?mv(e):N1}uo.animationFrames=L1;function mv(e){return new Z1.Observable(function(r){var t=e||U1.performanceTimestampProvider,n=t.now(),i=0,o=function(){r.closed||(i=hv.animationFrameProvider.requestAnimationFrame(function(a){i=0;var u=t.now();r.next({timestamp:e?u:a,elapsed:u-n}),o()}))};return o(),function(){i&&hv.animationFrameProvider.cancelAnimationFrame(i)}})}var N1=mv()});var Fc=d(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.ObjectUnsubscribedError=void 0;var z1=Xe();so.ObjectUnsubscribedError=z1.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var J=d(xe=>{"use strict";var bv=xe&&xe.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),D1=xe&&xe.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});xe.AnonymousSubject=xe.Subject=void 0;var _v=z(),Zc=de(),V1=Fc(),$1=ze(),Rc=ro(),gv=(function(e){bv(r,e);function r(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype.lift=function(t){var n=new Uc(this,this);return n.operator=t,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new V1.ObjectUnsubscribedError},r.prototype.next=function(t){var n=this;Rc.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=D1(n.currentObservers),u=a.next();!u.done;u=a.next()){var l=u.value;l.next(t)}}catch(s){i={error:s}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},r.prototype.error=function(t){var n=this;Rc.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},r.prototype.complete=function(){var t=this;Rc.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},r.prototype._innerSubscribe=function(t){var n=this,i=this,o=i.hasError,a=i.isStopped,u=i.observers;return o||a?Zc.EMPTY_SUBSCRIPTION:(this.currentObservers=null,u.push(t),new Zc.Subscription(function(){n.currentObservers=null,$1.arrRemove(u,t)}))},r.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?t.error(o):a&&t.complete()},r.prototype.asObservable=function(){var t=new _v.Observable;return t.source=this,t},r.create=function(t,n){return new Uc(t,n)},r})(_v.Observable);xe.Subject=gv;var Uc=(function(e){bv(r,e);function r(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return r.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},r.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},r.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},r.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Zc.EMPTY_SUBSCRIPTION},r})(gv);xe.AnonymousSubject=Uc});var Lc=d($t=>{"use strict";var W1=$t&&$t.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty($t,"__esModule",{value:!0});$t.BehaviorSubject=void 0;var B1=J(),G1=(function(e){W1(r,e);function r(t){var n=e.call(this)||this;return n._value=t,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},r.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,o=t._value;if(n)throw i;return this._throwIfClosed(),o},r.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},r})(B1.Subject);$t.BehaviorSubject=G1});var co=d(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.dateTimestampProvider=void 0;Hn.dateTimestampProvider={now:function(){return(Hn.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var lo=d(Wt=>{"use strict";var Y1=Wt&&Wt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.ReplaySubject=void 0;var H1=J(),K1=co(),J1=(function(e){Y1(r,e);function r(t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=K1.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return r.prototype.next=function(t){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,u=n._timestampProvider,l=n._windowTime;i||(o.push(t),!a&&o.push(u.now()+l)),this._trimBuffer(),e.prototype.next.call(this,t)},r.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),i=this,o=i._infiniteTimeWindow,a=i._buffer,u=a.slice(),l=0;l<u.length&&!t.closed;l+=o?1:2)t.next(u[l]);return this._checkFinalizedStatuses(t),n},r.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,i=t._timestampProvider,o=t._buffer,a=t._infiniteTimeWindow,u=(a?1:2)*n;if(n<1/0&&u<o.length&&o.splice(0,o.length-u),!a){for(var l=i.now(),s=0,f=1;f<o.length&&o[f]<=l;f+=2)s=f;s&&o.splice(0,s+1)}},r})(H1.Subject);Wt.ReplaySubject=J1});var fo=d(Bt=>{"use strict";var Q1=Bt&&Bt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.AsyncSubject=void 0;var X1=J(),eO=(function(e){Q1(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return r.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n._hasValue,a=n._value,u=n.thrownError,l=n.isStopped,s=n._isComplete;i?t.error(u):(l||s)&&(o&&t.next(a),t.complete())},r.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},r.prototype.complete=function(){var t=this,n=t._hasValue,i=t._value,o=t._isComplete;o||(this._isComplete=!0,n&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},r})(X1.Subject);Bt.AsyncSubject=eO});var Ov=d(Gt=>{"use strict";var rO=Gt&&Gt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.Action=void 0;var tO=de(),nO=(function(e){rO(r,e);function r(t,n){return e.call(this)||this}return r.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},r})(tO.Subscription);Gt.Action=nO});var Pv=d(Te=>{"use strict";var wv=Te&&Te.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Sv=Te&&Te.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(Te,"__esModule",{value:!0});Te.intervalProvider=void 0;Te.intervalProvider={setInterval:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=Te.intervalProvider.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Sv([e,r],wv(t))):setInterval.apply(void 0,Sv([e,r],wv(t)))},clearInterval:function(e){var r=Te.intervalProvider.delegate;return((r==null?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}});var Ht=d(Yt=>{"use strict";var iO=Yt&&Yt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.AsyncAction=void 0;var oO=Ov(),qv=Pv(),aO=ze(),uO=(function(e){iO(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return r.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),qv.intervalProvider.setInterval(t.flush.bind(t,this),i)},r.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&qv.intervalProvider.clearInterval(n)},r.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,n){var i=!1,o;try{this.work(t)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,aO.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},r})(oO.Action);Yt.AsyncAction=uO});var Cv=d(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.TestTools=Kt.Immediate=void 0;var sO=1,Nc,vo={};function jv(e){return e in vo?(delete vo[e],!0):!1}Kt.Immediate={setImmediate:function(e){var r=sO++;return vo[r]=!0,Nc||(Nc=Promise.resolve()),Nc.then(function(){return jv(r)&&e()}),r},clearImmediate:function(e){jv(e)}};Kt.TestTools={pending:function(){return Object.keys(vo).length}}});var Av=d(Ee=>{"use strict";var cO=Ee&&Ee.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},lO=Ee&&Ee.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.immediateProvider=void 0;var Iv=Cv(),dO=Iv.Immediate.setImmediate,fO=Iv.Immediate.clearImmediate;Ee.immediateProvider={setImmediate:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Ee.immediateProvider.delegate;return((t==null?void 0:t.setImmediate)||dO).apply(void 0,lO([],cO(e)))},clearImmediate:function(e){var r=Ee.immediateProvider.delegate;return((r==null?void 0:r.clearImmediate)||fO)(e)},delegate:void 0}});var Tv=d(Jt=>{"use strict";var vO=Jt&&Jt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.AsapAction=void 0;var pO=Ht(),xv=Av(),hO=(function(e){vO(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=xv.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},r.prototype.recycleAsyncId=function(t,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);var a=t.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(xv.immediateProvider.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},r})(pO.AsyncAction);Jt.AsapAction=hO});var zc=d(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.Scheduler=void 0;var mO=co(),yO=(function(){function e(r,t){t===void 0&&(t=e.now),this.schedulerActionCtor=r,this.now=t}return e.prototype.schedule=function(r,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,r).schedule(n,t)},e.now=mO.dateTimestampProvider.now,e})();po.Scheduler=yO});var Xt=d(Qt=>{"use strict";var _O=Qt&&Qt.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.AsyncScheduler=void 0;var Ev=zc(),bO=(function(e){_O(r,e);function r(t,n){n===void 0&&(n=Ev.Scheduler.now);var i=e.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return r.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},r})(Ev.Scheduler);Qt.AsyncScheduler=bO});var Mv=d(en=>{"use strict";var gO=en&&en.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(en,"__esModule",{value:!0});en.AsapScheduler=void 0;var OO=Xt(),wO=(function(e){gO(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw o}},r})(OO.AsyncScheduler);en.AsapScheduler=wO});var kv=d(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.asap=Kr.asapScheduler=void 0;var SO=Tv(),PO=Mv();Kr.asapScheduler=new PO.AsapScheduler(SO.AsapAction);Kr.asap=Kr.asapScheduler});var se=d(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.async=Jr.asyncScheduler=void 0;var qO=Ht(),jO=Xt();Jr.asyncScheduler=new jO.AsyncScheduler(qO.AsyncAction);Jr.async=Jr.asyncScheduler});var Fv=d(rn=>{"use strict";var CO=rn&&rn.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(rn,"__esModule",{value:!0});rn.QueueAction=void 0;var IO=Ht(),AO=(function(e){CO(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},r.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.flush(this),0)},r})(IO.AsyncAction);rn.QueueAction=AO});var Rv=d(tn=>{"use strict";var xO=tn&&tn.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(tn,"__esModule",{value:!0});tn.QueueScheduler=void 0;var TO=Xt(),EO=(function(e){xO(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r})(TO.AsyncScheduler);tn.QueueScheduler=EO});var Zv=d(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.queue=Qr.queueScheduler=void 0;var MO=Fv(),kO=Rv();Qr.queueScheduler=new kO.QueueScheduler(MO.QueueAction);Qr.queue=Qr.queueScheduler});var Lv=d(nn=>{"use strict";var FO=nn&&nn.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(nn,"__esModule",{value:!0});nn.AnimationFrameAction=void 0;var RO=Ht(),Uv=kc(),ZO=(function(e){FO(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uv.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},r.prototype.recycleAsyncId=function(t,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);var a=t.actions;n!=null&&n===t._scheduled&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(Uv.animationFrameProvider.cancelAnimationFrame(n),t._scheduled=void 0)},r})(RO.AsyncAction);nn.AnimationFrameAction=ZO});var Nv=d(on=>{"use strict";var UO=on&&on.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(on,"__esModule",{value:!0});on.AnimationFrameScheduler=void 0;var LO=Xt(),NO=(function(e){UO(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(t){this._active=!0;var n;t?n=t.id:(n=this._scheduled,this._scheduled=void 0);var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw o}},r})(LO.AsyncScheduler);on.AnimationFrameScheduler=NO});var zv=d(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.animationFrame=Xr.animationFrameScheduler=void 0;var zO=Lv(),DO=Nv();Xr.animationFrameScheduler=new DO.AnimationFrameScheduler(zO.AnimationFrameAction);Xr.animationFrame=Xr.animationFrameScheduler});var $v=d(rr=>{"use strict";var Dv=rr&&rr.__extends||(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();Object.defineProperty(rr,"__esModule",{value:!0});rr.VirtualAction=rr.VirtualTimeScheduler=void 0;var VO=Ht(),$O=de(),WO=Xt(),BO=(function(e){Dv(r,e);function r(t,n){t===void 0&&(t=Vv),n===void 0&&(n=1/0);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return r.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},r.frameTimeFactor=10,r})(WO.AsyncScheduler);rr.VirtualTimeScheduler=BO;var Vv=(function(e){Dv(r,e);function r(t,n,i){i===void 0&&(i=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return r.prototype.schedule=function(t,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,t,n);this.active=!1;var i=new r(this.scheduler,this.work);return this.add(i),i.schedule(t,n)}else return $O.Subscription.EMPTY},r.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},r.prototype._execute=function(t,n){if(this.active===!0)return e.prototype._execute.call(this,t,n)},r.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},r})(VO.AsyncAction);rr.VirtualAction=Vv});var Oe=d(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.empty=et.EMPTY=void 0;var Wv=z();et.EMPTY=new Wv.Observable(function(e){return e.complete()});function GO(e){return e?YO(e):et.EMPTY}et.empty=GO;function YO(e){return new Wv.Observable(function(r){return e.schedule(function(){return r.complete()})})}});var Kn=d(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.isScheduler=void 0;var HO=L();function KO(e){return e&&HO.isFunction(e.schedule)}ho.isScheduler=KO});var ce=d(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.popNumber=tr.popScheduler=tr.popResultSelector=void 0;var JO=L(),QO=Kn();function Dc(e){return e[e.length-1]}function XO(e){return JO.isFunction(Dc(e))?e.pop():void 0}tr.popResultSelector=XO;function ew(e){return QO.isScheduler(Dc(e))?e.pop():void 0}tr.popScheduler=ew;function rw(e,r){return typeof Dc(e)=="number"?e.pop():r}tr.popNumber=rw});var yo=d(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.isArrayLike=void 0;mo.isArrayLike=(function(e){return e&&typeof e.length=="number"&&typeof e!="function"})});var Vc=d(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.isPromise=void 0;var tw=L();function nw(e){return tw.isFunction(e==null?void 0:e.then)}_o.isPromise=nw});var $c=d(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.isInteropObservable=void 0;var iw=Wn(),ow=L();function aw(e){return ow.isFunction(e[iw.observable])}bo.isInteropObservable=aw});var Wc=d(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.isAsyncIterable=void 0;var uw=L();function sw(e){return Symbol.asyncIterator&&uw.isFunction(e==null?void 0:e[Symbol.asyncIterator])}go.isAsyncIterable=sw});var Bc=d(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.createInvalidObservableTypeError=void 0;function cw(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Oo.createInvalidObservableTypeError=cw});var Gc=d(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.iterator=an.getSymbolIterator=void 0;function Bv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}an.getSymbolIterator=Bv;an.iterator=Bv()});var Yc=d(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.isIterable=void 0;var lw=Gc(),dw=L();function fw(e){return dw.isFunction(e==null?void 0:e[lw.iterator])}wo.isIterable=fw});var So=d(me=>{"use strict";var vw=me&&me.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(f){return l([s,f])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(f){s=[6,f],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},un=me&&me.__await||function(e){return this instanceof un?(this.v=e,this):new un(e)},pw=me&&me.__asyncGenerator||function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(b){return new Promise(function(g,y){o.push([m,b,g,y])>1||u(m,b)})})}function u(m,b){try{l(n[m](b))}catch(g){v(o[0][3],g)}}function l(m){m.value instanceof un?Promise.resolve(m.value.v).then(s,f):v(o[0][2],m)}function s(m){u("next",m)}function f(m){u("throw",m)}function v(m,b){m(b),o.shift(),o.length&&u(o[0][0],o[0][1])}};Object.defineProperty(me,"__esModule",{value:!0});me.isReadableStreamLike=me.readableStreamLikeToAsyncGenerator=void 0;var hw=L();function mw(e){return pw(this,arguments,function(){var t,n,i,o;return vw(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,un(t.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,un(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,un(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}me.readableStreamLikeToAsyncGenerator=mw;function yw(e){return hw.isFunction(e==null?void 0:e.getReader)}me.isReadableStreamLike=yw});var F=d($=>{"use strict";var _w=$&&$.__awaiter||function(e,r,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function u(f){try{s(n.next(f))}catch(v){a(v)}}function l(f){try{s(n.throw(f))}catch(v){a(v)}}function s(f){f.done?o(f.value):i(f.value).then(u,l)}s((n=n.apply(e,r||[])).next())})},bw=$&&$.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(f){return l([s,f])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(f){s=[6,f],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},gw=$&&$.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Hc=="function"?Hc(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(a){return new Promise(function(u,l){a=e[o](a),i(u,l,a.done,a.value)})}}function i(o,a,u,l){Promise.resolve(l).then(function(s){o({value:s,done:u})},a)}},Hc=$&&$.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($,"__esModule",{value:!0});$.fromReadableStreamLike=$.fromAsyncIterable=$.fromIterable=$.fromPromise=$.fromArrayLike=$.fromInteropObservable=$.innerFrom=void 0;var Ow=yo(),ww=Vc(),sn=z(),Sw=$c(),Pw=Wc(),qw=Bc(),jw=Yc(),Gv=So(),Cw=L(),Iw=jc(),Aw=Wn();function xw(e){if(e instanceof sn.Observable)return e;if(e!=null){if(Sw.isInteropObservable(e))return Yv(e);if(Ow.isArrayLike(e))return Hv(e);if(ww.isPromise(e))return Kv(e);if(Pw.isAsyncIterable(e))return Kc(e);if(jw.isIterable(e))return Jv(e);if(Gv.isReadableStreamLike(e))return Qv(e)}throw qw.createInvalidObservableTypeError(e)}$.innerFrom=xw;function Yv(e){return new sn.Observable(function(r){var t=e[Aw.observable]();if(Cw.isFunction(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}$.fromInteropObservable=Yv;function Hv(e){return new sn.Observable(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}$.fromArrayLike=Hv;function Kv(e){return new sn.Observable(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,Iw.reportUnhandledError)})}$.fromPromise=Kv;function Jv(e){return new sn.Observable(function(r){var t,n;try{for(var i=Hc(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(r.next(a),r.closed)return}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}r.complete()})}$.fromIterable=Jv;function Kc(e){return new sn.Observable(function(r){Tw(e,r).catch(function(t){return r.error(t)})})}$.fromAsyncIterable=Kc;function Qv(e){return Kc(Gv.readableStreamLikeToAsyncGenerator(e))}$.fromReadableStreamLike=Qv;function Tw(e,r){var t,n,i,o;return _w(this,void 0,void 0,function(){var a,u;return bw(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=gw(e),l.label=1;case 1:return[4,t.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(a=n.value,r.next(a),r.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=l.sent(),i={error:u},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}});var De=d(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.executeSchedule=void 0;function Ew(e,r,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}Po.executeSchedule=Ew});var Jn=d(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.observeOn=void 0;var Jc=De(),Mw=j(),kw=C();function Fw(e,r){return r===void 0&&(r=0),Mw.operate(function(t,n){t.subscribe(kw.createOperatorSubscriber(n,function(i){return Jc.executeSchedule(n,e,function(){return n.next(i)},r)},function(){return Jc.executeSchedule(n,e,function(){return n.complete()},r)},function(i){return Jc.executeSchedule(n,e,function(){return n.error(i)},r)}))})}qo.observeOn=Fw});var Qn=d(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.subscribeOn=void 0;var Rw=j();function Zw(e,r){return r===void 0&&(r=0),Rw.operate(function(t,n){n.add(e.schedule(function(){return t.subscribe(n)},r))})}jo.subscribeOn=Zw});var Xv=d(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.scheduleObservable=void 0;var Uw=F(),Lw=Jn(),Nw=Qn();function zw(e,r){return Uw.innerFrom(e).pipe(Nw.subscribeOn(r),Lw.observeOn(r))}Co.scheduleObservable=zw});var ep=d(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.schedulePromise=void 0;var Dw=F(),Vw=Jn(),$w=Qn();function Ww(e,r){return Dw.innerFrom(e).pipe($w.subscribeOn(r),Vw.observeOn(r))}Io.schedulePromise=Ww});var rp=d(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.scheduleArray=void 0;var Bw=z();function Gw(e,r){return new Bw.Observable(function(t){var n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}Ao.scheduleArray=Gw});var Qc=d(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.scheduleIterable=void 0;var Yw=z(),Hw=Gc(),Kw=L(),tp=De();function Jw(e,r){return new Yw.Observable(function(t){var n;return tp.executeSchedule(t,r,function(){n=e[Hw.iterator](),tp.executeSchedule(t,r,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(u){t.error(u);return}a?t.complete():t.next(o)},0,!0)}),function(){return Kw.isFunction(n==null?void 0:n.return)&&n.return()}})}xo.scheduleIterable=Jw});var Xc=d(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.scheduleAsyncIterable=void 0;var Qw=z(),np=De();function Xw(e,r){if(!e)throw new Error("Iterable cannot be null");return new Qw.Observable(function(t){np.executeSchedule(t,r,function(){var n=e[Symbol.asyncIterator]();np.executeSchedule(t,r,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}To.scheduleAsyncIterable=Xw});var ip=d(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.scheduleReadableStreamLike=void 0;var eS=Xc(),rS=So();function tS(e,r){return eS.scheduleAsyncIterable(rS.readableStreamLikeToAsyncGenerator(e),r)}Eo.scheduleReadableStreamLike=tS});var el=d(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.scheduled=void 0;var nS=Xv(),iS=ep(),oS=rp(),aS=Qc(),uS=Xc(),sS=$c(),cS=Vc(),lS=yo(),dS=Yc(),fS=Wc(),vS=Bc(),pS=So(),hS=ip();function mS(e,r){if(e!=null){if(sS.isInteropObservable(e))return nS.scheduleObservable(e,r);if(lS.isArrayLike(e))return oS.scheduleArray(e,r);if(cS.isPromise(e))return iS.schedulePromise(e,r);if(fS.isAsyncIterable(e))return uS.scheduleAsyncIterable(e,r);if(dS.isIterable(e))return aS.scheduleIterable(e,r);if(pS.isReadableStreamLike(e))return hS.scheduleReadableStreamLike(e,r)}throw vS.createInvalidObservableTypeError(e)}Mo.scheduled=mS});var Ve=d(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.from=void 0;var yS=el(),_S=F();function bS(e,r){return r?yS.scheduled(e,r):_S.innerFrom(e)}ko.from=bS});var Ro=d(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.of=void 0;var gS=ce(),OS=Ve();function wS(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=gS.popScheduler(e);return OS.from(e,t)}Fo.of=wS});var rl=d(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.throwError=void 0;var SS=z(),PS=L();function qS(e,r){var t=PS.isFunction(e)?e:function(){return e},n=function(i){return i.error(t())};return new SS.Observable(r?function(i){return r.schedule(n,0,i)}:n)}Zo.throwError=qS});var Uo=d($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.observeNotification=$e.Notification=$e.NotificationKind=void 0;var jS=Oe(),CS=Ro(),IS=rl(),AS=L(),xS;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(xS=$e.NotificationKind||($e.NotificationKind={}));var TS=(function(){function e(r,t,n){this.kind=r,this.value=t,this.error=n,this.hasValue=r==="N"}return e.prototype.observe=function(r){return op(this,r)},e.prototype.do=function(r,t,n){var i=this,o=i.kind,a=i.value,u=i.error;return o==="N"?r==null?void 0:r(a):o==="E"?t==null?void 0:t(u):n==null?void 0:n()},e.prototype.accept=function(r,t,n){var i;return AS.isFunction((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,t,n)},e.prototype.toObservable=function(){var r=this,t=r.kind,n=r.value,i=r.error,o=t==="N"?CS.of(n):t==="E"?IS.throwError(function(){return i}):t==="C"?jS.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+t);return o},e.createNext=function(r){return new e("N",r)},e.createError=function(r){return new e("E",void 0,r)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();$e.Notification=TS;function op(e,r){var t,n,i,o=e,a=o.kind,u=o.value,l=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(t=r.next)===null||t===void 0||t.call(r,u):a==="E"?(n=r.error)===null||n===void 0||n.call(r,l):(i=r.complete)===null||i===void 0||i.call(r)}$e.observeNotification=op});var up=d(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.isObservable=void 0;var ES=z(),ap=L();function MS(e){return!!e&&(e instanceof ES.Observable||ap.isFunction(e.lift)&&ap.isFunction(e.subscribe))}Lo.isObservable=MS});var nr=d(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.EmptyError=void 0;var kS=Xe();No.EmptyError=kS.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})});var sp=d(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.lastValueFrom=void 0;var FS=nr();function RS(e,r){var t=typeof r=="object";return new Promise(function(n,i){var o=!1,a;e.subscribe({next:function(u){a=u,o=!0},error:i,complete:function(){o?n(a):t?n(r.defaultValue):i(new FS.EmptyError)}})})}zo.lastValueFrom=RS});var cp=d(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.firstValueFrom=void 0;var ZS=nr(),US=Nt();function LS(e,r){var t=typeof r=="object";return new Promise(function(n,i){var o=new US.SafeSubscriber({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){t?n(r.defaultValue):i(new ZS.EmptyError)}});e.subscribe(o)})}Do.firstValueFrom=LS});var tl=d(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.ArgumentOutOfRangeError=void 0;var NS=Xe();Vo.ArgumentOutOfRangeError=NS.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var nl=d($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.NotFoundError=void 0;var zS=Xe();$o.NotFoundError=zS.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})});var il=d(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.SequenceError=void 0;var DS=Xe();Wo.SequenceError=DS.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})});var Go=d(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.isValidDate=void 0;function VS(e){return e instanceof Date&&!isNaN(e)}Bo.isValidDate=VS});var Yo=d(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.timeout=rt.TimeoutError=void 0;var $S=se(),WS=Go(),BS=j(),GS=F(),YS=Xe(),HS=C(),KS=De();rt.TimeoutError=YS.createErrorClass(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function JS(e,r){var t=WS.isValidDate(e)?{first:e}:typeof e=="number"?{each:e}:e,n=t.first,i=t.each,o=t.with,a=o===void 0?QS:o,u=t.scheduler,l=u===void 0?r!=null?r:$S.asyncScheduler:u,s=t.meta,f=s===void 0?null:s;if(n==null&&i==null)throw new TypeError("No timeout provided.");return BS.operate(function(v,m){var b,g,y=null,_=0,O=function(R){g=KS.executeSchedule(m,l,function(){try{b.unsubscribe(),GS.innerFrom(a({meta:f,lastValue:y,seen:_})).subscribe(m)}catch(V){m.error(V)}},R)};b=v.subscribe(HS.createOperatorSubscriber(m,function(R){g==null||g.unsubscribe(),_++,m.next(y=R),i>0&&O(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),y=null})),!_&&O(n!=null?typeof n=="number"?n:+n-l.now():i)})}rt.timeout=JS;function QS(e){throw new rt.TimeoutError(e)}});var ir=d(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.map=void 0;var XS=j(),eP=C();function rP(e,r){return XS.operate(function(t,n){var i=0;t.subscribe(eP.createOperatorSubscriber(n,function(o){n.next(e.call(r,o,i++))}))})}Ho.map=rP});var ar=d(or=>{"use strict";var tP=or&&or.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},nP=or&&or.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(or,"__esModule",{value:!0});or.mapOneOrManyArgs=void 0;var iP=ir(),oP=Array.isArray;function aP(e,r){return oP(r)?e.apply(void 0,nP([],tP(r))):e(r)}function uP(e){return iP.map(function(r){return aP(e,r)})}or.mapOneOrManyArgs=uP});var al=d(ur=>{"use strict";var sP=ur&&ur.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},lp=ur&&ur.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(ur,"__esModule",{value:!0});ur.bindCallbackInternals=void 0;var cP=Kn(),lP=z(),dP=Qn(),fP=ar(),vP=Jn(),pP=fo();function ol(e,r,t,n){if(t)if(cP.isScheduler(t))n=t;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ol(e,r,n).apply(this,i).pipe(fP.mapOneOrManyArgs(t))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ol(e,r).apply(this,i).pipe(dP.subscribeOn(n),vP.observeOn(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=new pP.AsyncSubject,l=!0;return new lP.Observable(function(s){var f=u.subscribe(s);if(l){l=!1;var v=!1,m=!1;r.apply(i,lp(lp([],sP(o)),[function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];if(e){var y=b.shift();if(y!=null){u.error(y);return}}u.next(1<b.length?b:b[0]),m=!0,v&&u.complete()}])),m&&u.complete(),v=!0}return f})}}ur.bindCallbackInternals=ol});var dp=d(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.bindCallback=void 0;var hP=al();function mP(e,r,t){return hP.bindCallbackInternals(!1,e,r,t)}Ko.bindCallback=mP});var fp=d(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.bindNodeCallback=void 0;var yP=al();function _P(e,r,t){return yP.bindCallbackInternals(!0,e,r,t)}Jo.bindNodeCallback=_P});var ul=d(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.argsArgArrayOrObject=void 0;var bP=Array.isArray,gP=Object.getPrototypeOf,OP=Object.prototype,wP=Object.keys;function SP(e){if(e.length===1){var r=e[0];if(bP(r))return{args:r,keys:null};if(PP(r)){var t=wP(r);return{args:t.map(function(n){return r[n]}),keys:t}}}return{args:e,keys:null}}Qo.argsArgArrayOrObject=SP;function PP(e){return e&&typeof e=="object"&&gP(e)===OP}});var sl=d(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.createObject=void 0;function qP(e,r){return e.reduce(function(t,n,i){return t[n]=r[i],t},{})}Xo.createObject=qP});var ea=d(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.combineLatestInit=cn.combineLatest=void 0;var jP=z(),CP=ul(),hp=Ve(),mp=K(),IP=ar(),vp=ce(),AP=sl(),xP=C(),TP=De();function EP(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=vp.popScheduler(e),n=vp.popResultSelector(e),i=CP.argsArgArrayOrObject(e),o=i.args,a=i.keys;if(o.length===0)return hp.from([],t);var u=new jP.Observable(yp(o,t,a?function(l){return AP.createObject(a,l)}:mp.identity));return n?u.pipe(IP.mapOneOrManyArgs(n)):u}cn.combineLatest=EP;function yp(e,r,t){return t===void 0&&(t=mp.identity),function(n){pp(r,function(){for(var i=e.length,o=new Array(i),a=i,u=i,l=function(f){pp(r,function(){var v=hp.from(e[f],r),m=!1;v.subscribe(xP.createOperatorSubscriber(n,function(b){o[f]=b,m||(m=!0,u--),u||n.next(t(o.slice()))},function(){--a||n.complete()}))},n)},s=0;s<i;s++)l(s)},n)}}cn.combineLatestInit=yp;function pp(e,r,t){e?TP.executeSchedule(t,e,r):r()}});var ta=d(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.mergeInternals=void 0;var MP=F(),kP=De(),_p=C();function FP(e,r,t,n,i,o,a,u){var l=[],s=0,f=0,v=!1,m=function(){v&&!l.length&&!s&&r.complete()},b=function(y){return s<n?g(y):l.push(y)},g=function(y){o&&r.next(y),s++;var _=!1;MP.innerFrom(t(y,f++)).subscribe(_p.createOperatorSubscriber(r,function(O){i==null||i(O),o?b(O):r.next(O)},function(){_=!0},void 0,function(){if(_)try{s--;for(var O=function(){var R=l.shift();a?kP.executeSchedule(r,a,function(){return g(R)}):g(R)};l.length&&s<n;)O();m()}catch(R){r.error(R)}}))};return e.subscribe(_p.createOperatorSubscriber(r,b,function(){v=!0,m()})),function(){u==null||u()}}ra.mergeInternals=FP});var We=d(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.mergeMap=void 0;var RP=ir(),ZP=F(),UP=j(),LP=ta(),NP=L();function bp(e,r,t){return t===void 0&&(t=1/0),NP.isFunction(r)?bp(function(n,i){return RP.map(function(o,a){return r(n,o,i,a)})(ZP.innerFrom(e(n,i)))},t):(typeof r=="number"&&(t=r),UP.operate(function(n,i){return LP.mergeInternals(n,i,e,t)}))}na.mergeMap=bp});var Xn=d(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.mergeAll=void 0;var zP=We(),DP=K();function VP(e){return e===void 0&&(e=1/0),zP.mergeMap(DP.identity,e)}ia.mergeAll=VP});var aa=d(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.concatAll=void 0;var $P=Xn();function WP(){return $P.mergeAll(1)}oa.concatAll=WP});var ei=d(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.concat=void 0;var BP=aa(),GP=ce(),YP=Ve();function HP(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return BP.concatAll()(YP.from(e,GP.popScheduler(e)))}ua.concat=HP});var ri=d(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.defer=void 0;var KP=z(),JP=F();function QP(e){return new KP.Observable(function(r){JP.innerFrom(e()).subscribe(r)})}sa.defer=QP});var gp=d(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.connectable=void 0;var XP=J(),eq=z(),rq=ri(),tq={connector:function(){return new XP.Subject},resetOnDisconnect:!0};function nq(e,r){r===void 0&&(r=tq);var t=null,n=r.connector,i=r.resetOnDisconnect,o=i===void 0?!0:i,a=n(),u=new eq.Observable(function(l){return a.subscribe(l)});return u.connect=function(){return(!t||t.closed)&&(t=rq.defer(function(){return e}).subscribe(a),o&&t.add(function(){return a=n()})),t},u}ca.connectable=nq});var Op=d(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.forkJoin=void 0;var iq=z(),oq=ul(),aq=F(),uq=ce(),sq=C(),cq=ar(),lq=sl();function dq(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=uq.popResultSelector(e),n=oq.argsArgArrayOrObject(e),i=n.args,o=n.keys,a=new iq.Observable(function(u){var l=i.length;if(!l){u.complete();return}for(var s=new Array(l),f=l,v=l,m=function(g){var y=!1;aq.innerFrom(i[g]).subscribe(sq.createOperatorSubscriber(u,function(_){y||(y=!0,v--),s[g]=_},function(){return f--},void 0,function(){(!f||!y)&&(v||u.next(o?lq.createObject(o,s):s),u.complete())}))},b=0;b<l;b++)m(b)});return t?a.pipe(cq.mapOneOrManyArgs(t)):a}la.forkJoin=dq});var Sp=d(ln=>{"use strict";var fq=ln&&ln.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(ln,"__esModule",{value:!0});ln.fromEvent=void 0;var vq=F(),pq=z(),hq=We(),mq=yo(),tt=L(),yq=ar(),_q=["addListener","removeListener"],bq=["addEventListener","removeEventListener"],gq=["on","off"];function cl(e,r,t,n){if(tt.isFunction(t)&&(n=t,t=void 0),n)return cl(e,r,t).pipe(yq.mapOneOrManyArgs(n));var i=fq(Sq(e)?bq.map(function(u){return function(l){return e[u](r,l,t)}}):Oq(e)?_q.map(wp(e,r)):wq(e)?gq.map(wp(e,r)):[],2),o=i[0],a=i[1];if(!o&&mq.isArrayLike(e))return hq.mergeMap(function(u){return cl(u,r,t)})(vq.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new pq.Observable(function(u){var l=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return u.next(1<s.length?s:s[0])};return o(l),function(){return a(l)}})}ln.fromEvent=cl;function wp(e,r){return function(t){return function(n){return e[t](r,n)}}}function Oq(e){return tt.isFunction(e.addListener)&&tt.isFunction(e.removeListener)}function wq(e){return tt.isFunction(e.on)&&tt.isFunction(e.off)}function Sq(e){return tt.isFunction(e.addEventListener)&&tt.isFunction(e.removeEventListener)}});var qp=d(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.fromEventPattern=void 0;var Pq=z(),qq=L(),jq=ar();function Pp(e,r,t){return t?Pp(e,r).pipe(jq.mapOneOrManyArgs(t)):new Pq.Observable(function(n){var i=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return n.next(a.length===1?a[0]:a)},o=e(i);return qq.isFunction(r)?function(){return r(i,o)}:void 0})}da.fromEventPattern=Pp});var Cp=d(dn=>{"use strict";var Cq=dn&&dn.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(f){return l([s,f])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(f){s=[6,f],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(dn,"__esModule",{value:!0});dn.generate=void 0;var jp=K(),Iq=Kn(),Aq=ri(),xq=Qc();function Tq(e,r,t,n,i){var o,a,u,l;arguments.length===1?(o=e,l=o.initialState,r=o.condition,t=o.iterate,a=o.resultSelector,u=a===void 0?jp.identity:a,i=o.scheduler):(l=e,!n||Iq.isScheduler(n)?(u=jp.identity,i=n):u=n);function s(){var f;return Cq(this,function(v){switch(v.label){case 0:f=l,v.label=1;case 1:return!r||r(f)?[4,u(f)]:[3,4];case 2:v.sent(),v.label=3;case 3:return f=t(f),[3,1];case 4:return[2]}})}return Aq.defer(i?function(){return xq.scheduleIterable(s(),i)}:s)}dn.generate=Tq});var Ip=d(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.iif=void 0;var Eq=ri();function Mq(e,r,t){return Eq.defer(function(){return e()?r:t})}fa.iif=Mq});var sr=d(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.timer=void 0;var kq=z(),Fq=se(),Rq=Kn(),Zq=Go();function Uq(e,r,t){e===void 0&&(e=0),t===void 0&&(t=Fq.async);var n=-1;return r!=null&&(Rq.isScheduler(r)?t=r:n=r),new kq.Observable(function(i){var o=Zq.isValidDate(e)?+e-t.now():e;o<0&&(o=0);var a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}va.timer=Uq});var ll=d(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.interval=void 0;var Lq=se(),Nq=sr();function zq(e,r){return e===void 0&&(e=0),r===void 0&&(r=Lq.asyncScheduler),e<0&&(e=0),Nq.timer(e,e,r)}pa.interval=zq});var xp=d(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.merge=void 0;var Dq=Xn(),Vq=F(),$q=Oe(),Ap=ce(),Wq=Ve();function Bq(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Ap.popScheduler(e),n=Ap.popNumber(e,1/0),i=e;return i.length?i.length===1?Vq.innerFrom(i[0]):Dq.mergeAll(n)(Wq.from(i,t)):$q.EMPTY}ha.merge=Bq});var dl=d(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.never=nt.NEVER=void 0;var Gq=z(),Yq=H();nt.NEVER=new Gq.Observable(Yq.noop);function Hq(){return nt.NEVER}nt.never=Hq});var fn=d(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.argsOrArgArray=void 0;var Kq=Array.isArray;function Jq(e){return e.length===1&&Kq(e[0])?e[0]:e}ma.argsOrArgArray=Jq});var fl=d(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.onErrorResumeNext=void 0;var Qq=z(),Xq=fn(),ej=C(),Tp=H(),rj=F();function tj(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Xq.argsOrArgArray(e);return new Qq.Observable(function(n){var i=0,o=function(){if(i<t.length){var a=void 0;try{a=rj.innerFrom(t[i++])}catch{o();return}var u=new ej.OperatorSubscriber(n,void 0,Tp.noop,Tp.noop);a.subscribe(u),u.add(o)}else n.complete()};o()})}ya.onErrorResumeNext=tj});var Ep=d(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.pairs=void 0;var nj=Ve();function ij(e,r){return nj.from(Object.entries(e),r)}_a.pairs=ij});var Mp=d(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.not=void 0;function oj(e,r){return function(t,n){return!e.call(r,t,n)}}ba.not=oj});var it=d(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.filter=void 0;var aj=j(),uj=C();function sj(e,r){return aj.operate(function(t,n){var i=0;t.subscribe(uj.createOperatorSubscriber(n,function(o){return e.call(r,o,i++)&&n.next(o)}))})}ga.filter=sj});var Rp=d(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.partition=void 0;var cj=Mp(),kp=it(),Fp=F();function lj(e,r,t){return[kp.filter(r,t)(Fp.innerFrom(e)),kp.filter(cj.not(r,t))(Fp.innerFrom(e))]}Oa.partition=lj});var vl=d(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.raceInit=vn.race=void 0;var dj=z(),Zp=F(),fj=fn(),vj=C();function pj(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e=fj.argsOrArgArray(e),e.length===1?Zp.innerFrom(e[0]):new dj.Observable(Up(e))}vn.race=pj;function Up(e){return function(r){for(var t=[],n=function(o){t.push(Zp.innerFrom(e[o]).subscribe(vj.createOperatorSubscriber(r,function(a){if(t){for(var u=0;u<t.length;u++)u!==o&&t[u].unsubscribe();t=null}r.next(a)})))},i=0;t&&!r.closed&&i<e.length;i++)n(i)}}vn.raceInit=Up});var Lp=d(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.range=void 0;var hj=z(),mj=Oe();function yj(e,r,t){if(r==null&&(r=e,e=0),r<=0)return mj.EMPTY;var n=r+e;return new hj.Observable(t?function(i){var o=e;return t.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<n&&!i.closed;)i.next(o++);i.complete()})}wa.range=yj});var Np=d(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.using=void 0;var _j=z(),bj=F(),gj=Oe();function Oj(e,r){return new _j.Observable(function(t){var n=e(),i=r(n),o=i?bj.innerFrom(i):gj.EMPTY;return o.subscribe(t),function(){n&&n.unsubscribe()}})}Sa.using=Oj});var Pa=d(cr=>{"use strict";var wj=cr&&cr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Sj=cr&&cr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(cr,"__esModule",{value:!0});cr.zip=void 0;var Pj=z(),qj=F(),jj=fn(),Cj=Oe(),Ij=C(),Aj=ce();function xj(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Aj.popResultSelector(e),n=jj.argsOrArgArray(e);return n.length?new Pj.Observable(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var u=function(s){qj.innerFrom(n[s]).subscribe(Ij.createOperatorSubscriber(i,function(f){if(o[s].push(f),o.every(function(m){return m.length})){var v=o.map(function(m){return m.shift()});i.next(t?t.apply(void 0,Sj([],wj(v))):v),o.some(function(m,b){return!m.length&&a[b]})&&i.complete()}},function(){a[s]=!0,!o[s].length&&i.complete()}))},l=0;!i.closed&&l<n.length;l++)u(l);return function(){o=a=null}}):Cj.EMPTY}cr.zip=xj});var Dp=d(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0})});var pl=d(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.audit=void 0;var Tj=j(),Ej=F(),Vp=C();function Mj(e){return Tj.operate(function(r,t){var n=!1,i=null,o=null,a=!1,u=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var s=i;i=null,t.next(s)}a&&t.complete()},l=function(){o=null,a&&t.complete()};r.subscribe(Vp.createOperatorSubscriber(t,function(s){n=!0,i=s,o||Ej.innerFrom(e(s)).subscribe(o=Vp.createOperatorSubscriber(t,u,l))},function(){a=!0,(!n||!o||o.closed)&&t.complete()}))})}qa.audit=Mj});var $p=d(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.auditTime=void 0;var kj=se(),Fj=pl(),Rj=sr();function Zj(e,r){return r===void 0&&(r=kj.asyncScheduler),Fj.audit(function(){return Rj.timer(e,r)})}ja.auditTime=Zj});var Bp=d(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.buffer=void 0;var Uj=j(),Lj=H(),Wp=C(),Nj=F();function zj(e){return Uj.operate(function(r,t){var n=[];return r.subscribe(Wp.createOperatorSubscriber(t,function(i){return n.push(i)},function(){t.next(n),t.complete()})),Nj.innerFrom(e).subscribe(Wp.createOperatorSubscriber(t,function(){var i=n;n=[],t.next(i)},Lj.noop)),function(){n=null}})}Ca.buffer=zj});var Gp=d(pn=>{"use strict";var hl=pn&&pn.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(pn,"__esModule",{value:!0});pn.bufferCount=void 0;var Dj=j(),Vj=C(),$j=ze();function Wj(e,r){return r===void 0&&(r=null),r=r!=null?r:e,Dj.operate(function(t,n){var i=[],o=0;t.subscribe(Vj.createOperatorSubscriber(n,function(a){var u,l,s,f,v=null;o++%r===0&&i.push([]);try{for(var m=hl(i),b=m.next();!b.done;b=m.next()){var g=b.value;g.push(a),e<=g.length&&(v=v!=null?v:[],v.push(g))}}catch(O){u={error:O}}finally{try{b&&!b.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}if(v)try{for(var y=hl(v),_=y.next();!_.done;_=y.next()){var g=_.value;$j.arrRemove(i,g),n.next(g)}}catch(O){s={error:O}}finally{try{_&&!_.done&&(f=y.return)&&f.call(y)}finally{if(s)throw s.error}}},function(){var a,u;try{for(var l=hl(i),s=l.next();!s.done;s=l.next()){var f=s.value;n.next(f)}}catch(v){a={error:v}}finally{try{s&&!s.done&&(u=l.return)&&u.call(l)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}pn.bufferCount=Wj});var Hp=d(hn=>{"use strict";var Bj=hn&&hn.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hn,"__esModule",{value:!0});hn.bufferTime=void 0;var Gj=de(),Yj=j(),Hj=C(),Kj=ze(),Jj=se(),Qj=ce(),Yp=De();function Xj(e){for(var r,t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=Qj.popScheduler(n))!==null&&r!==void 0?r:Jj.asyncScheduler,a=(t=n[0])!==null&&t!==void 0?t:null,u=n[1]||1/0;return Yj.operate(function(l,s){var f=[],v=!1,m=function(y){var _=y.buffer,O=y.subs;O.unsubscribe(),Kj.arrRemove(f,y),s.next(_),v&&b()},b=function(){if(f){var y=new Gj.Subscription;s.add(y);var _=[],O={buffer:_,subs:y};f.push(O),Yp.executeSchedule(y,o,function(){return m(O)},e)}};a!==null&&a>=0?Yp.executeSchedule(s,o,b,a,!0):v=!0,b();var g=Hj.createOperatorSubscriber(s,function(y){var _,O,R=f.slice();try{for(var V=Bj(R),G=V.next();!G.done;G=V.next()){var ye=G.value,B=ye.buffer;B.push(y),u<=B.length&&m(ye)}}catch(wr){_={error:wr}}finally{try{G&&!G.done&&(O=V.return)&&O.call(V)}finally{if(_)throw _.error}}},function(){for(;f!=null&&f.length;)s.next(f.shift().buffer);g==null||g.unsubscribe(),s.complete(),s.unsubscribe()},void 0,function(){return f=null});l.subscribe(g)})}hn.bufferTime=Xj});var Qp=d(mn=>{"use strict";var eC=mn&&mn.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mn,"__esModule",{value:!0});mn.bufferToggle=void 0;var rC=de(),tC=j(),Kp=F(),ml=C(),Jp=H(),nC=ze();function iC(e,r){return tC.operate(function(t,n){var i=[];Kp.innerFrom(e).subscribe(ml.createOperatorSubscriber(n,function(o){var a=[];i.push(a);var u=new rC.Subscription,l=function(){nC.arrRemove(i,a),n.next(a),u.unsubscribe()};u.add(Kp.innerFrom(r(o)).subscribe(ml.createOperatorSubscriber(n,l,Jp.noop)))},Jp.noop)),t.subscribe(ml.createOperatorSubscriber(n,function(o){var a,u;try{for(var l=eC(i),s=l.next();!s.done;s=l.next()){var f=s.value;f.push(o)}}catch(v){a={error:v}}finally{try{s&&!s.done&&(u=l.return)&&u.call(l)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}mn.bufferToggle=iC});var eh=d(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.bufferWhen=void 0;var oC=j(),aC=H(),Xp=C(),uC=F();function sC(e){return oC.operate(function(r,t){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&t.next(a),uC.innerFrom(e()).subscribe(i=Xp.createOperatorSubscriber(t,o,aC.noop))};o(),r.subscribe(Xp.createOperatorSubscriber(t,function(a){return n==null?void 0:n.push(a)},function(){n&&t.next(n),t.complete()},void 0,function(){return n=i=null}))})}Ia.bufferWhen=sC});var th=d(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.catchError=void 0;var cC=F(),lC=C(),dC=j();function rh(e){return dC.operate(function(r,t){var n=null,i=!1,o;n=r.subscribe(lC.createOperatorSubscriber(t,void 0,void 0,function(a){o=cC.innerFrom(e(a,rh(e)(r))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}Aa.catchError=rh});var yl=d(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.scanInternals=void 0;var fC=C();function vC(e,r,t,n,i){return function(o,a){var u=t,l=r,s=0;o.subscribe(fC.createOperatorSubscriber(a,function(f){var v=s++;l=u?e(l,f,v):(u=!0,f),n&&a.next(l)},i&&(function(){u&&a.next(l),a.complete()})))}}xa.scanInternals=vC});var yn=d(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.reduce=void 0;var pC=yl(),hC=j();function mC(e,r){return hC.operate(pC.scanInternals(e,r,arguments.length>=2,!1,!0))}Ta.reduce=mC});var _l=d(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.toArray=void 0;var yC=yn(),_C=j(),bC=function(e,r){return e.push(r),e};function gC(){return _C.operate(function(e,r){yC.reduce(bC,[])(e).subscribe(r)})}Ea.toArray=gC});var bl=d(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.joinAllInternals=void 0;var OC=K(),wC=ar(),SC=Bn(),PC=We(),qC=_l();function jC(e,r){return SC.pipe(qC.toArray(),PC.mergeMap(function(t){return e(t)}),r?wC.mapOneOrManyArgs(r):OC.identity)}Ma.joinAllInternals=jC});var gl=d(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.combineLatestAll=void 0;var CC=ea(),IC=bl();function AC(e){return IC.joinAllInternals(CC.combineLatest,e)}ka.combineLatestAll=AC});var nh=d(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.combineAll=void 0;var xC=gl();Fa.combineAll=xC.combineLatestAll});var uh=d(lr=>{"use strict";var ih=lr&&lr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},oh=lr&&lr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(lr,"__esModule",{value:!0});lr.combineLatest=void 0;var TC=ea(),EC=j(),MC=fn(),kC=ar(),FC=Bn(),RC=ce();function ah(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=RC.popResultSelector(e);return t?FC.pipe(ah.apply(void 0,oh([],ih(e))),kC.mapOneOrManyArgs(t)):EC.operate(function(n,i){TC.combineLatestInit(oh([n],ih(MC.argsOrArgArray(e))))(i)})}lr.combineLatest=ah});var sh=d(dr=>{"use strict";var ZC=dr&&dr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},UC=dr&&dr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(dr,"__esModule",{value:!0});dr.combineLatestWith=void 0;var LC=uh();function NC(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return LC.combineLatest.apply(void 0,UC([],ZC(e)))}dr.combineLatestWith=NC});var Ol=d(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.concatMap=void 0;var ch=We(),zC=L();function DC(e,r){return zC.isFunction(r)?ch.mergeMap(e,r,1):ch.mergeMap(e,1)}Ra.concatMap=DC});var dh=d(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.concatMapTo=void 0;var lh=Ol(),VC=L();function $C(e,r){return VC.isFunction(r)?lh.concatMap(function(){return e},r):lh.concatMap(function(){return e})}Za.concatMapTo=$C});var fh=d(fr=>{"use strict";var WC=fr&&fr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},BC=fr&&fr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(fr,"__esModule",{value:!0});fr.concat=void 0;var GC=j(),YC=aa(),HC=ce(),KC=Ve();function JC(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=HC.popScheduler(e);return GC.operate(function(n,i){YC.concatAll()(KC.from(BC([n],WC(e)),t)).subscribe(i)})}fr.concat=JC});var vh=d(vr=>{"use strict";var QC=vr&&vr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},XC=vr&&vr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(vr,"__esModule",{value:!0});vr.concatWith=void 0;var eI=fh();function rI(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return eI.concat.apply(void 0,XC([],QC(e)))}vr.concatWith=rI});var ph=d(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.fromSubscribable=void 0;var tI=z();function nI(e){return new tI.Observable(function(r){return e.subscribe(r)})}Ua.fromSubscribable=nI});var Na=d(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.connect=void 0;var iI=J(),oI=F(),aI=j(),uI=ph(),sI={connector:function(){return new iI.Subject}};function cI(e,r){r===void 0&&(r=sI);var t=r.connector;return aI.operate(function(n,i){var o=t();oI.innerFrom(e(uI.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}La.connect=cI});var hh=d(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.count=void 0;var lI=yn();function dI(e){return lI.reduce(function(r,t,n){return!e||e(t,n)?r+1:r},0)}za.count=dI});var yh=d(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.debounce=void 0;var fI=j(),vI=H(),mh=C(),pI=F();function hI(e){return fI.operate(function(r,t){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var u=i;i=null,t.next(u)}};r.subscribe(mh.createOperatorSubscriber(t,function(u){o==null||o.unsubscribe(),n=!0,i=u,o=mh.createOperatorSubscriber(t,a,vI.noop),pI.innerFrom(e(u)).subscribe(o)},function(){a(),t.complete()},void 0,function(){i=o=null}))})}Da.debounce=hI});var _h=d(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.debounceTime=void 0;var mI=se(),yI=j(),_I=C();function bI(e,r){return r===void 0&&(r=mI.asyncScheduler),yI.operate(function(t,n){var i=null,o=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var s=o;o=null,n.next(s)}};function l(){var s=a+e,f=r.now();if(f<s){i=this.schedule(void 0,s-f),n.add(i);return}u()}t.subscribe(_I.createOperatorSubscriber(n,function(s){o=s,a=r.now(),i||(i=r.schedule(l,e),n.add(i))},function(){u(),n.complete()},void 0,function(){o=i=null}))})}Va.debounceTime=bI});var ti=d($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.defaultIfEmpty=void 0;var gI=j(),OI=C();function wI(e){return gI.operate(function(r,t){var n=!1;r.subscribe(OI.createOperatorSubscriber(t,function(i){n=!0,t.next(i)},function(){n||t.next(e),t.complete()}))})}$a.defaultIfEmpty=wI});var ni=d(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.take=void 0;var SI=Oe(),PI=j(),qI=C();function jI(e){return e<=0?function(){return SI.EMPTY}:PI.operate(function(r,t){var n=0;r.subscribe(qI.createOperatorSubscriber(t,function(i){++n<=e&&(t.next(i),e<=n&&t.complete())}))})}Wa.take=jI});var wl=d(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ignoreElements=void 0;var CI=j(),II=C(),AI=H();function xI(){return CI.operate(function(e,r){e.subscribe(II.createOperatorSubscriber(r,AI.noop))})}Ba.ignoreElements=xI});var Sl=d(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.mapTo=void 0;var TI=ir();function EI(e){return TI.map(function(){return e})}Ga.mapTo=EI});var Pl=d(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.delayWhen=void 0;var MI=ei(),bh=ni(),kI=wl(),FI=Sl(),RI=We(),ZI=F();function gh(e,r){return r?function(t){return MI.concat(r.pipe(bh.take(1),kI.ignoreElements()),t.pipe(gh(e)))}:RI.mergeMap(function(t,n){return ZI.innerFrom(e(t,n)).pipe(bh.take(1),FI.mapTo(t))})}Ya.delayWhen=gh});var Oh=d(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.delay=void 0;var UI=se(),LI=Pl(),NI=sr();function zI(e,r){r===void 0&&(r=UI.asyncScheduler);var t=NI.timer(e,r);return LI.delayWhen(function(){return t})}Ha.delay=zI});var wh=d(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.dematerialize=void 0;var DI=Uo(),VI=j(),$I=C();function WI(){return VI.operate(function(e,r){e.subscribe($I.createOperatorSubscriber(r,function(t){return DI.observeNotification(t,r)}))})}Ka.dematerialize=WI});var Ph=d(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.distinct=void 0;var BI=j(),Sh=C(),GI=H(),YI=F();function HI(e,r){return BI.operate(function(t,n){var i=new Set;t.subscribe(Sh.createOperatorSubscriber(n,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),n.next(o))})),r&&YI.innerFrom(r).subscribe(Sh.createOperatorSubscriber(n,function(){return i.clear()},GI.noop))})}Ja.distinct=HI});var ql=d(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.distinctUntilChanged=void 0;var KI=K(),JI=j(),QI=C();function XI(e,r){return r===void 0&&(r=KI.identity),e=e!=null?e:eA,JI.operate(function(t,n){var i,o=!0;t.subscribe(QI.createOperatorSubscriber(n,function(a){var u=r(a);(o||!e(i,u))&&(o=!1,i=u,n.next(a))}))})}Qa.distinctUntilChanged=XI;function eA(e,r){return e===r}});var qh=d(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.distinctUntilKeyChanged=void 0;var rA=ql();function tA(e,r){return rA.distinctUntilChanged(function(t,n){return r?r(t[e],n[e]):t[e]===n[e]})}Xa.distinctUntilKeyChanged=tA});var ii=d(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.throwIfEmpty=void 0;var nA=nr(),iA=j(),oA=C();function aA(e){return e===void 0&&(e=uA),iA.operate(function(r,t){var n=!1;r.subscribe(oA.createOperatorSubscriber(t,function(i){n=!0,t.next(i)},function(){return n?t.complete():t.error(e())}))})}eu.throwIfEmpty=aA;function uA(){return new nA.EmptyError}});var Ch=d(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.elementAt=void 0;var jh=tl(),sA=it(),cA=ii(),lA=ti(),dA=ni();function fA(e,r){if(e<0)throw new jh.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(sA.filter(function(i,o){return o===e}),dA.take(1),t?lA.defaultIfEmpty(r):cA.throwIfEmpty(function(){return new jh.ArgumentOutOfRangeError}))}}ru.elementAt=fA});var Ih=d(pr=>{"use strict";var vA=pr&&pr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},pA=pr&&pr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(pr,"__esModule",{value:!0});pr.endWith=void 0;var hA=ei(),mA=Ro();function yA(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return hA.concat(t,mA.of.apply(void 0,pA([],vA(e))))}}pr.endWith=yA});var Ah=d(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.every=void 0;var _A=j(),bA=C();function gA(e,r){return _A.operate(function(t,n){var i=0;t.subscribe(bA.createOperatorSubscriber(n,function(o){e.call(r,o,i++,t)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}tu.every=gA});var jl=d(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.exhaustMap=void 0;var OA=ir(),xh=F(),wA=j(),Th=C();function Eh(e,r){return r?function(t){return t.pipe(Eh(function(n,i){return xh.innerFrom(e(n,i)).pipe(OA.map(function(o,a){return r(n,o,i,a)}))}))}:wA.operate(function(t,n){var i=0,o=null,a=!1;t.subscribe(Th.createOperatorSubscriber(n,function(u){o||(o=Th.createOperatorSubscriber(n,void 0,function(){o=null,a&&n.complete()}),xh.innerFrom(e(u,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}nu.exhaustMap=Eh});var Cl=d(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.exhaustAll=void 0;var SA=jl(),PA=K();function qA(){return SA.exhaustMap(PA.identity)}iu.exhaustAll=qA});var Mh=d(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.exhaust=void 0;var jA=Cl();ou.exhaust=jA.exhaustAll});var kh=d(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.expand=void 0;var CA=j(),IA=ta();function AA(e,r,t){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,CA.operate(function(n,i){return IA.mergeInternals(n,i,e,r,void 0,!0,t)})}au.expand=AA});var Fh=d(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.finalize=void 0;var xA=j();function TA(e){return xA.operate(function(r,t){try{r.subscribe(t)}finally{t.add(e)}})}uu.finalize=TA});var Il=d(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.createFind=_n.find=void 0;var EA=j(),MA=C();function kA(e,r){return EA.operate(Rh(e,r,"value"))}_n.find=kA;function Rh(e,r,t){var n=t==="index";return function(i,o){var a=0;i.subscribe(MA.createOperatorSubscriber(o,function(u){var l=a++;e.call(r,u,l,i)&&(o.next(n?l:u),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}_n.createFind=Rh});var Zh=d(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.findIndex=void 0;var FA=j(),RA=Il();function ZA(e,r){return FA.operate(RA.createFind(e,r,"index"))}su.findIndex=ZA});var Uh=d(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.first=void 0;var UA=nr(),LA=it(),NA=ni(),zA=ti(),DA=ii(),VA=K();function $A(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?LA.filter(function(i,o){return e(i,o,n)}):VA.identity,NA.take(1),t?zA.defaultIfEmpty(r):DA.throwIfEmpty(function(){return new UA.EmptyError}))}}cu.first=$A});var Nh=d(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.groupBy=void 0;var WA=z(),BA=F(),GA=J(),YA=j(),Lh=C();function HA(e,r,t,n){return YA.operate(function(i,o){var a;!r||typeof r=="function"?a=r:(t=r.duration,a=r.element,n=r.connector);var u=new Map,l=function(g){u.forEach(g),g(o)},s=function(g){return l(function(y){return y.error(g)})},f=0,v=!1,m=new Lh.OperatorSubscriber(o,function(g){try{var y=e(g),_=u.get(y);if(!_){u.set(y,_=n?n():new GA.Subject);var O=b(y,_);if(o.next(O),t){var R=Lh.createOperatorSubscriber(_,function(){_.complete(),R==null||R.unsubscribe()},void 0,void 0,function(){return u.delete(y)});m.add(BA.innerFrom(t(O)).subscribe(R))}}_.next(a?a(g):g)}catch(V){s(V)}},function(){return l(function(g){return g.complete()})},s,function(){return u.clear()},function(){return v=!0,f===0});i.subscribe(m);function b(g,y){var _=new WA.Observable(function(O){f++;var R=y.subscribe(O);return function(){R.unsubscribe(),--f===0&&v&&m.unsubscribe()}});return _.key=g,_}})}lu.groupBy=HA});var zh=d(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.isEmpty=void 0;var KA=j(),JA=C();function QA(){return KA.operate(function(e,r){e.subscribe(JA.createOperatorSubscriber(r,function(){r.next(!1),r.complete()},function(){r.next(!0),r.complete()}))})}du.isEmpty=QA});var Al=d(bn=>{"use strict";var XA=bn&&bn.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bn,"__esModule",{value:!0});bn.takeLast=void 0;var ex=Oe(),rx=j(),tx=C();function nx(e){return e<=0?function(){return ex.EMPTY}:rx.operate(function(r,t){var n=[];r.subscribe(tx.createOperatorSubscriber(t,function(i){n.push(i),e<n.length&&n.shift()},function(){var i,o;try{for(var a=XA(n),u=a.next();!u.done;u=a.next()){var l=u.value;t.next(l)}}catch(s){i={error:s}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}t.complete()},void 0,function(){n=null}))})}bn.takeLast=nx});var Dh=d(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.last=void 0;var ix=nr(),ox=it(),ax=Al(),ux=ii(),sx=ti(),cx=K();function lx(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?ox.filter(function(i,o){return e(i,o,n)}):cx.identity,ax.takeLast(1),t?sx.defaultIfEmpty(r):ux.throwIfEmpty(function(){return new ix.EmptyError}))}}fu.last=lx});var Vh=d(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.materialize=void 0;var xl=Uo(),dx=j(),fx=C();function vx(){return dx.operate(function(e,r){e.subscribe(fx.createOperatorSubscriber(r,function(t){r.next(xl.Notification.createNext(t))},function(){r.next(xl.Notification.createComplete()),r.complete()},function(t){r.next(xl.Notification.createError(t)),r.complete()}))})}vu.materialize=vx});var $h=d(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.max=void 0;var px=yn(),hx=L();function mx(e){return px.reduce(hx.isFunction(e)?function(r,t){return e(r,t)>0?r:t}:function(r,t){return r>t?r:t})}pu.max=mx});var Wh=d(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.flatMap=void 0;var yx=We();hu.flatMap=yx.mergeMap});var Gh=d(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.mergeMapTo=void 0;var Bh=We(),_x=L();function bx(e,r,t){return t===void 0&&(t=1/0),_x.isFunction(r)?Bh.mergeMap(function(){return e},r,t):(typeof r=="number"&&(t=r),Bh.mergeMap(function(){return e},t))}mu.mergeMapTo=bx});var Yh=d(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.mergeScan=void 0;var gx=j(),Ox=ta();function wx(e,r,t){return t===void 0&&(t=1/0),gx.operate(function(n,i){var o=r;return Ox.mergeInternals(n,i,function(a,u){return e(o,a,u)},t,function(a){o=a},!1,void 0,function(){return o=null})})}yu.mergeScan=wx});var Kh=d(hr=>{"use strict";var Sx=hr&&hr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Px=hr&&hr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(hr,"__esModule",{value:!0});hr.merge=void 0;var qx=j(),jx=Xn(),Hh=ce(),Cx=Ve();function Ix(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Hh.popScheduler(e),n=Hh.popNumber(e,1/0);return qx.operate(function(i,o){jx.mergeAll(n)(Cx.from(Px([i],Sx(e)),t)).subscribe(o)})}hr.merge=Ix});var Jh=d(mr=>{"use strict";var Ax=mr&&mr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},xx=mr&&mr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(mr,"__esModule",{value:!0});mr.mergeWith=void 0;var Tx=Kh();function Ex(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Tx.merge.apply(void 0,xx([],Ax(e)))}mr.mergeWith=Ex});var Qh=d(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.min=void 0;var Mx=yn(),kx=L();function Fx(e){return Mx.reduce(kx.isFunction(e)?function(r,t){return e(r,t)<0?r:t}:function(r,t){return r<t?r:t})}_u.min=Fx});var gu=d(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.multicast=void 0;var Rx=Gn(),Xh=L(),Zx=Na();function Ux(e,r){var t=Xh.isFunction(e)?e:function(){return e};return Xh.isFunction(r)?Zx.connect(r,{connector:t}):function(n){return new Rx.ConnectableObservable(n,t)}}bu.multicast=Ux});var rm=d(Me=>{"use strict";var Lx=Me&&Me.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Nx=Me&&Me.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(Me,"__esModule",{value:!0});Me.onErrorResumeNext=Me.onErrorResumeNextWith=void 0;var zx=fn(),Dx=fl();function em(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=zx.argsOrArgArray(e);return function(n){return Dx.onErrorResumeNext.apply(void 0,Nx([n],Lx(t)))}}Me.onErrorResumeNextWith=em;Me.onErrorResumeNext=em});var tm=d(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.pairwise=void 0;var Vx=j(),$x=C();function Wx(){return Vx.operate(function(e,r){var t,n=!1;e.subscribe($x.createOperatorSubscriber(r,function(i){var o=t;t=i,n&&r.next([o,i]),n=!0}))})}Ou.pairwise=Wx});var nm=d(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.pluck=void 0;var Bx=ir();function Gx(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return Bx.map(function(n){for(var i=n,o=0;o<t;o++){var a=i==null?void 0:i[e[o]];if(typeof a!="undefined")i=a;else return}return i})}wu.pluck=Gx});var im=d(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.publish=void 0;var Yx=J(),Hx=gu(),Kx=Na();function Jx(e){return e?function(r){return Kx.connect(e)(r)}:function(r){return Hx.multicast(new Yx.Subject)(r)}}Su.publish=Jx});var om=d(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.publishBehavior=void 0;var Qx=Lc(),Xx=Gn();function eT(e){return function(r){var t=new Qx.BehaviorSubject(e);return new Xx.ConnectableObservable(r,function(){return t})}}Pu.publishBehavior=eT});var am=d(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.publishLast=void 0;var rT=fo(),tT=Gn();function nT(){return function(e){var r=new rT.AsyncSubject;return new tT.ConnectableObservable(e,function(){return r})}}qu.publishLast=nT});var sm=d(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.publishReplay=void 0;var iT=lo(),oT=gu(),um=L();function aT(e,r,t,n){t&&!um.isFunction(t)&&(n=t);var i=um.isFunction(t)?t:void 0;return function(o){return oT.multicast(new iT.ReplaySubject(e,r,n),i)(o)}}ju.publishReplay=aT});var cm=d(yr=>{"use strict";var uT=yr&&yr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},sT=yr&&yr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(yr,"__esModule",{value:!0});yr.raceWith=void 0;var cT=vl(),lT=j(),dT=K();function fT(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?lT.operate(function(t,n){cT.raceInit(sT([t],uT(e)))(n)}):dT.identity}yr.raceWith=fT});var dm=d(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.repeat=void 0;var vT=Oe(),pT=j(),lm=C(),hT=F(),mT=sr();function yT(e){var r,t=1/0,n;return e!=null&&(typeof e=="object"?(r=e.count,t=r===void 0?1/0:r,n=e.delay):t=e),t<=0?function(){return vT.EMPTY}:pT.operate(function(i,o){var a=0,u,l=function(){if(u==null||u.unsubscribe(),u=null,n!=null){var f=typeof n=="number"?mT.timer(n):hT.innerFrom(n(a)),v=lm.createOperatorSubscriber(o,function(){v.unsubscribe(),s()});f.subscribe(v)}else s()},s=function(){var f=!1;u=i.subscribe(lm.createOperatorSubscriber(o,void 0,function(){++a<t?u?l():f=!0:o.complete()})),f&&l()};s()})}Cu.repeat=yT});var vm=d(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.repeatWhen=void 0;var _T=F(),bT=J(),gT=j(),fm=C();function OT(e){return gT.operate(function(r,t){var n,i=!1,o,a=!1,u=!1,l=function(){return u&&a&&(t.complete(),!0)},s=function(){return o||(o=new bT.Subject,_T.innerFrom(e(o)).subscribe(fm.createOperatorSubscriber(t,function(){n?f():i=!0},function(){a=!0,l()}))),o},f=function(){u=!1,n=r.subscribe(fm.createOperatorSubscriber(t,void 0,function(){u=!0,!l()&&s().next()})),i&&(n.unsubscribe(),n=null,i=!1,f())};f()})}Iu.repeatWhen=OT});var hm=d(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.retry=void 0;var wT=j(),pm=C(),ST=K(),PT=sr(),qT=F();function jT(e){e===void 0&&(e=1/0);var r;e&&typeof e=="object"?r=e:r={count:e};var t=r.count,n=t===void 0?1/0:t,i=r.delay,o=r.resetOnSuccess,a=o===void 0?!1:o;return n<=0?ST.identity:wT.operate(function(u,l){var s=0,f,v=function(){var m=!1;f=u.subscribe(pm.createOperatorSubscriber(l,function(b){a&&(s=0),l.next(b)},void 0,function(b){if(s++<n){var g=function(){f?(f.unsubscribe(),f=null,v()):m=!0};if(i!=null){var y=typeof i=="number"?PT.timer(i):qT.innerFrom(i(b,s)),_=pm.createOperatorSubscriber(l,function(){_.unsubscribe(),g()},function(){l.complete()});y.subscribe(_)}else g()}else l.error(b)})),m&&(f.unsubscribe(),f=null,v())};v()})}Au.retry=jT});var ym=d(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.retryWhen=void 0;var CT=F(),IT=J(),AT=j(),mm=C();function xT(e){return AT.operate(function(r,t){var n,i=!1,o,a=function(){n=r.subscribe(mm.createOperatorSubscriber(t,void 0,void 0,function(u){o||(o=new IT.Subject,CT.innerFrom(e(o)).subscribe(mm.createOperatorSubscriber(t,function(){return n?a():i=!0}))),o&&o.next(u)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}xu.retryWhen=xT});var Tl=d(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.sample=void 0;var TT=F(),ET=j(),MT=H(),_m=C();function kT(e){return ET.operate(function(r,t){var n=!1,i=null;r.subscribe(_m.createOperatorSubscriber(t,function(o){n=!0,i=o})),TT.innerFrom(e).subscribe(_m.createOperatorSubscriber(t,function(){if(n){n=!1;var o=i;i=null,t.next(o)}},MT.noop))})}Tu.sample=kT});var bm=d(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.sampleTime=void 0;var FT=se(),RT=Tl(),ZT=ll();function UT(e,r){return r===void 0&&(r=FT.asyncScheduler),RT.sample(ZT.interval(e,r))}Eu.sampleTime=UT});var gm=d(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.scan=void 0;var LT=j(),NT=yl();function zT(e,r){return LT.operate(NT.scanInternals(e,r,arguments.length>=2,!0))}Mu.scan=zT});var wm=d(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.sequenceEqual=void 0;var DT=j(),VT=C(),$T=F();function WT(e,r){return r===void 0&&(r=function(t,n){return t===n}),DT.operate(function(t,n){var i=Om(),o=Om(),a=function(l){n.next(l),n.complete()},u=function(l,s){var f=VT.createOperatorSubscriber(n,function(v){var m=s.buffer,b=s.complete;m.length===0?b?a(!1):l.buffer.push(v):!r(v,m.shift())&&a(!1)},function(){l.complete=!0;var v=s.complete,m=s.buffer;v&&a(m.length===0),f==null||f.unsubscribe()});return f};t.subscribe(u(i,o)),$T.innerFrom(e).subscribe(u(o,i))})}ku.sequenceEqual=WT;function Om(){return{buffer:[],complete:!1}}});var Ml=d(_r=>{"use strict";var BT=_r&&_r.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},GT=_r&&_r.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(_r,"__esModule",{value:!0});_r.share=void 0;var Sm=F(),YT=J(),Pm=Nt(),HT=j();function KT(e){e===void 0&&(e={});var r=e.connector,t=r===void 0?function(){return new YT.Subject}:r,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,u=e.resetOnRefCountZero,l=u===void 0?!0:u;return function(s){var f,v,m,b=0,g=!1,y=!1,_=function(){v==null||v.unsubscribe(),v=void 0},O=function(){_(),f=m=void 0,g=y=!1},R=function(){var V=f;O(),V==null||V.unsubscribe()};return HT.operate(function(V,G){b++,!y&&!g&&_();var ye=m=m!=null?m:t();G.add(function(){b--,b===0&&!y&&!g&&(v=El(R,l))}),ye.subscribe(G),!f&&b>0&&(f=new Pm.SafeSubscriber({next:function(B){return ye.next(B)},error:function(B){y=!0,_(),v=El(O,i,B),ye.error(B)},complete:function(){g=!0,_(),v=El(O,a),ye.complete()}}),Sm.innerFrom(V).subscribe(f))})(s)}}_r.share=KT;function El(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(r===!0){e();return}if(r!==!1){var i=new Pm.SafeSubscriber({next:function(){i.unsubscribe(),e()}});return Sm.innerFrom(r.apply(void 0,GT([],BT(t)))).subscribe(i)}}});var qm=d(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.shareReplay=void 0;var JT=lo(),QT=Ml();function XT(e,r,t){var n,i,o,a,u=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,r=i===void 0?1/0:i,o=e.refCount,u=o===void 0?!1:o,t=e.scheduler):a=e!=null?e:1/0,QT.share({connector:function(){return new JT.ReplaySubject(a,r,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}Fu.shareReplay=XT});var jm=d(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.single=void 0;var eE=nr(),rE=il(),tE=nl(),nE=j(),iE=C();function oE(e){return nE.operate(function(r,t){var n=!1,i,o=!1,a=0;r.subscribe(iE.createOperatorSubscriber(t,function(u){o=!0,(!e||e(u,a++,r))&&(n&&t.error(new rE.SequenceError("Too many matching values")),n=!0,i=u)},function(){n?(t.next(i),t.complete()):t.error(o?new tE.NotFoundError("No matching values"):new eE.EmptyError)}))})}Ru.single=oE});var Cm=d(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.skip=void 0;var aE=it();function uE(e){return aE.filter(function(r,t){return e<=t})}Zu.skip=uE});var Im=d(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.skipLast=void 0;var sE=K(),cE=j(),lE=C();function dE(e){return e<=0?sE.identity:cE.operate(function(r,t){var n=new Array(e),i=0;return r.subscribe(lE.createOperatorSubscriber(t,function(o){var a=i++;if(a<e)n[a]=o;else{var u=a%e,l=n[u];n[u]=o,t.next(l)}})),function(){n=null}})}Uu.skipLast=dE});var xm=d(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.skipUntil=void 0;var fE=j(),Am=C(),vE=F(),pE=H();function hE(e){return fE.operate(function(r,t){var n=!1,i=Am.createOperatorSubscriber(t,function(){i==null||i.unsubscribe(),n=!0},pE.noop);vE.innerFrom(e).subscribe(i),r.subscribe(Am.createOperatorSubscriber(t,function(o){return n&&t.next(o)}))})}Lu.skipUntil=hE});var Tm=d(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.skipWhile=void 0;var mE=j(),yE=C();function _E(e){return mE.operate(function(r,t){var n=!1,i=0;r.subscribe(yE.createOperatorSubscriber(t,function(o){return(n||(n=!e(o,i++)))&&t.next(o)}))})}Nu.skipWhile=_E});var Mm=d(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.startWith=void 0;var Em=ei(),bE=ce(),gE=j();function OE(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=bE.popScheduler(e);return gE.operate(function(n,i){(t?Em.concat(e,n,t):Em.concat(e,n)).subscribe(i)})}zu.startWith=OE});var oi=d(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.switchMap=void 0;var wE=F(),SE=j(),km=C();function PE(e,r){return SE.operate(function(t,n){var i=null,o=0,a=!1,u=function(){return a&&!i&&n.complete()};t.subscribe(km.createOperatorSubscriber(n,function(l){i==null||i.unsubscribe();var s=0,f=o++;wE.innerFrom(e(l,f)).subscribe(i=km.createOperatorSubscriber(n,function(v){return n.next(r?r(l,v,f,s++):v)},function(){i=null,u()}))},function(){a=!0,u()}))})}Du.switchMap=PE});var Fm=d(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.switchAll=void 0;var qE=oi(),jE=K();function CE(){return qE.switchMap(jE.identity)}Vu.switchAll=CE});var Zm=d($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.switchMapTo=void 0;var Rm=oi(),IE=L();function AE(e,r){return IE.isFunction(r)?Rm.switchMap(function(){return e},r):Rm.switchMap(function(){return e})}$u.switchMapTo=AE});var Um=d(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.switchScan=void 0;var xE=oi(),TE=j();function EE(e,r){return TE.operate(function(t,n){var i=r;return xE.switchMap(function(o,a){return e(i,o,a)},function(o,a){return i=a,a})(t).subscribe(n),function(){i=null}})}Wu.switchScan=EE});var Lm=d(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.takeUntil=void 0;var ME=j(),kE=C(),FE=F(),RE=H();function ZE(e){return ME.operate(function(r,t){FE.innerFrom(e).subscribe(kE.createOperatorSubscriber(t,function(){return t.complete()},RE.noop)),!t.closed&&r.subscribe(t)})}Bu.takeUntil=ZE});var Nm=d(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.takeWhile=void 0;var UE=j(),LE=C();function NE(e,r){return r===void 0&&(r=!1),UE.operate(function(t,n){var i=0;t.subscribe(LE.createOperatorSubscriber(n,function(o){var a=e(o,i++);(a||r)&&n.next(o),!a&&n.complete()}))})}Gu.takeWhile=NE});var zm=d(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.tap=void 0;var zE=L(),DE=j(),VE=C(),$E=K();function WE(e,r,t){var n=zE.isFunction(e)||r||t?{next:e,error:r,complete:t}:e;return n?DE.operate(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var u=!0;i.subscribe(VE.createOperatorSubscriber(o,function(l){var s;(s=n.next)===null||s===void 0||s.call(n,l),o.next(l)},function(){var l;u=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},function(l){var s;u=!1,(s=n.error)===null||s===void 0||s.call(n,l),o.error(l)},function(){var l,s;u&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(s=n.finalize)===null||s===void 0||s.call(n)}))}):$E.identity}Yu.tap=WE});var kl=d(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.throttle=void 0;var BE=j(),Dm=C(),GE=F();function YE(e,r){return BE.operate(function(t,n){var i=r!=null?r:{},o=i.leading,a=o===void 0?!0:o,u=i.trailing,l=u===void 0?!1:u,s=!1,f=null,v=null,m=!1,b=function(){v==null||v.unsubscribe(),v=null,l&&(_(),m&&n.complete())},g=function(){v=null,m&&n.complete()},y=function(O){return v=GE.innerFrom(e(O)).subscribe(Dm.createOperatorSubscriber(n,b,g))},_=function(){if(s){s=!1;var O=f;f=null,n.next(O),!m&&y(O)}};t.subscribe(Dm.createOperatorSubscriber(n,function(O){s=!0,f=O,!(v&&!v.closed)&&(a?_():y(O))},function(){m=!0,!(l&&s&&v&&!v.closed)&&n.complete()}))})}Hu.throttle=YE});var Vm=d(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.throttleTime=void 0;var HE=se(),KE=kl(),JE=sr();function QE(e,r,t){r===void 0&&(r=HE.asyncScheduler);var n=JE.timer(e,r);return KE.throttle(function(){return n},t)}Ku.throttleTime=QE});var Wm=d(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.TimeInterval=gn.timeInterval=void 0;var XE=se(),eM=j(),rM=C();function tM(e){return e===void 0&&(e=XE.asyncScheduler),eM.operate(function(r,t){var n=e.now();r.subscribe(rM.createOperatorSubscriber(t,function(i){var o=e.now(),a=o-n;n=o,t.next(new $m(i,a))}))})}gn.timeInterval=tM;var $m=(function(){function e(r,t){this.value=r,this.interval=t}return e})();gn.TimeInterval=$m});var Bm=d(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.timeoutWith=void 0;var nM=se(),iM=Go(),oM=Yo();function aM(e,r,t){var n,i,o;if(t=t!=null?t:nM.async,iM.isValidDate(e)?n=e:typeof e=="number"&&(i=e),r)o=function(){return r};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return oM.timeout({first:n,each:i,scheduler:t,with:o})}Ju.timeoutWith=aM});var Gm=d(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.timestamp=void 0;var uM=co(),sM=ir();function cM(e){return e===void 0&&(e=uM.dateTimestampProvider),sM.map(function(r){return{value:r,timestamp:e.now()}})}Qu.timestamp=cM});var Km=d(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.window=void 0;var Ym=J(),lM=j(),Hm=C(),dM=H(),fM=F();function vM(e){return lM.operate(function(r,t){var n=new Ym.Subject;t.next(n.asObservable());var i=function(o){n.error(o),t.error(o)};return r.subscribe(Hm.createOperatorSubscriber(t,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),t.complete()},i)),fM.innerFrom(e).subscribe(Hm.createOperatorSubscriber(t,function(){n.complete(),t.next(n=new Ym.Subject)},dM.noop,i)),function(){n==null||n.unsubscribe(),n=null}})}Xu.window=vM});var Qm=d(On=>{"use strict";var pM=On&&On.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(On,"__esModule",{value:!0});On.windowCount=void 0;var Jm=J(),hM=j(),mM=C();function yM(e,r){r===void 0&&(r=0);var t=r>0?r:e;return hM.operate(function(n,i){var o=[new Jm.Subject],a=[],u=0;i.next(o[0].asObservable()),n.subscribe(mM.createOperatorSubscriber(i,function(l){var s,f;try{for(var v=pM(o),m=v.next();!m.done;m=v.next()){var b=m.value;b.next(l)}}catch(_){s={error:_}}finally{try{m&&!m.done&&(f=v.return)&&f.call(v)}finally{if(s)throw s.error}}var g=u-e+1;if(g>=0&&g%t===0&&o.shift().complete(),++u%t===0){var y=new Jm.Subject;o.push(y),i.next(y.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(l){for(;o.length>0;)o.shift().error(l);i.error(l)},function(){a=null,o=null}))})}On.windowCount=yM});var ey=d(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.windowTime=void 0;var _M=J(),bM=se(),gM=de(),OM=j(),wM=C(),SM=ze(),PM=ce(),Xm=De();function qM(e){for(var r,t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=PM.popScheduler(n))!==null&&r!==void 0?r:bM.asyncScheduler,a=(t=n[0])!==null&&t!==void 0?t:null,u=n[1]||1/0;return OM.operate(function(l,s){var f=[],v=!1,m=function(_){var O=_.window,R=_.subs;O.complete(),R.unsubscribe(),SM.arrRemove(f,_),v&&b()},b=function(){if(f){var _=new gM.Subscription;s.add(_);var O=new _M.Subject,R={window:O,subs:_,seen:0};f.push(R),s.next(O.asObservable()),Xm.executeSchedule(_,o,function(){return m(R)},e)}};a!==null&&a>=0?Xm.executeSchedule(s,o,b,a,!0):v=!0,b();var g=function(_){return f.slice().forEach(_)},y=function(_){g(function(O){var R=O.window;return _(R)}),_(s),s.unsubscribe()};return l.subscribe(wM.createOperatorSubscriber(s,function(_){g(function(O){O.window.next(_),u<=++O.seen&&m(O)})},function(){return y(function(_){return _.complete()})},function(_){return y(function(O){return O.error(_)})})),function(){f=null}})}es.windowTime=qM});var ny=d(wn=>{"use strict";var jM=wn&&wn.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(wn,"__esModule",{value:!0});wn.windowToggle=void 0;var CM=J(),IM=de(),AM=j(),ry=F(),Fl=C(),ty=H(),xM=ze();function TM(e,r){return AM.operate(function(t,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};ry.innerFrom(e).subscribe(Fl.createOperatorSubscriber(n,function(a){var u=new CM.Subject;i.push(u);var l=new IM.Subscription,s=function(){xM.arrRemove(i,u),u.complete(),l.unsubscribe()},f;try{f=ry.innerFrom(r(a))}catch(v){o(v);return}n.next(u.asObservable()),l.add(f.subscribe(Fl.createOperatorSubscriber(n,s,ty.noop,o)))},ty.noop)),t.subscribe(Fl.createOperatorSubscriber(n,function(a){var u,l,s=i.slice();try{for(var f=jM(s),v=f.next();!v.done;v=f.next()){var m=v.value;m.next(a)}}catch(b){u={error:b}}finally{try{v&&!v.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}wn.windowToggle=TM});var oy=d(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.windowWhen=void 0;var EM=J(),MM=j(),iy=C(),kM=F();function FM(e){return MM.operate(function(r,t){var n,i,o=function(u){n.error(u),t.error(u)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new EM.Subject,t.next(n.asObservable());var u;try{u=kM.innerFrom(e())}catch(l){o(l);return}u.subscribe(i=iy.createOperatorSubscriber(t,a,a,o))};a(),r.subscribe(iy.createOperatorSubscriber(t,function(u){return n.next(u)},function(){n.complete(),t.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}rs.windowWhen=FM});var cy=d(br=>{"use strict";var ay=br&&br.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},uy=br&&br.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(br,"__esModule",{value:!0});br.withLatestFrom=void 0;var RM=j(),sy=C(),ZM=F(),UM=K(),LM=H(),NM=ce();function zM(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=NM.popResultSelector(e);return RM.operate(function(n,i){for(var o=e.length,a=new Array(o),u=e.map(function(){return!1}),l=!1,s=function(v){ZM.innerFrom(e[v]).subscribe(sy.createOperatorSubscriber(i,function(m){a[v]=m,!l&&!u[v]&&(u[v]=!0,(l=u.every(UM.identity))&&(u=null))},LM.noop))},f=0;f<o;f++)s(f);n.subscribe(sy.createOperatorSubscriber(i,function(v){if(l){var m=uy([v],ay(a));i.next(t?t.apply(void 0,uy([],ay(m))):m)}}))})}br.withLatestFrom=zM});var ly=d(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.zipAll=void 0;var DM=Pa(),VM=bl();function $M(e){return VM.joinAllInternals(DM.zip,e)}ts.zipAll=$M});var dy=d(gr=>{"use strict";var WM=gr&&gr.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},BM=gr&&gr.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(gr,"__esModule",{value:!0});gr.zip=void 0;var GM=Pa(),YM=j();function HM(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return YM.operate(function(t,n){GM.zip.apply(void 0,BM([t],WM(e))).subscribe(n)})}gr.zip=HM});var fy=d(Or=>{"use strict";var KM=Or&&Or.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},JM=Or&&Or.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e};Object.defineProperty(Or,"__esModule",{value:!0});Or.zipWith=void 0;var QM=dy();function XM(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return QM.zip.apply(void 0,JM([],KM(e)))}Or.zipWith=XM});var by=d(c=>{"use strict";var ek=c&&c.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),rk=c&&c.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&ek(r,e,t)};Object.defineProperty(c,"__esModule",{value:!0});c.interval=c.iif=c.generate=c.fromEventPattern=c.fromEvent=c.from=c.forkJoin=c.empty=c.defer=c.connectable=c.concat=c.combineLatest=c.bindNodeCallback=c.bindCallback=c.UnsubscriptionError=c.TimeoutError=c.SequenceError=c.ObjectUnsubscribedError=c.NotFoundError=c.EmptyError=c.ArgumentOutOfRangeError=c.firstValueFrom=c.lastValueFrom=c.isObservable=c.identity=c.noop=c.pipe=c.NotificationKind=c.Notification=c.Subscriber=c.Subscription=c.Scheduler=c.VirtualAction=c.VirtualTimeScheduler=c.animationFrameScheduler=c.animationFrame=c.queueScheduler=c.queue=c.asyncScheduler=c.async=c.asapScheduler=c.asap=c.AsyncSubject=c.ReplaySubject=c.BehaviorSubject=c.Subject=c.animationFrames=c.observable=c.ConnectableObservable=c.Observable=void 0;c.filter=c.expand=c.exhaustMap=c.exhaustAll=c.exhaust=c.every=c.endWith=c.elementAt=c.distinctUntilKeyChanged=c.distinctUntilChanged=c.distinct=c.dematerialize=c.delayWhen=c.delay=c.defaultIfEmpty=c.debounceTime=c.debounce=c.count=c.connect=c.concatWith=c.concatMapTo=c.concatMap=c.concatAll=c.combineLatestWith=c.combineLatestAll=c.combineAll=c.catchError=c.bufferWhen=c.bufferToggle=c.bufferTime=c.bufferCount=c.buffer=c.auditTime=c.audit=c.config=c.NEVER=c.EMPTY=c.scheduled=c.zip=c.using=c.timer=c.throwError=c.range=c.race=c.partition=c.pairs=c.onErrorResumeNext=c.of=c.never=c.merge=void 0;c.switchMap=c.switchAll=c.subscribeOn=c.startWith=c.skipWhile=c.skipUntil=c.skipLast=c.skip=c.single=c.shareReplay=c.share=c.sequenceEqual=c.scan=c.sampleTime=c.sample=c.refCount=c.retryWhen=c.retry=c.repeatWhen=c.repeat=c.reduce=c.raceWith=c.publishReplay=c.publishLast=c.publishBehavior=c.publish=c.pluck=c.pairwise=c.onErrorResumeNextWith=c.observeOn=c.multicast=c.min=c.mergeWith=c.mergeScan=c.mergeMapTo=c.mergeMap=c.flatMap=c.mergeAll=c.max=c.materialize=c.mapTo=c.map=c.last=c.isEmpty=c.ignoreElements=c.groupBy=c.first=c.findIndex=c.find=c.finalize=void 0;c.zipWith=c.zipAll=c.withLatestFrom=c.windowWhen=c.windowToggle=c.windowTime=c.windowCount=c.window=c.toArray=c.timestamp=c.timeoutWith=c.timeout=c.timeInterval=c.throwIfEmpty=c.throttleTime=c.throttle=c.tap=c.takeWhile=c.takeUntil=c.takeLast=c.take=c.switchScan=c.switchMapTo=void 0;var tk=z();Object.defineProperty(c,"Observable",{enumerable:!0,get:function(){return tk.Observable}});var nk=Gn();Object.defineProperty(c,"ConnectableObservable",{enumerable:!0,get:function(){return nk.ConnectableObservable}});var ik=Wn();Object.defineProperty(c,"observable",{enumerable:!0,get:function(){return ik.observable}});var ok=yv();Object.defineProperty(c,"animationFrames",{enumerable:!0,get:function(){return ok.animationFrames}});var ak=J();Object.defineProperty(c,"Subject",{enumerable:!0,get:function(){return ak.Subject}});var uk=Lc();Object.defineProperty(c,"BehaviorSubject",{enumerable:!0,get:function(){return uk.BehaviorSubject}});var sk=lo();Object.defineProperty(c,"ReplaySubject",{enumerable:!0,get:function(){return sk.ReplaySubject}});var ck=fo();Object.defineProperty(c,"AsyncSubject",{enumerable:!0,get:function(){return ck.AsyncSubject}});var vy=kv();Object.defineProperty(c,"asap",{enumerable:!0,get:function(){return vy.asap}});Object.defineProperty(c,"asapScheduler",{enumerable:!0,get:function(){return vy.asapScheduler}});var py=se();Object.defineProperty(c,"async",{enumerable:!0,get:function(){return py.async}});Object.defineProperty(c,"asyncScheduler",{enumerable:!0,get:function(){return py.asyncScheduler}});var hy=Zv();Object.defineProperty(c,"queue",{enumerable:!0,get:function(){return hy.queue}});Object.defineProperty(c,"queueScheduler",{enumerable:!0,get:function(){return hy.queueScheduler}});var my=zv();Object.defineProperty(c,"animationFrame",{enumerable:!0,get:function(){return my.animationFrame}});Object.defineProperty(c,"animationFrameScheduler",{enumerable:!0,get:function(){return my.animationFrameScheduler}});var yy=$v();Object.defineProperty(c,"VirtualTimeScheduler",{enumerable:!0,get:function(){return yy.VirtualTimeScheduler}});Object.defineProperty(c,"VirtualAction",{enumerable:!0,get:function(){return yy.VirtualAction}});var lk=zc();Object.defineProperty(c,"Scheduler",{enumerable:!0,get:function(){return lk.Scheduler}});var dk=de();Object.defineProperty(c,"Subscription",{enumerable:!0,get:function(){return dk.Subscription}});var fk=Nt();Object.defineProperty(c,"Subscriber",{enumerable:!0,get:function(){return fk.Subscriber}});var _y=Uo();Object.defineProperty(c,"Notification",{enumerable:!0,get:function(){return _y.Notification}});Object.defineProperty(c,"NotificationKind",{enumerable:!0,get:function(){return _y.NotificationKind}});var vk=Bn();Object.defineProperty(c,"pipe",{enumerable:!0,get:function(){return vk.pipe}});var pk=H();Object.defineProperty(c,"noop",{enumerable:!0,get:function(){return pk.noop}});var hk=K();Object.defineProperty(c,"identity",{enumerable:!0,get:function(){return hk.identity}});var mk=up();Object.defineProperty(c,"isObservable",{enumerable:!0,get:function(){return mk.isObservable}});var yk=sp();Object.defineProperty(c,"lastValueFrom",{enumerable:!0,get:function(){return yk.lastValueFrom}});var _k=cp();Object.defineProperty(c,"firstValueFrom",{enumerable:!0,get:function(){return _k.firstValueFrom}});var bk=tl();Object.defineProperty(c,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return bk.ArgumentOutOfRangeError}});var gk=nr();Object.defineProperty(c,"EmptyError",{enumerable:!0,get:function(){return gk.EmptyError}});var Ok=nl();Object.defineProperty(c,"NotFoundError",{enumerable:!0,get:function(){return Ok.NotFoundError}});var wk=Fc();Object.defineProperty(c,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return wk.ObjectUnsubscribedError}});var Sk=il();Object.defineProperty(c,"SequenceError",{enumerable:!0,get:function(){return Sk.SequenceError}});var Pk=Yo();Object.defineProperty(c,"TimeoutError",{enumerable:!0,get:function(){return Pk.TimeoutError}});var qk=wc();Object.defineProperty(c,"UnsubscriptionError",{enumerable:!0,get:function(){return qk.UnsubscriptionError}});var jk=dp();Object.defineProperty(c,"bindCallback",{enumerable:!0,get:function(){return jk.bindCallback}});var Ck=fp();Object.defineProperty(c,"bindNodeCallback",{enumerable:!0,get:function(){return Ck.bindNodeCallback}});var Ik=ea();Object.defineProperty(c,"combineLatest",{enumerable:!0,get:function(){return Ik.combineLatest}});var Ak=ei();Object.defineProperty(c,"concat",{enumerable:!0,get:function(){return Ak.concat}});var xk=gp();Object.defineProperty(c,"connectable",{enumerable:!0,get:function(){return xk.connectable}});var Tk=ri();Object.defineProperty(c,"defer",{enumerable:!0,get:function(){return Tk.defer}});var Ek=Oe();Object.defineProperty(c,"empty",{enumerable:!0,get:function(){return Ek.empty}});var Mk=Op();Object.defineProperty(c,"forkJoin",{enumerable:!0,get:function(){return Mk.forkJoin}});var kk=Ve();Object.defineProperty(c,"from",{enumerable:!0,get:function(){return kk.from}});var Fk=Sp();Object.defineProperty(c,"fromEvent",{enumerable:!0,get:function(){return Fk.fromEvent}});var Rk=qp();Object.defineProperty(c,"fromEventPattern",{enumerable:!0,get:function(){return Rk.fromEventPattern}});var Zk=Cp();Object.defineProperty(c,"generate",{enumerable:!0,get:function(){return Zk.generate}});var Uk=Ip();Object.defineProperty(c,"iif",{enumerable:!0,get:function(){return Uk.iif}});var Lk=ll();Object.defineProperty(c,"interval",{enumerable:!0,get:function(){return Lk.interval}});var Nk=xp();Object.defineProperty(c,"merge",{enumerable:!0,get:function(){return Nk.merge}});var zk=dl();Object.defineProperty(c,"never",{enumerable:!0,get:function(){return zk.never}});var Dk=Ro();Object.defineProperty(c,"of",{enumerable:!0,get:function(){return Dk.of}});var Vk=fl();Object.defineProperty(c,"onErrorResumeNext",{enumerable:!0,get:function(){return Vk.onErrorResumeNext}});var $k=Ep();Object.defineProperty(c,"pairs",{enumerable:!0,get:function(){return $k.pairs}});var Wk=Rp();Object.defineProperty(c,"partition",{enumerable:!0,get:function(){return Wk.partition}});var Bk=vl();Object.defineProperty(c,"race",{enumerable:!0,get:function(){return Bk.race}});var Gk=Lp();Object.defineProperty(c,"range",{enumerable:!0,get:function(){return Gk.range}});var Yk=rl();Object.defineProperty(c,"throwError",{enumerable:!0,get:function(){return Yk.throwError}});var Hk=sr();Object.defineProperty(c,"timer",{enumerable:!0,get:function(){return Hk.timer}});var Kk=Np();Object.defineProperty(c,"using",{enumerable:!0,get:function(){return Kk.using}});var Jk=Pa();Object.defineProperty(c,"zip",{enumerable:!0,get:function(){return Jk.zip}});var Qk=el();Object.defineProperty(c,"scheduled",{enumerable:!0,get:function(){return Qk.scheduled}});var Xk=Oe();Object.defineProperty(c,"EMPTY",{enumerable:!0,get:function(){return Xk.EMPTY}});var eF=dl();Object.defineProperty(c,"NEVER",{enumerable:!0,get:function(){return eF.NEVER}});rk(Dp(),c);var rF=Ut();Object.defineProperty(c,"config",{enumerable:!0,get:function(){return rF.config}});var tF=pl();Object.defineProperty(c,"audit",{enumerable:!0,get:function(){return tF.audit}});var nF=$p();Object.defineProperty(c,"auditTime",{enumerable:!0,get:function(){return nF.auditTime}});var iF=Bp();Object.defineProperty(c,"buffer",{enumerable:!0,get:function(){return iF.buffer}});var oF=Gp();Object.defineProperty(c,"bufferCount",{enumerable:!0,get:function(){return oF.bufferCount}});var aF=Hp();Object.defineProperty(c,"bufferTime",{enumerable:!0,get:function(){return aF.bufferTime}});var uF=Qp();Object.defineProperty(c,"bufferToggle",{enumerable:!0,get:function(){return uF.bufferToggle}});var sF=eh();Object.defineProperty(c,"bufferWhen",{enumerable:!0,get:function(){return sF.bufferWhen}});var cF=th();Object.defineProperty(c,"catchError",{enumerable:!0,get:function(){return cF.catchError}});var lF=nh();Object.defineProperty(c,"combineAll",{enumerable:!0,get:function(){return lF.combineAll}});var dF=gl();Object.defineProperty(c,"combineLatestAll",{enumerable:!0,get:function(){return dF.combineLatestAll}});var fF=sh();Object.defineProperty(c,"combineLatestWith",{enumerable:!0,get:function(){return fF.combineLatestWith}});var vF=aa();Object.defineProperty(c,"concatAll",{enumerable:!0,get:function(){return vF.concatAll}});var pF=Ol();Object.defineProperty(c,"concatMap",{enumerable:!0,get:function(){return pF.concatMap}});var hF=dh();Object.defineProperty(c,"concatMapTo",{enumerable:!0,get:function(){return hF.concatMapTo}});var mF=vh();Object.defineProperty(c,"concatWith",{enumerable:!0,get:function(){return mF.concatWith}});var yF=Na();Object.defineProperty(c,"connect",{enumerable:!0,get:function(){return yF.connect}});var _F=hh();Object.defineProperty(c,"count",{enumerable:!0,get:function(){return _F.count}});var bF=yh();Object.defineProperty(c,"debounce",{enumerable:!0,get:function(){return bF.debounce}});var gF=_h();Object.defineProperty(c,"debounceTime",{enumerable:!0,get:function(){return gF.debounceTime}});var OF=ti();Object.defineProperty(c,"defaultIfEmpty",{enumerable:!0,get:function(){return OF.defaultIfEmpty}});var wF=Oh();Object.defineProperty(c,"delay",{enumerable:!0,get:function(){return wF.delay}});var SF=Pl();Object.defineProperty(c,"delayWhen",{enumerable:!0,get:function(){return SF.delayWhen}});var PF=wh();Object.defineProperty(c,"dematerialize",{enumerable:!0,get:function(){return PF.dematerialize}});var qF=Ph();Object.defineProperty(c,"distinct",{enumerable:!0,get:function(){return qF.distinct}});var jF=ql();Object.defineProperty(c,"distinctUntilChanged",{enumerable:!0,get:function(){return jF.distinctUntilChanged}});var CF=qh();Object.defineProperty(c,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return CF.distinctUntilKeyChanged}});var IF=Ch();Object.defineProperty(c,"elementAt",{enumerable:!0,get:function(){return IF.elementAt}});var AF=Ih();Object.defineProperty(c,"endWith",{enumerable:!0,get:function(){return AF.endWith}});var xF=Ah();Object.defineProperty(c,"every",{enumerable:!0,get:function(){return xF.every}});var TF=Mh();Object.defineProperty(c,"exhaust",{enumerable:!0,get:function(){return TF.exhaust}});var EF=Cl();Object.defineProperty(c,"exhaustAll",{enumerable:!0,get:function(){return EF.exhaustAll}});var MF=jl();Object.defineProperty(c,"exhaustMap",{enumerable:!0,get:function(){return MF.exhaustMap}});var kF=kh();Object.defineProperty(c,"expand",{enumerable:!0,get:function(){return kF.expand}});var FF=it();Object.defineProperty(c,"filter",{enumerable:!0,get:function(){return FF.filter}});var RF=Fh();Object.defineProperty(c,"finalize",{enumerable:!0,get:function(){return RF.finalize}});var ZF=Il();Object.defineProperty(c,"find",{enumerable:!0,get:function(){return ZF.find}});var UF=Zh();Object.defineProperty(c,"findIndex",{enumerable:!0,get:function(){return UF.findIndex}});var LF=Uh();Object.defineProperty(c,"first",{enumerable:!0,get:function(){return LF.first}});var NF=Nh();Object.defineProperty(c,"groupBy",{enumerable:!0,get:function(){return NF.groupBy}});var zF=wl();Object.defineProperty(c,"ignoreElements",{enumerable:!0,get:function(){return zF.ignoreElements}});var DF=zh();Object.defineProperty(c,"isEmpty",{enumerable:!0,get:function(){return DF.isEmpty}});var VF=Dh();Object.defineProperty(c,"last",{enumerable:!0,get:function(){return VF.last}});var $F=ir();Object.defineProperty(c,"map",{enumerable:!0,get:function(){return $F.map}});var WF=Sl();Object.defineProperty(c,"mapTo",{enumerable:!0,get:function(){return WF.mapTo}});var BF=Vh();Object.defineProperty(c,"materialize",{enumerable:!0,get:function(){return BF.materialize}});var GF=$h();Object.defineProperty(c,"max",{enumerable:!0,get:function(){return GF.max}});var YF=Xn();Object.defineProperty(c,"mergeAll",{enumerable:!0,get:function(){return YF.mergeAll}});var HF=Wh();Object.defineProperty(c,"flatMap",{enumerable:!0,get:function(){return HF.flatMap}});var KF=We();Object.defineProperty(c,"mergeMap",{enumerable:!0,get:function(){return KF.mergeMap}});var JF=Gh();Object.defineProperty(c,"mergeMapTo",{enumerable:!0,get:function(){return JF.mergeMapTo}});var QF=Yh();Object.defineProperty(c,"mergeScan",{enumerable:!0,get:function(){return QF.mergeScan}});var XF=Jh();Object.defineProperty(c,"mergeWith",{enumerable:!0,get:function(){return XF.mergeWith}});var eR=Qh();Object.defineProperty(c,"min",{enumerable:!0,get:function(){return eR.min}});var rR=gu();Object.defineProperty(c,"multicast",{enumerable:!0,get:function(){return rR.multicast}});var tR=Jn();Object.defineProperty(c,"observeOn",{enumerable:!0,get:function(){return tR.observeOn}});var nR=rm();Object.defineProperty(c,"onErrorResumeNextWith",{enumerable:!0,get:function(){return nR.onErrorResumeNextWith}});var iR=tm();Object.defineProperty(c,"pairwise",{enumerable:!0,get:function(){return iR.pairwise}});var oR=nm();Object.defineProperty(c,"pluck",{enumerable:!0,get:function(){return oR.pluck}});var aR=im();Object.defineProperty(c,"publish",{enumerable:!0,get:function(){return aR.publish}});var uR=om();Object.defineProperty(c,"publishBehavior",{enumerable:!0,get:function(){return uR.publishBehavior}});var sR=am();Object.defineProperty(c,"publishLast",{enumerable:!0,get:function(){return sR.publishLast}});var cR=sm();Object.defineProperty(c,"publishReplay",{enumerable:!0,get:function(){return cR.publishReplay}});var lR=cm();Object.defineProperty(c,"raceWith",{enumerable:!0,get:function(){return lR.raceWith}});var dR=yn();Object.defineProperty(c,"reduce",{enumerable:!0,get:function(){return dR.reduce}});var fR=dm();Object.defineProperty(c,"repeat",{enumerable:!0,get:function(){return fR.repeat}});var vR=vm();Object.defineProperty(c,"repeatWhen",{enumerable:!0,get:function(){return vR.repeatWhen}});var pR=hm();Object.defineProperty(c,"retry",{enumerable:!0,get:function(){return pR.retry}});var hR=ym();Object.defineProperty(c,"retryWhen",{enumerable:!0,get:function(){return hR.retryWhen}});var mR=Mc();Object.defineProperty(c,"refCount",{enumerable:!0,get:function(){return mR.refCount}});var yR=Tl();Object.defineProperty(c,"sample",{enumerable:!0,get:function(){return yR.sample}});var _R=bm();Object.defineProperty(c,"sampleTime",{enumerable:!0,get:function(){return _R.sampleTime}});var bR=gm();Object.defineProperty(c,"scan",{enumerable:!0,get:function(){return bR.scan}});var gR=wm();Object.defineProperty(c,"sequenceEqual",{enumerable:!0,get:function(){return gR.sequenceEqual}});var OR=Ml();Object.defineProperty(c,"share",{enumerable:!0,get:function(){return OR.share}});var wR=qm();Object.defineProperty(c,"shareReplay",{enumerable:!0,get:function(){return wR.shareReplay}});var SR=jm();Object.defineProperty(c,"single",{enumerable:!0,get:function(){return SR.single}});var PR=Cm();Object.defineProperty(c,"skip",{enumerable:!0,get:function(){return PR.skip}});var qR=Im();Object.defineProperty(c,"skipLast",{enumerable:!0,get:function(){return qR.skipLast}});var jR=xm();Object.defineProperty(c,"skipUntil",{enumerable:!0,get:function(){return jR.skipUntil}});var CR=Tm();Object.defineProperty(c,"skipWhile",{enumerable:!0,get:function(){return CR.skipWhile}});var IR=Mm();Object.defineProperty(c,"startWith",{enumerable:!0,get:function(){return IR.startWith}});var AR=Qn();Object.defineProperty(c,"subscribeOn",{enumerable:!0,get:function(){return AR.subscribeOn}});var xR=Fm();Object.defineProperty(c,"switchAll",{enumerable:!0,get:function(){return xR.switchAll}});var TR=oi();Object.defineProperty(c,"switchMap",{enumerable:!0,get:function(){return TR.switchMap}});var ER=Zm();Object.defineProperty(c,"switchMapTo",{enumerable:!0,get:function(){return ER.switchMapTo}});var MR=Um();Object.defineProperty(c,"switchScan",{enumerable:!0,get:function(){return MR.switchScan}});var kR=ni();Object.defineProperty(c,"take",{enumerable:!0,get:function(){return kR.take}});var FR=Al();Object.defineProperty(c,"takeLast",{enumerable:!0,get:function(){return FR.takeLast}});var RR=Lm();Object.defineProperty(c,"takeUntil",{enumerable:!0,get:function(){return RR.takeUntil}});var ZR=Nm();Object.defineProperty(c,"takeWhile",{enumerable:!0,get:function(){return ZR.takeWhile}});var UR=zm();Object.defineProperty(c,"tap",{enumerable:!0,get:function(){return UR.tap}});var LR=kl();Object.defineProperty(c,"throttle",{enumerable:!0,get:function(){return LR.throttle}});var NR=Vm();Object.defineProperty(c,"throttleTime",{enumerable:!0,get:function(){return NR.throttleTime}});var zR=ii();Object.defineProperty(c,"throwIfEmpty",{enumerable:!0,get:function(){return zR.throwIfEmpty}});var DR=Wm();Object.defineProperty(c,"timeInterval",{enumerable:!0,get:function(){return DR.timeInterval}});var VR=Yo();Object.defineProperty(c,"timeout",{enumerable:!0,get:function(){return VR.timeout}});var $R=Bm();Object.defineProperty(c,"timeoutWith",{enumerable:!0,get:function(){return $R.timeoutWith}});var WR=Gm();Object.defineProperty(c,"timestamp",{enumerable:!0,get:function(){return WR.timestamp}});var BR=_l();Object.defineProperty(c,"toArray",{enumerable:!0,get:function(){return BR.toArray}});var GR=Km();Object.defineProperty(c,"window",{enumerable:!0,get:function(){return GR.window}});var YR=Qm();Object.defineProperty(c,"windowCount",{enumerable:!0,get:function(){return YR.windowCount}});var HR=ey();Object.defineProperty(c,"windowTime",{enumerable:!0,get:function(){return HR.windowTime}});var KR=ny();Object.defineProperty(c,"windowToggle",{enumerable:!0,get:function(){return KR.windowToggle}});var JR=oy();Object.defineProperty(c,"windowWhen",{enumerable:!0,get:function(){return JR.windowWhen}});var QR=cy();Object.defineProperty(c,"withLatestFrom",{enumerable:!0,get:function(){return QR.withLatestFrom}});var XR=ly();Object.defineProperty(c,"zipAll",{enumerable:!0,get:function(){return XR.zipAll}});var eZ=fy();Object.defineProperty(c,"zipWith",{enumerable:!0,get:function(){return eZ.zipWith}})});var wy=d(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.CopilotStudioWebChat=void 0;var rZ=tc(),tZ=yc(),Oy=by(),nZ=dt(),Be=(0,nZ.debug)("copilot-studio:webchat"),Rl=class{static createConnection(r,t){Be.info("--> Creating connection between Copilot Studio and WebChat ...");let n=0,i,o,a=new Oy.BehaviorSubject(0),u=gy(async f=>{if(i=f,a.value<2){a.next(2);return}Be.debug("--> Connection established."),s();for await(let v of r.startConversationAsync())delete v.replyToId,o=v.conversation,l(v)}),l=f=>{let v={...f,timestamp:new Date().toISOString(),channelData:{...f.channelData,"webchat:sequence-id":n}};n++,Be.debug(`Notify '${v.type}' activity to WebChat:`,v),i==null||i.next(v)},s=()=>{if(!(t!=null&&t.showTyping))return;let f=o?{id:o.id,name:o.name}:{id:"agent",name:"Agent"};l({type:"typing",from:f})};return{connectionStatus$:a,activity$:u,postActivity(f){if(Be.info("--> Preparing to send activity to Copilot Studio ..."),!f)throw new Error("Activity cannot be null.");if(!i)throw new Error("Activity subscriber is not initialized.");return gy(async v=>{try{Be.info("--> Sending activity to Copilot Studio ...");let m=tZ.Activity.fromObject({...f,id:(0,rZ.v4)(),attachments:await iZ(f)});l(m),s(),v.next(m.id);for await(let b of r.sendActivity(m))l(b),Be.info("<-- Activity received correctly from Copilot Studio.");v.complete()}catch(m){Be.error("Error sending Activity to Copilot Studio:",m),v.error(m)}})},end(){Be.info("--> Ending connection between Copilot Studio and WebChat ..."),a.complete(),i&&(i.complete(),i=void 0)}}}};ns.CopilotStudioWebChat=Rl;async function iZ(e){var r;if(e.type!=="message"||!(!((r=e.attachments)===null||r===void 0)&&r.length))return e.attachments||[];let t=[];for(let n of e.attachments){let i=await oZ(n);t.push(i)}return t}async function oZ(e){let r=e.contentUrl;if(!(r!=null&&r.startsWith("blob:")))return e;try{let t=await fetch(r);if(!t.ok)throw new Error(`Failed to fetch blob URL: ${t.status} ${t.statusText}`);let n=await t.blob(),i=await n.arrayBuffer(),o=aZ(i);r=`data:${n.type};base64,${o}`}catch(t){r=e.contentUrl,Be.error("Error processing blob attachment:",r,t)}return{...e,contentUrl:r}}function aZ(e){let r=typeof globalThis.Buffer=="function"?globalThis.Buffer:void 0;if(r&&typeof r.from=="function")return r.from(e).toString("base64");let t="";for(let n of new Uint8Array(e))t+=String.fromCharCode(n);return btoa(t)}function gy(e){return new Oy.Observable(r=>{Promise.resolve(e(r)).catch(t=>r.error(t))})}});var Sy=d(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.ExecuteTurnRequest=void 0;var Zl=class{constructor(r){this.activity=r}};is.ExecuteTurnRequest=Zl});var qy=d(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.PowerPlatformCloud=void 0;var Py;(function(e){e.Unknown="Unknown",e.Exp="Exp",e.Dev="Dev",e.Test="Test",e.Preprod="Preprod",e.FirstRelease="FirstRelease",e.Prod="Prod",e.Gov="Gov",e.High="High",e.DoD="DoD",e.Mooncake="Mooncake",e.Ex="Ex",e.Rx="Rx",e.Prv="Prv",e.Local="Local",e.GovFR="GovFR",e.Other="Other"})(Py||(os.PowerPlatformCloud=Py={}))});var Iy=d(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.getCopilotStudioConnectionUrl=Cy;us.getTokenAudience=lZ;var Ul=(li(),Fe(ls)),uZ=dt(),E=(di(),Fe(fs)),sZ=(_s(),Fe(Xl)),cZ=(bs(),Fe(ed)),Sn=(0,uZ.debug)("copilot-studio:power-platform");function Cy(e,r){var t,n,i,o,a,u;if(!((t=e.directConnectUrl)===null||t===void 0)&&t.trim()){if(Sn.debug(`Using direct connection: ${e.directConnectUrl}`),!ai(e.directConnectUrl))throw new Error("directConnectUrl must be a valid URL");return e.directConnectUrl.toLowerCase().includes("tenants/00000000-0000-0000-0000-000000000000")?(Sn.debug(`Direct connection cannot be used, forcing default settings flow. Tenant ID is missing in the URL: ${e.directConnectUrl}`),Cy({...e,directConnectUrl:""},r)):dZ(e.directConnectUrl,r).href}let l=(n=e.cloud)!==null&&n!==void 0?n:E.PowerPlatformCloud.Prod,s=(i=e.copilotAgentType)!==null&&i!==void 0?i:Ul.AgentType.Published;if(Sn.debug(`Using cloud setting: ${l}`),Sn.debug(`Using agent type: ${s}`),!(!((o=e.environmentId)===null||o===void 0)&&o.trim()))throw new Error("EnvironmentId must be provided");if(!(!((a=e.agentIdentifier)===null||a===void 0)&&a.trim()))throw new Error("AgentIdentifier must be provided");if(l===E.PowerPlatformCloud.Other)if(!((u=e.customPowerPlatformCloud)===null||u===void 0)&&u.trim())if(ai(e.customPowerPlatformCloud))Sn.debug(`Using custom Power Platform cloud: ${e.customPowerPlatformCloud}`);else throw new Error("customPowerPlatformCloud must be a valid URL");else throw new Error("customPowerPlatformCloud must be provided when PowerPlatformCloud is Other");let f=fZ(l,e.environmentId,e.customPowerPlatformCloud),m={[Ul.AgentType.Published]:()=>new cZ.PublishedBotStrategy({host:f,schema:e.agentIdentifier}),[Ul.AgentType.Prebuilt]:()=>new sZ.PrebuiltBotStrategy({host:f,identifier:e.agentIdentifier})}[s]().getConversationUrl(r);return Sn.debug(`Generated Copilot Studio connection URL: ${m}`),m}function lZ(e,r=E.PowerPlatformCloud.Unknown,t="",n=""){var i,o;if(!n&&!(e!=null&&e.directConnectUrl)){if(r===E.PowerPlatformCloud.Other&&!t)throw new Error("cloudBaseAddress must be provided when PowerPlatformCloudCategory is Other");if(!e&&r===E.PowerPlatformCloud.Unknown)throw new Error("Either settings or cloud must be provided");if(e&&e.cloud&&e.cloud!==E.PowerPlatformCloud.Unknown&&(r=e.cloud),r===E.PowerPlatformCloud.Other)if(t&&ai(t))r=E.PowerPlatformCloud.Other;else if(e!=null&&e.customPowerPlatformCloud&&ai(e.customPowerPlatformCloud))r=E.PowerPlatformCloud.Other,t=e.customPowerPlatformCloud;else throw new Error("Either CustomPowerPlatformCloud or cloudBaseAddress must be provided when PowerPlatformCloudCategory is Other");return t!=null||(t="api.unknown.powerplatform.com"),`https://${as(r,t)}/.default`}else if(n||(n=(i=e==null?void 0:e.directConnectUrl)!==null&&i!==void 0?i:""),n&&ai(n)){if(jy(new URL(n))===E.PowerPlatformCloud.Unknown){let a=(o=e==null?void 0:e.cloud)!==null&&o!==void 0?o:r;if(a===E.PowerPlatformCloud.Other||a===E.PowerPlatformCloud.Unknown)throw new Error("Unable to resolve the PowerPlatform Cloud from DirectConnectUrl. The Token Audience resolver requires a specific PowerPlatformCloudCategory.");if(a!==E.PowerPlatformCloud.Unknown)return`https://${as(a,"")}/.default`;throw new Error("Unable to resolve the PowerPlatform Cloud from DirectConnectUrl. The Token Audience resolver requires a specific PowerPlatformCloudCategory.")}return`https://${as(jy(new URL(n)),"")}/.default`}else throw new Error("DirectConnectUrl must be provided when DirectConnectUrl is set")}function ai(e){try{let r=e.startsWith("http")?e:`https://${e}`;return!!new URL(r)}catch{return!1}}function dZ(e,r){let t=new URL(e);return t.searchParams.has("api-version")||t.searchParams.append("api-version","2022-03-01-preview"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),t.pathname.includes("/conversations")&&(t.pathname=t.pathname.substring(0,t.pathname.indexOf("/conversations"))),t.pathname=`${t.pathname}/conversations`,r&&(t.pathname=`${t.pathname}/${r}`),t}function fZ(e,r,t){if(e===E.PowerPlatformCloud.Other&&(!t||!t.trim()))throw new Error("cloudBaseAddress must be provided when PowerPlatformCloud is Other");t=t!=null?t:"api.unknown.powerplatform.com";let n=r.toLowerCase().replaceAll("-",""),i=vZ(e),o=n.substring(0,n.length-i),a=n.substring(n.length-i);return new URL(`https://${o}.${a}.environment.${as(e,t)}`)}function as(e,r){switch(e){case E.PowerPlatformCloud.Local:return"api.powerplatform.localhost";case E.PowerPlatformCloud.Exp:return"api.exp.powerplatform.com";case E.PowerPlatformCloud.Dev:return"api.dev.powerplatform.com";case E.PowerPlatformCloud.Prv:return"api.prv.powerplatform.com";case E.PowerPlatformCloud.Test:return"api.test.powerplatform.com";case E.PowerPlatformCloud.Preprod:return"api.preprod.powerplatform.com";case E.PowerPlatformCloud.FirstRelease:case E.PowerPlatformCloud.Prod:return"api.powerplatform.com";case E.PowerPlatformCloud.GovFR:return"api.gov.powerplatform.microsoft.us";case E.PowerPlatformCloud.Gov:return"api.gov.powerplatform.microsoft.us";case E.PowerPlatformCloud.High:return"api.high.powerplatform.microsoft.us";case E.PowerPlatformCloud.DoD:return"api.appsplatform.us";case E.PowerPlatformCloud.Mooncake:return"api.powerplatform.partner.microsoftonline.cn";case E.PowerPlatformCloud.Ex:return"api.powerplatform.eaglex.ic.gov";case E.PowerPlatformCloud.Rx:return"api.powerplatform.microsoft.scloud";case E.PowerPlatformCloud.Other:return r;default:throw new Error(`Invalid cluster category value: ${e}`)}}function vZ(e){switch(e){case E.PowerPlatformCloud.FirstRelease:case E.PowerPlatformCloud.Prod:return 2;default:return 1}}function jy(e){switch(e.host.toLowerCase()){case"api.powerplatform.localhost":return E.PowerPlatformCloud.Local;case"api.exp.powerplatform.com":return E.PowerPlatformCloud.Exp;case"api.dev.powerplatform.com":return E.PowerPlatformCloud.Dev;case"api.prv.powerplatform.com":return E.PowerPlatformCloud.Prv;case"api.test.powerplatform.com":return E.PowerPlatformCloud.Test;case"api.preprod.powerplatform.com":return E.PowerPlatformCloud.Preprod;case"api.powerplatform.com":return E.PowerPlatformCloud.Prod;case"api.gov.powerplatform.microsoft.us":return E.PowerPlatformCloud.GovFR;case"api.high.powerplatform.microsoft.us":return E.PowerPlatformCloud.High;case"api.appsplatform.us":return E.PowerPlatformCloud.DoD;case"api.powerplatform.partner.microsoftonline.cn":return E.PowerPlatformCloud.Mooncake;default:return E.PowerPlatformCloud.Unknown}}});var P={};q(P,ke(Vl()));q(P,ke($l()));q(P,ke($f()));q(P,ke(Bf()));q(P,ke(wy()));q(P,ke(Sy()));q(P,ke(qy()));q(P,ke(Iy()));
//# sourceMappingURL=browser.mjs.map
